(()=>{var e={6547:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ze});var n=r(5861),o=r(5004),i=r(1779),a=r(5095),l=r(9356),s=r(8859),u=r(7842),d=r(3387),c=r(7168),f=r(2062),p=r(8716),h=r(2629);function m(){var e=(0,p.useNavigation)();return(0,h.jsxs)(u.default,{style:g.container,children:[(0,h.jsx)(d.default,{style:g.heading,children:"Politique de Confidentialit\xe9"}),(0,h.jsx)(d.default,{children:"Votre vie priv\xe9e est importante pour nous. Cette politique de confidentialit\xe9 explique comment nous collectons, utilisons et prot\xe9geons vos informations personnelles."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Informations que nous collectons"}),(0,h.jsx)(d.default,{children:"Lorsque vous utilisez notre application, nous pouvons collecter les informations suivantes :"}),(0,h.jsx)(d.default,{children:"- Votre Nom"}),(0,h.jsx)(d.default,{children:"- Votre Prenom"}),(0,h.jsx)(d.default,{children:"- Votre Adresse e-mail"}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Utilisation des informations"}),(0,h.jsx)(d.default,{children:"Nous utilisons les informations collect\xe9es pour am\xe9liorer notre service, personnaliser votre exp\xe9rience utilisateur."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Partage des informations"}),(0,h.jsx)(d.default,{children:"Nous ne partagerons pas vos informations personnelles avec des tiers sans votre consentement, sauf si requis par la loi."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"S\xe9curit\xe9 des informations"}),(0,h.jsx)(d.default,{children:"La s\xe9curit\xe9 de vos informations personnelles est importante pour nous, et nous mettons en \u0153uvre des mesures de s\xe9curit\xe9 pour les prot\xe9ger contre tout acc\xe8s non autoris\xe9."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Vos droits"}),(0,h.jsx)(d.default,{children:"Vous avez le droit d'acc\xe9der \xe0 vos informations personnelles, de les corriger ou de les anonymiser. Vous pouvez \xe9galement nous contacter pour exercer ces droits."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Contact"}),(0,h.jsx)(d.default,{children:"Si vous avez des questions concernant notre politique de confidentialit\xe9 ou vos informations personnelles, veuillez nous contacter \xe0 l'adresse vdhpauline@hotmail.com"}),(0,h.jsx)(f.default,{style:g.closeButton,onPress:function(){return e.navigate("Inscription")},children:(0,h.jsx)(d.default,{style:g.closeButtonText,children:"Fermer"})})]})}var g=c.default.create({container:{flex:1,padding:20},heading:{fontSize:20,fontWeight:"bold",marginBottom:10},sectionHeading:{fontSize:16,fontWeight:"bold",marginTop:10,marginBottom:5},closeButton:{backgroundColor:"#4d8194",padding:10,borderRadius:5,alignSelf:"center",marginTop:20},closeButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),y=r(885),x=(0,o.createContext)(null),b=function(e){var t=e.children,r=(0,o.useState)(null),i=(0,y.default)(r,2),a=i[0],l=i[1],s=(0,o.useState)(!1),u=(0,y.default)(s,2),d=u[0],c=u[1],f=(0,o.useState)(null),p=(0,y.default)(f,2),m=p[0],g=p[1],b=function(){var e=(0,n.default)((function*(){c(!1),l(null),g(null),yield AsyncStorage.removeItem("userToken")}));return function(){return e.apply(this,arguments)}}(),j={isSignedIn:d,setIsSignedIn:c,user:a,setUser:l,userRole:m,setUserRole:g,signOut:b};return(0,h.jsx)(x.Provider,{value:j,children:t})},j=function(){var e=(0,o.useContext)(x);if(!e)throw new Error("useUser doit \xeatre utilis\xe9 \xe0 l'int\xe9rieur d'un UserProvider");return e};var v=r(4942),w=r(8354),C=r(8299),S=r(1521),O=r(1159),T=r(5208),P=r(3916),k=r(6106),I=r(6367),D=r(5473),B=(r(5849),"https://rixbad.ovh:3030"),E=r(5596),z=r(4464),R=r(1270);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(){var e=(0,o.useState)(!1),t=(0,y.default)(e,2),r=t[0],i=t[1],a=(0,o.useState)(!1),l=(0,y.default)(a,2),s=l[0],c=l[1],m=(0,o.useState)(!1),g=(0,y.default)(m,2),x=g[0],b=g[1],j=(0,p.useNavigation)(),_=(0,o.useState)(""),A=(0,y.default)(_,2),$=A[0],W=A[1],H=(0,o.useState)(""),L=(0,y.default)(H,2),M=L[0],N=L[1],q=(0,o.useState)(null),U=(0,y.default)(q,2),J=(U[0],U[1],(0,o.useState)("")),G=(0,y.default)(J,2),Z=G[0],Q=G[1],K=(0,o.useState)(""),X=(0,y.default)(K,2),Y=X[0],ee=X[1],te=(0,o.useState)("joueur"),re=(0,y.default)(te,2),ne=re[0],oe=re[1],ie=(0,o.useState)(""),ae=(0,y.default)(ie,2),le=(ae[0],ae[1]),se=(0,o.useState)(null),ue=(0,y.default)(se,2),de=ue[0],ce=ue[1],fe=(0,o.useState)(null),pe=(0,y.default)(fe,2),he=pe[0],me=pe[1],ge=(0,o.useState)(null),ye=(0,y.default)(ge,2),xe=ye[0],be=ye[1],je=(0,o.useState)(!1),ve=(0,y.default)(je,2),we=ve[0],Ce=ve[1],Se=(0,o.useState)({nom:!1,prenom:!1,email:!1,password:!1,role:!1,classementSimple:!1,classementDouble:!1,classementMixte:!1}),Oe=(0,y.default)(Se,2),Te=Oe[0],Pe=Oe[1],ke=(0,o.useState)(!1),Ie=(0,y.default)(ke,2),De=Ie[0],Be=Ie[1],Ee=(0,o.useState)(!1),ze=(0,y.default)(Ee,2),Re=ze[0],Fe=ze[1],_e=(0,o.useState)(!1),Ve=(0,y.default)(_e,2),Ae=Ve[0],$e=Ve[1],We=(0,o.useState)(null),He=(0,y.default)(We,2),Le=He[0],Me=He[1],Ne=function(){var e=(0,n.default)((function*(){if(!Le)return"web"===k.default.OS?void window.alert("Merci de compl\xe9ter le captcha"):void S.default.alert("Merci de compl\xe9ter le captcha");var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Te),t=!1;if(""===$&&(e.nom=!0,t=!0),""===M&&(e.prenom=!0,t=!0),""===Z&&(e.email=!0,t=!0),""===Y&&(e.password=!0,t=!0),""===ne&&(e.role=!0,t=!0),null===de?(Be(!0),t=!0):Be(!1),null===he?(Fe(!0),t=!0):Fe(!1),null===xe?($e(!0),t=!0):$e(!1),Pe(e),t)"web"===k.default.OS?window.alert("Erreur: Tous les champs sont obligatoires."):S.default.alert("Erreur","Tous les champs sont obligatoires.");else if(Z.includes("@")&&Z.includes(".")){var n=/^(?=.*[A-Z])(?=.*[0-9])(?=.*[@#$%^&+=!])/.test(Y)&&Y.length>=8;if(!t&&n&&r){b(!0),c(!0);try{console.log("Avant l'envoi de la requ\xeate au serveur");var o=yield fetch(`${B}/users/postusers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:$,prenom:M,role:ne,email:Z,password:Y,classementSimple:de,classementDouble:he,classementMixte:xe,recaptchaToken:Le})});console.log("Apr\xe8s la r\xe9ponse du serveur");var i=yield o.json();if(201===o.status)console.log(o.status),console.log("Inscription r\xe9ussie"),"web"===k.default.OS?window.alert("Inscription r\xe9ussie."):S.default.alert("Succ\xe8s","Inscription r\xe9ussie."),j.navigate("Login");else if(400===o.status){"L'utilisateur avec cet e-mail existe d\xe9j\xe0."===i.message?"web"===k.default.OS?window.alert("Erreur: L'utilisateur avec cet e-mail existe d\xe9j\xe0."):S.default.alert("Erreur","L'utilisateur avec cet e-mail existe d\xe9j\xe0."):(console.error("Erreur lors de l'inscription: R\xe9ponse inattendue du serveur"),le("Erreur lors de l'inscription"))}else console.error("Erreur lors de l'inscription: R\xe9ponse inattendue du serveur"),le("Erreur lors de l'inscription")}catch(l){console.error("Erreur lors de l'inscription",l),le("Erreur lors de l'inscription")}b(!1),c(!1)}else{var a=t?" Tous les champs sont obligatoires.":n?"Vous devez accepter les conditions g\xe9n\xe9rales d'utilisation et la politique de confidentialit\xe9.":" Le mot de passe doit respecter les crit\xe8res suivants :\n\u2022 Contenir au moins une majuscule\n\u2022 Contenir au moins un caract\xe8re sp\xe9cial (@#$%^&+=!)\n\u2022 Contenir au moins un chiffre\n\u2022 Avoir une longueur minimale de 8 caract\xe8res.";"web"===k.default.OS?window.alert(a):S.default.alert("Erreur",a)}}else"web"===k.default.OS?window.alert("Erreur: L'adresse email doit contenir '@' et '.'."):S.default.alert("Erreur","L'adresse email doit contenir '@' et '.'.")}));return function(){return e.apply(this,arguments)}}();function qe(){return Array.from({length:12},(function(e,t){return(t+1).toString()})).map((function(e){return{label:e,value:e}}))}return(0,h.jsx)(I.default,{style:{flex:1,backgroundColor:"#fff"},children:(0,h.jsx)(P.default,{behavior:"ios"===k.default.OS?"padding":"height",style:{flex:1},children:(0,h.jsx)(T.default,{contentContainerStyle:{flexGrow:1,justifyContent:"space-between"},children:(0,h.jsxs)(u.default,{style:V.container,children:[(0,h.jsx)(d.default,{style:V.classementInfo,children:"* Classement 1 = le plus \xe9lev\xe9 , 12 = le plus bas"}),(0,h.jsx)(d.default,{style:V.heading,testID:"inscriptionText",children:"Inscription"}),(0,h.jsxs)(u.default,{style:V.inputContainer,children:[(0,h.jsxs)(u.default,{style:V.classementContainer,children:[(0,h.jsx)(d.default,{style:V.classementTitle,children:"Classements :"}),(0,h.jsxs)(u.default,{style:V.classementInputs,children:[(0,h.jsxs)(u.default,{style:[V.classementInput,{flex:1}],children:[(0,h.jsx)(d.default,{style:{color:De?"red":"black"},children:"Simple:"}),(0,h.jsx)(z.default,{onValueChange:function(e){return ce(e)},items:qe(),value:de,placeholder:{label:"A remplir",value:null}})]}),(0,h.jsxs)(u.default,{style:[V.classementInput,{flex:1}],children:[(0,h.jsx)(d.default,{style:{color:Re?"red":"black"},children:"Double:"}),(0,h.jsx)(z.default,{onValueChange:function(e){return me(e)},items:qe(),value:he,placeholder:{label:"A remplir",value:null}})]}),(0,h.jsxs)(u.default,{style:[V.classementInput,{flex:1}],children:[(0,h.jsx)(d.default,{style:{color:Ae?"red":"black"},children:"Mixte:"}),(0,h.jsx)(z.default,{onValueChange:function(e){return be(e)},items:qe(),value:xe,placeholder:{label:"A remplir",value:null}})]})]})]}),(0,h.jsx)(C.default,{placeholder:"Nom",value:$,onChangeText:function(e){return W(e)},style:[V.inputField,Te.nom&&{borderBottomColor:"red"}]}),(0,h.jsx)(C.default,{placeholder:"Prenom",value:M,onChangeText:function(e){return N(e)},style:[V.inputField,Te.nom&&{borderBottomColor:"red"}]}),(0,h.jsx)(C.default,{placeholder:"Email",value:Z,onChangeText:function(e){return Q(e)},style:[V.inputField,Te.nom&&{borderBottomColor:"red"}],keyboardType:"email-address",autoCapitalize:"none"}),(0,h.jsxs)(u.default,{style:V.inputContainer,children:[(0,h.jsx)(C.default,{placeholder:"Mot de passe",secureTextEntry:!we,value:Y,onChangeText:function(e){return ee(e)},style:[V.inputField,Te.nom&&{borderBottomColor:"red"}]}),(0,h.jsx)(f.default,{onPress:function(){Ce(!we)},style:V.eyeIcon,children:(0,h.jsx)(E.default,{name:we?"eye-slash":"eye",size:20,color:"#000"})})]}),(0,h.jsx)(u.default,{style:V.inputContainerRole,children:(0,h.jsx)(w.SelectList,{placeholder:"R\xf4le",setSelected:function(e){return oe(e)},data:[{key:"2",value:"joueur"}],save:"value",style:V.choix})})]}),(0,h.jsxs)(u.default,{style:V.switchContainer,children:[(0,h.jsx)(O.default,{value:r,onValueChange:function(){i(!r)},trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:r?"#f5dd4b":"#f4f3f4",ios_backgroundColor:"#3e3e3e",testID:"consentCheckbox"}),(0,h.jsxs)(d.default,{style:V.consentText,children:["J'accepte les conditions g\xe9n\xe9rales d'utilisation et la politique de confidentialit\xe9."," ",(0,h.jsx)(d.default,{style:V.linkText,onPress:function(){return j.navigate("PrivacyPolicy")},children:"En savoir plus."})]})]}),x?"ios"===k.default.OS||"android"===k.default.OS?(0,h.jsx)(D.default,{size:"large",color:"#0000ff"}):(0,h.jsx)(u.default,{style:V.loadingContainer,children:(0,h.jsx)(d.default,{style:V.loadingText,children:"Chargement..."})}):(0,h.jsx)(f.default,{style:V.button,onPress:Ne,testID:"inscriptionButton",disabled:s,children:(0,h.jsx)(d.default,{style:V.buttonText,children:"Inscription"})}),(0,h.jsx)(R.default,{sitekey:"6Lck5EwpAAAAAIep5GShlEp6jCs9Ugm_7WAsF6QS",onChange:function(e){Me(e),console.log("Captcha value:",e)}}),(0,h.jsxs)(u.default,{style:V.signupContainer,children:[(0,h.jsx)(d.default,{style:V.already,children:"Tu as deja un compte ?"}),(0,h.jsx)(f.default,{onPress:function(){return j.navigate("Login")},children:(0,h.jsx)(d.default,{style:V.signupLink,children:"Connecte-toi"})})]})]})})})})}var V=c.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#fff",padding:30,borderRadius:30,shadowColor:"rgba(0, 0, 0, 0.062)",shadowOffset:{width:0,height:0},shadowRadius:40},classementInfo:{position:"absolute",bottom:10,left:10,fontSize:12,color:"#333",paddingBottom:10},heading:{fontSize:26,color:"#2e2e2e",fontWeight:"bold",marginBottom:40},inputContainer:{width:"100%",position:"relative",marginBottom:30,marginTop:20},inputContainerRole:{width:"100%",position:"relative",marginBottom:20,display:"none"},inputField:{width:"100%",minHeight:60,borderBottomWidth:2,borderBottomColor:"rgb(173, 173, 173)",backgroundColor:"transparent",color:"black",fontSize:16,fontWeight:"500",paddingLeft:30},button:{width:"100%",borderWidth:2,borderColor:"#283b67",backgroundColor:"#4d8194",height:40,borderRadius:30,marginVertical:10,alignItems:"center",justifyContent:"center",marginTop:-20},buttonText:{color:"white",fontSize:16,fontWeight:"500",letterSpacing:1},signupContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:0,marginTop:20,marginBottom:20},signupLink:{fontSize:14,fontWeight:"500",backgroundColor:"#2e2e2e",color:"white",textDecorationLine:"none",paddingVertical:8,paddingHorizontal:15,borderRadius:20},already:{padding:5},eyeIcon:{position:"absolute",right:12,marginTop:20},classementContainer:{marginTop:7,marginBottom:10},classementTitle:{fontSize:18,fontWeight:"bold",marginBottom:10,color:"#333"},classementInputs:{flexDirection:"row",alignItems:"center"},classementInput:{flex:1,marginHorizontal:5},switchContainer:{flexDirection:"row",alignItems:"center",paddingBottom:30,paddingTop:-10},consentText:{marginLeft:10,fontSize:13,color:"#333"},linkText:{color:"#007bff",textDecorationLine:"underline"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:50,marginVertical:10},loadingText:{color:"#4d8194",fontSize:18,fontWeight:"bold"}}),A=r(2982),$=r(3604),W=r(8911),H=r(611);function L(e){var t=e.isOpen,r=e.content,n=e.onClose,o=e.children;return t?(0,h.jsxs)("div",{style:M,className:"custom-modal",children:[(0,h.jsx)("div",{style:N,onClick:n}),(0,h.jsxs)("div",{style:q,className:"modal-content",children:[(0,h.jsx)("div",{dangerouslySetInnerHTML:{__html:r}}),o,(0,h.jsx)("button",{style:U,onClick:n,className:"close-button",children:"Fermer"})]})]}):null}var M={position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:999},N={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:-1},q={backgroundColor:"#fff",padding:20,borderRadius:10,maxWidth:"400px",margin:"0 auto",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",position:"relative",fontFamily:"Arial"},U={position:"absolute",top:"5px",right:"5px",backgroundColor:"#ff6b6b",color:"#fff",padding:"2px 4px",fontSize:"12px",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold",textAlign:"center"},J=r(1667),G=r(955),Z=r(4994);const Q=c.default.create({container:{flex:1,padding:16,marginTop:40},eventContainer:{borderWidth:1,borderColor:"#ccc",padding:8,marginBottom:8},participationButtons:{flexDirection:"row",justifyContent:"space-between"},attendanceContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:20},matchItem:{borderWidth:1,borderColor:"#ccc",padding:8,marginBottom:16,backgroundColor:"#cee3ed",borderRadius:10},badmintonPlayer:{borderColor:"#ccc",padding:8,marginBottom:8,backgroundColor:"#00887e",borderRadius:10},legendButton:{padding:10,backgroundColor:"#e0e0e0",borderRadius:5,marginBottom:10},legendButtonText:{textAlign:"center",fontWeight:"bold"},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:"#214353",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},buttonClose:{backgroundColor:"#559ea2",borderRadius:20,padding:7,elevation:2,marginTop:15},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},legendTitle:{marginBottom:15,textAlign:"center",fontWeight:"bold",color:"#e4ebef"},legendText:{textAlign:"center",marginVertical:5,color:"#e4ebef"},eventItem:{backgroundColor:"#f9f9f9",padding:20,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3,marginBottom:20},eventTitle:{fontSize:18,fontWeight:"bold",color:"#467c86",marginBottom:5},eventTitle2:{fontSize:20,fontWeight:"bold",color:"#123e53",marginBottom:10,marginTop:10,textAlign:"center"},eventInfo:{fontSize:16,color:"#333333",marginBottom:5},participationButtons:{flexDirection:"row",justifyContent:"space-around",marginTop:10},confirmationMessage:{fontSize:16,color:"green",marginVertical:10,textAlign:"center"},modalViewPlayers:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5,minHeight:450,maxHeight:"90%"},modalText:{marginBottom:15,textAlign:"center",fontSize:16,color:"#333"},closeButtonText:{color:"white",fontWeight:"bold",textAlign:"center"},closeButton:{backgroundColor:"#2196F3",borderRadius:20,padding:10,elevation:2,marginTop:15},modalTitle:{fontSize:20,fontWeight:"bold",margin:10,color:"#000",textAlign:"center"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)"},colorselection:{marginTop:20,padding:10,backgroundColor:"#ccc",color:"black",borderRadius:10},colorOption:{width:50,height:50,margin:10,borderRadius:25},colorOptionText:{color:"white",fontWeight:"bold"},colorOptionContainer:{alignItems:"center",justifyContent:"center",marginBottom:10},closeButtonCouleur:{marginTop:20,padding:10,backgroundColor:"#ccc",borderRadius:10},closeButtonTextColor:{color:"black",textAlign:"center"},button:{alignItems:"center",backgroundColor:"#467c86",padding:12,borderRadius:15,margin:5,borderColor:"#000000",borderWidth:1,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},input:{height:50,borderColor:"#B0C4DE",borderWidth:1,marginBottom:15,paddingLeft:15,borderRadius:15,backgroundColor:"#F8F8FF",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},buttonText:{fontSize:18,color:"#FFFFFF"},title:{fontSize:24,color:"#123e53",textAlign:"center",marginTop:20,marginBottom:20,fontWeight:"bold"},buttonHeure:{alignItems:"Left",height:50,backgroundColor:"#F8F8FF",padding:10,paddingLeft:15,borderRadius:15,margin:5,borderColor:"#000000",borderWidth:1,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},buttonTextHeure:{paddingTop:15,fontSize:15,color:"#141607"},formContainer:{borderWidth:1,borderColor:"gray",borderRadius:10,padding:10,backgroundColor:"white",shadowColor:"black",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:4,elevation:4,marginBottom:17,marginTop:20},editButton:{color:"blue",marginTop:8},dateTimePickerContainer:{backgroundColor:"white",borderRadius:8,padding:16,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,marginTop:20},dateTimePicker:{},instructions:{marginTop:8,marginBottom:20,fontSize:16,color:"#333",fontWeight:"bold"},confirmButton:{backgroundColor:"#467c86",paddingVertical:10,paddingHorizontal:20,borderRadius:8,marginTop:16},confirmButtonText:{color:"white",fontSize:13,fontWeight:"bold",textAlign:"center"},closedRegistrationText:{color:"red",fontSize:16,fontWeight:"bold",textAlign:"center",marginTop:10,marginBottom:10},checkedBox:{width:20,height:20,borderRadius:5,backgroundColor:"#4CAF50",justifyContent:"center",alignItems:"center",marginRight:0,marginTop:7},uncheckedBox:{width:20,height:20,borderRadius:5,backgroundColor:"#FFF",borderColor:"#E0E0E0",borderWidth:1,justifyContent:"center",alignItems:"center",marginRight:0,marginTop:7},dropdownOverlay:{position:"relative",zIndex:1,backgroundColor:"white",padding:10,flexDirection:"row",flexWrap:"wrap",top:"0%",alignItems:"center",justifyContent:"center"},warningText:{color:"red",fontSize:16,fontWeight:"bold",textAlign:"center",marginTop:20,marginBottom:20}});var K=r(5618),X=(r(3716),r(9004)),Y=r(4361),ee=r(5465),te=r(6576),re=r(2571),ne=r(6255),oe=r(5616);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const le=function(e){var t=e.route,r=(0,o.useState)({}),i=(0,y.default)(r,2),a=i[0],l=i[1],c=(0,o.useState)({}),m=(0,y.default)(c,2),g=m[0],x=m[1],b=(0,o.useState)(null),v=(0,y.default)(b,2),O=v[0],I=v[1],D=(0,p.useNavigation)(),E=t.params||{},z=(E.prenom,E.setprenom,t.params||{}),R=(z.id,z.setId,(0,o.useState)(!1)),F=(0,y.default)(R,2),_=F[0],V=F[1],M=(0,o.useState)(!1),N=(0,y.default)(M,2),q=N[0],U=N[1],ie=(0,o.useState)(!1),le=(0,y.default)(ie,2),se=le[0],ue=le[1],de=(0,o.useState)(null),ce=(0,y.default)(de,2),fe=ce[0],pe=ce[1],he=(j().setIsSignedIn,(0,o.useState)(!1)),me=(0,y.default)(he,2),ge=me[0],ye=me[1],xe=(0,o.useState)(!1),be=(0,y.default)(xe,2),je=be[0],ve=be[1],we=(0,o.useState)([]),Ce=(0,y.default)(we,2),Se=Ce[0],Oe=Ce[1],Te=(0,o.useState)({}),Pe=(0,y.default)(Te,2),ke=(Pe[0],Pe[1],(0,o.useState)(!1)),Ie=(0,y.default)(ke,2),De=Ie[0],Be=Ie[1],Ee=(0,o.useState)(!1),ze=(0,y.default)(Ee,2),Re=ze[0],Fe=ze[1],_e=(0,o.useState)(""),Ve=(0,y.default)(_e,2),Ae=Ve[0],$e=Ve[1],We=(0,o.useState)(""),He=(0,y.default)(We,2),Le=(He[0],He[1],(0,o.useState)("")),Me=(0,y.default)(Le,2),Ne=Me[0],qe=Me[1],Ue=(0,o.useState)(""),Je=(0,y.default)(Ue,2),Ge=Je[0],Ze=Je[1],Qe=(0,o.useState)(!1),Ke=(0,y.default)(Qe,2),Xe=Ke[0],Ye=Ke[1],et=(0,o.useState)(!1),tt=(0,y.default)(et,2),rt=tt[0],nt=tt[1],ot=(0,o.useState)({}),it=(0,y.default)(ot,2),at=(it[0],it[1]),lt=(0,o.useState)(""),st=(0,y.default)(lt,2),ut=st[0],dt=st[1],ct=(0,o.useState)(!1),ft=(0,y.default)(ct,2),pt=(ft[0],ft[1],(0,o.useState)("")),ht=(0,y.default)(pt,2),mt=ht[0],gt=ht[1],yt=(0,o.useState)([]),xt=(0,y.default)(yt,2),bt=xt[0],jt=xt[1],vt=(0,o.useState)(!1),wt=(0,y.default)(vt,2),Ct=wt[0],St=wt[1],Ot=new Date;Ot.setHours(19,30);var Tt=new Date;Tt.setHours(23,0);var Pt=(0,o.useState)(Ot),kt=(0,y.default)(Pt,2),It=kt[0],Dt=kt[1],Bt=(0,o.useState)("19:30"),Et=(0,y.default)(Bt,2),zt=Et[0],Rt=Et[1],Ft=(0,o.useState)(!0),_t=(0,y.default)(Ft,2),Vt=_t[0],At=_t[1],$t=function(e){var t=e.direction;return(0,h.jsx)(G.default,{name:"left"===t?"chevron-left":"chevron-right"})},Wt=(0,o.useState)(new Date),Ht=(0,y.default)(Wt,2),Lt=Ht[0],Mt=Ht[1];(0,o.useEffect)((function(){Qt(),rr(),ar(),Jt();var e=setInterval((function(){Qt(),rr(),ar()}),3e4);return function(){clearInterval(e)}}),[bt]),(0,o.useEffect)((function(){pr&&jt(pr.map((function(e){return e.color})))}),[pr]);var Nt=function(){Ye(!1)},qt=function(e){console.log("Nouvelle heure s\xe9lectionn\xe9e:",e.target.value),Rt(e.target.value)},Ut=function(e){Mt(e),Nt()},Jt=function(){at({monday:"#96dfa2",tuesday:"#9199ff",thursday:"#9199ff",sunday:"#9199ff"})},Gt=function(){var e=(0,n.default)((function*(e){try{return(yield J.default.get(`${B}/event/checkDate`,{params:{date:e}})).data.exists}catch(t){return console.error("Erreur lors de la v\xe9rification de l'\xe9v\xe9nement",t),!1}}));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=(0,n.default)((function*(){try{if(!fe||!fe.id)return void console.error("Les informations de l'utilisateur ne sont pas disponibles");var e;if("web"===k.default.OS){var t=zt.split(":"),r=(0,y.default)(t,2),n=r[0],o=r[1],i=(0,ee.default)(Ge);e=(0,te.default)((0,re.default)(i,parseInt(n,10)),parseInt(o,10))}else{var a=(0,ee.default)(Ge),l=new Date(Lt);e=(0,te.default)((0,re.default)(a,l.getHours()),l.getMinutes())}var s="Europe/Paris",u=(0,X.default)(e,s),d=(0,Y.default)(u,"yyyy-MM-dd'T'HH:mm:ss.SSSX",{timeZone:s});console.log("formattedDateTime:",d);var c=yield Gt(d);if(console.log(c),c)return void("web"===k.default.OS?window.alert("Un \xe9v\xe9nement existe d\xe9j\xe0 pour cette date"):S.default.alert("Notification","Un \xe9v\xe9nement existe d\xe9j\xe0 pour cette date"));yield J.default.post(`${B}/event/postcalendar`,{title:Ae,status:Ne,date:d,heure:(0,Y.default)(u,"HH:mm:ss"),user_id:fe.id}),console.log("Donn\xe9es envoy\xe9es \xe0 l'API:",{title:Ae,status:Ne,date:d,heure:(0,Y.default)(u,"HH:mm:ss"),user_id:fe.id}),rr()}catch(f){console.error("Erreur lors de la cr\xe9ation de l'\xe9v\xe9nement",f)}}));return function(){return e.apply(this,arguments)}}(),Qt=function(){var e=(0,n.default)((function*(){try{var e=yield s.default.getItem("userToken");if(!e)return void console.error("page calendrier : Token non trouv\xe9");var t=yield fetch(`${B}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();if(r.success){pe(r.user),console.log("data user",r.user);var n=r.user.role&&"admin"===r.user.role.toLowerCase(),o=r.user.role&&"joueur"===r.user.role.toLowerCase();Be(n),Fe(o),console.log("isAdmin:",n),console.log("isJoueur:",o)}else console.error("Rat\xe9 pour fetch user info page calendrier:",r.message)}catch(i){console.error("Erreur pour fetch les info des users:",i)}}));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=(0,n.default)((function*(e){try{var t=new Date(O);t.setHours(0,0,0,0);var r=new Date;if(r.setHours(0,0,0,0),t<r)return"web"===k.default.OS?(S.default.alert("Action non autoris\xe9e","Vous ne pouvez pas attribuer une couleur pour une date pr\xe9c\xe9dente."),void nt(!1)):(window.alert("Action non autoris\xe9e, Vous ne pouvez pas attribuer une couleur pour une date pr\xe9c\xe9dente."),void nt(!1));console.log("Valeur de 'selectedColor' :",e),console.log("Valeur de 'selectedDate' avant la mise \xe0 jour :",O),"white"===e?{date:O,color:null}:{date:O,color:e};var n=yield J.default.post(`${B}/date_color/associateColorToDate`,{date:O,color:e});console.log("R\xe9ponse de la requ\xeate :",n.data);var o=ae({},a);o[O]="white"===e?{customStyles:{container:{},text:{color:"black"}}}:{customStyles:{container:{backgroundColor:e},text:{color:"white"}}},l(o),nt(!1)}catch(i){console.error("Erreur lors de l'association de la couleur \xe0 la date",i)}}));return function(t){return e.apply(this,arguments)}}(),Xt=function(){U(!q)},Yt=function(e,t){t>=Ot&&t<=Tt?(Dt(t),console.log("Heure s\xe9lectionn\xe9e:",t)):(S.default.alert("Heure non autoris\xe9e","Veuillez s\xe9lectionner une heure entre 19:30 et 23:00."),Dt(Ot))},er=function(){V(!0)},tr=function(e){"Oui"===e?er():ir("Non"),ye(!1)},rr=function(){var e=(0,n.default)((function*(){try{var e=yield J.default.get(`${B}/event/calendar`),t={};e.data.forEach((function(e){var r=(0,Y.default)((0,X.default)(e.date,"Europe/Paris"),"yyyy-MM-dd");t[r]||(t[r]=[]),t[r].push(ae(ae({},e),{},{date:r,heure:e.heure}))})),x(t)}catch(r){console.error("Erreur lors de la r\xe9cup\xe9ration des \xe9v\xe9nements",r)}}));return function(){return e.apply(this,arguments)}}(),nr=function(){var e=(0,n.default)((function*(e){try{var t=yield J.default.get(`${B}/participation_event/ouiparticipation/${e}`);Oe(t.data),ve(!0)}catch(r){console.error("Erreur lors de la r\xe9cup\xe9ration des participants",r)}}));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=(0,n.default)((function*(e,t){try{if(!fe||!fe.id)return void console.error("Les informations de l'utilisateur ne sont pas disponibles");yield J.default.post(`${B}/participation_event/updateParticipation/${e}`,{participation:t,id:fe.id,prenom:fe.prenom}),"Oui"===t&&("web"===k.default.OS?window.alert("Vous \xeates inscrit \xe0 l'\xe9v\xe9nement! Les matchs seront disponibles 24h avant l'\xe9v\xe9nement"):S.default.alert("Confirmation","Vous \xeates inscrit \xe0 l'\xe9v\xe9nement! \n Les matchs seront disponibles 24h avant l'\xe9v\xe9nement",[{text:"OK",onPress:function(){return console.log("Confirmation de l'inscription")}}])),yield rr(),console.log("Participation valid\xe9e")}catch(r){console.error("Erreur lors de la mise \xe0 jour de la participation",r),r.response&&(console.error("Statut de r\xe9ponse :",r.response.status),console.error("Donn\xe9es de r\xe9ponse :",r.response.data))}}));return function(t,r){return e.apply(this,arguments)}}(),ir=function(){var e=(0,n.default)((function*(e){try{if("Oui"!==e&&"Non"!==e)throw new Error("La participation doit \xeatre soit 'Oui' soit 'Non'");var t;if("web"===k.default.OS){var r=(t=zt).split(":").map(Number),n=(0,y.default)(r,2),o=n[0],i=n[1];if(o<19||23===o&&i>0||o>23)return void window.alert("L'heure doit \xeatre entre 19h30 et 23h00")}else{var a=new Date(It);t=`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`}if(console.log("heure "+t),!fe||!fe.id)return void console.error("Les informations de l'utilisateur ne sont pas disponibles");yield J.default.post(`${B}/participation_jeu/participationJeuLibre/${fe.id}`,{participation:"Oui"===e?"Oui":"Non",date:(0,Y.default)((0,ee.default)(O),"yyyy-MM-dd"),heure:t}),yield rr(),console.log("Participation mise \xe0 jour avec succ\xe8s")}catch(l){console.error("Erreur lors de la mise \xe0 jour de la participation",l),l.response&&(console.error("Statut de r\xe9ponse :",l.response.status),console.error("Donn\xe9es de r\xe9ponse :",l.response.data))}}));return function(t){return e.apply(this,arguments)}}(),ar=function(){var e=(0,n.default)((function*(){try{var e=yield J.default.get(`${B}/date_color/getAllDateColors`),t=e.data||{},r=e.data,n={};for(var o in r)try{var i=new Date(o);n[(0,Y.default)(i,"yyyy-MM-dd")]=r[o]}catch(d){console.error(`Error parsing date: ${o}`,d)}if(t){var a={};for(var s in n){var u=n[s];bt.includes(u)&&(a[s]={customStyles:{container:{backgroundColor:u},text:{color:"white"}}})}l(a)}else console.error("Aucune couleur de date trouv\xe9e.")}catch(c){return console.error("Erreur lors de la r\xe9cup\xe9ration de toutes les couleurs de date",c),{}}}));return function(){return e.apply(this,arguments)}}(),lr=function(){var e=(0,n.default)((function*(e){try{return(yield J.default.get(`${B}/participation_jeu/ouiparticipationjeulibre/${e}`)).data}catch(t){return console.error("Erreur lors de la r\xe9cup\xe9ration des participants",t),[]}}));return function(t){return e.apply(this,arguments)}}(),sr=function(){var e=(0,n.default)((function*(e){if(console.log("Date s\xe9lectionn\xe9e :",e.dateString),e&&e.dateString){var t,r,n,o=e.dateString;I(o),ar();var i=yield lr(o);console.log(i);var l=new Date;l.setHours(0,0,0,0);var s=new Date(o);s.setHours(0,0,0,0);var u=s<l,d=null==(t=a[o])||null==(r=t.customStyles)||null==(n=r.container)?void 0:n.backgroundColor;if(dt(d),"web"!==k.default.OS)if("#96dfa2"===d||"#9199ff"===d)if(u)S.default.alert("Impossible de s'inscrire au jeu libre pour une date ant\xe9rieure");else{var c=(0,Y.default)((0,ee.default)(o),"dd/MM/yyyy");console.log("Participants pr\xe9sents :",i),V(!0),ue(!0),i.length>0&&S.default.alert(`Viens-tu au jeu libre le ${c}?`,"Voici les joueurs pr\xe9sents:\n"+i.map((function(e){var t=e.heure.split(":"),r=(0,y.default)(t,2),n=r[0],o=r[1];return`${e.prenom} ${e.nom} \xe0 ${n}:${o}`})).join(", \n"),[{text:"Non",onPress:function(){return ir("Non")},style:"cancel"},{text:"Oui",onPress:function(){return er()}},{text:"Fermer",onPress:function(){return console.log("Bo\xeete de dialogue ferm\xe9e")},style:"cancel"}])}else"#e05642"===d?(V(!1),ue(!1),S.default.alert("Information","Salle ferm\xe9e")):"#eac849"===d&&(V(!1),ue(!1));else if("#96dfa2"===d||"#9199ff"===d)if(u)window.alert("Impossible de s'inscrire au jeu libre pour une date ant\xe9rieure");else{var f=`<strong> Viens-tu au jeu libre le ${(0,Y.default)((0,ee.default)(o),"dd/MM/yyyy")}?, <br/> <br/> Voici les joueurs pr\xe9sents: <br/>  <br/> </strong>  ${i.map((function(e){var t=e.heure.split(":"),r=(0,y.default)(t,2),n=r[0],o=r[1];return`${e.prenom} ${e.nom} \xe0 ${n}:${o}`})).join("<br/>")}`;gt(f),ye(!0),V(!0),ue(!0),At(!0)}else"#e05642"===d?(gt(" <strong> <br/> La salle est ferm\xe9e pour cette date </strong>"),ye(!0),ue(!1),At(!1)):"#eac849"===d&&(V(!1),ue(!1))}else console.error("La date s\xe9lectionn\xe9e n'est pas correctement d\xe9finie.")}));return function(t){return e.apply(this,arguments)}}(),ur=function(){var e=(0,n.default)((function*(e){try{return(yield J.default.get(`${B}/participation_event/participantcount/${e}`)).data.participant_count}catch(t){return console.error("Erreur lors de la r\xe9cup\xe9ration du nombre de participants",t),0}}));return function(t){return e.apply(this,arguments)}}(),dr=function(e){return Math.ceil(e/4)},cr=function(e){var t=e.eventId,r=(0,o.useState)(null),i=(0,y.default)(r,2),a=i[0],l=i[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,n.default)((function*(){var e=yield ur(t);l(e)}));return function(){return e.apply(this,arguments)}}();e()}),[t]),null===a?(0,h.jsx)(d.default,{style:Q.eventInfo,children:"Chargement..."}):(0,h.jsxs)(d.default,{style:Q.eventInfo,children:["Terrains utilis\xe9s : ",dr(a)]})},fr=function(e){var t=new Date,r=(0,ne.default)((0,ee.default)(e),24);return(0,oe.default)(t,r)},pr=[{color:"#e05642"},{color:"#96dfa2"},{color:"#9199ff"},{color:"#eac849"}];return(0,h.jsx)(P.default,{behavior:"ios"===k.default.OS?"padding":"height",style:{flex:1},children:(0,h.jsx)(T.default,{children:(0,h.jsxs)(u.default,{style:Q.container,children:[(0,h.jsx)(f.default,{style:Q.legendButton,onPress:Xt,children:(0,h.jsx)(d.default,{style:Q.legendButtonText,children:"Voir la l\xe9gende des couleurs"})}),Ct&&(0,h.jsx)(u.default,{style:Q.dropdownOverlay,children:pr.map((function(e,t){return(0,h.jsxs)(u.default,{style:{alignItems:"center",margin:6},children:[(0,h.jsx)(u.default,{style:{backgroundColor:e.color,width:20,height:20,marginBottom:10}}),(0,h.jsx)(f.default,{style:bt.includes(e.color)?Q.checkedBox:Q.uncheckedBox,onPress:function(){return t=e.color,void(bt.includes(t)?jt(bt.filter((function(e){return e!==t}))):jt([].concat((0,A.default)(bt),[t])));var t},children:bt.includes(e.color)&&(0,h.jsx)(d.default,{children:"\u2713"})})]},t)}))}),q&&(0,h.jsx)((function(){return(0,h.jsx)($.default,{animationType:"slide",transparent:!0,visible:q,onRequestClose:function(){S.default.alert("La l\xe9gende a \xe9t\xe9 ferm\xe9e."),U(!q)},children:(0,h.jsx)(u.default,{style:Q.centeredView,children:(0,h.jsxs)(u.default,{style:Q.modalView,children:[(0,h.jsx)(d.default,{style:Q.legendTitle,children:"L\xe9gende des couleurs:"}),(0,h.jsxs)(d.default,{style:Q.legendText,children:[(0,h.jsx)(d.default,{style:{color:"#96dfa2"},children:"\u25cf"}),"  Jeu libre au Verseau"]}),(0,h.jsxs)(d.default,{style:Q.legendText,children:[(0,h.jsx)(d.default,{style:{color:"#9199ff"},children:"\u25cf"})," Jeu libre \xe0 Rixensart"]}),(0,h.jsxs)(d.default,{style:Q.legendText,children:[(0,h.jsx)(d.default,{style:{color:"#eac849"},children:"\u25cf"}),"  Soir\xe9e \xe0 th\xe8me"]}),(0,h.jsxs)(d.default,{style:Q.legendText,children:[(0,h.jsx)(d.default,{style:{color:"#e05642"},children:"\u25cf"}),"  Fermeture de la salle"]}),(0,h.jsx)(f.default,{style:Q.buttonClose,onPress:Xt,children:(0,h.jsx)(d.default,{style:Q.textStyle,children:"Fermer"})})]})})})}),{}),(0,h.jsx)(W.default,{title:"Filtre",onPress:function(){return St(!Ct)}}),Re&&(0,h.jsx)(H.Calendar,{onDayPress:sr,markedDates:a,markingType:"custom",renderArrow:function(e){return(0,h.jsx)($t,{direction:e})}}),De&&(0,h.jsx)(H.Calendar,{onDayPress:function(e){I(e.dateString),Ze(e.dateString),nt(!0)},markedDates:a,markingType:"custom",renderArrow:function(e){return(0,h.jsx)($t,{direction:e})}}),De&&(0,h.jsxs)(h.Fragment,{children:[O&&new Date(O)>=new Date((new Date).toDateString())&&(0,h.jsxs)(u.default,{style:Q.formContainer,children:[(0,h.jsx)(d.default,{style:Q.title,children:"Formulaire"}),(0,h.jsx)(u.default,{style:[Q.inputContainer,{marginBottom:18}],children:(0,h.jsx)(w.SelectList,{placeholder:"status",setSelected:function(e){return qe(e)},data:[{key:"1",value:"Tous niveau"},{key:"2",value:"Par niveau"}],save:"value",style:Q.choix})}),(0,h.jsx)(C.default,{style:Q.input,placeholder:"Titre",value:Ae,onChangeText:function(e){return $e(e)}}),(0,h.jsx)(C.default,{style:Q.input,placeholder:"Date",value:Ge,onChangeText:function(e){return Ze(e)}}),"web"===k.default.OS?(0,h.jsx)("input",{type:"time",onChange:qt,value:zt,style:{}}):(0,h.jsx)(K.default,{isVisible:Xe,mode:"time",onConfirm:Ut,onCancel:Nt,textColor:"black"}),"web"!==k.default.OS&&(0,h.jsx)(f.default,{style:Q.input,onPress:function(){return Ye(!0)},children:(0,h.jsx)(d.default,{style:Q.buttonTextHeure,children:Lt?(0,Y.default)(Lt,"HH:mm"):"Choisir l'heure"})}),(0,h.jsx)(f.default,{style:Q.button,onPress:Zt,children:(0,h.jsx)(d.default,{style:Q.buttonText,children:"Cr\xe9er un \xe9v\xe9nement"})})]}),O&&new Date(O)<new Date((new Date).toDateString())&&(0,h.jsx)(d.default,{style:Q.warningText,children:"Pas possible de cr\xe9er un \xe9v\xe9nement pour une date ant\xe9rieure."})]}),De&&rt&&(0,h.jsxs)(h.Fragment,{children:[O&&new Date(O)>=new Date((new Date).toDateString())&&(0,h.jsx)($.default,{animationType:"slide",transparent:!0,visible:rt,children:(0,h.jsxs)(u.default,{style:Q.modalContainer,children:[(0,h.jsx)(d.default,{style:Q.colorselection,children:"S\xe9lectionnez une couleur :"}),[{color:"#e05642",text:"Ferm\xe9"},{color:"#96dfa2",text:"Verseau"},{color:"#9199ff",text:"Rixensart"},{color:"#eac849",text:"Ev\xe8nement"},{color:"white",text:"Retirer"}].map((function(e,t){return(0,h.jsxs)(u.default,{style:Q.colorOptionContainer,children:[(0,h.jsx)(f.default,{style:[Q.colorOption,{backgroundColor:e.color}],onPress:function(){Kt(e.color)}}),(0,h.jsx)(d.default,{style:Q.colorOptionText,children:e.text})]},t)})),(0,h.jsx)(f.default,{style:Q.closeButtonCouleur,onPress:function(){return nt(!1)},children:(0,h.jsx)(d.default,{style:Q.closeButtonTextColor,children:"Fermer"})})]})}),O&&new Date(O)<new Date((new Date).toDateString())&&(0,h.jsx)(d.default,{style:Q.warningText,children:"Vous ne pouvez pas attribuer une couleur pour une date pr\xe9c\xe9dente."})]}),_&&(0,h.jsxs)(u.default,{style:Q.dateTimePickerContainer,children:[(0,h.jsx)(d.default,{style:Q.instructions,children:"Choisissez l'heure avant de confirmer"}),"web"===k.default.OS?(0,h.jsx)("input",{type:"time",onChange:qt,value:zt,style:{}}):(0,h.jsx)(Z.default,{value:It,mode:"time",is24Hour:!0,display:"default",onChange:Yt,style:Q.dateTimePicker,minimumDate:Ot,maximumDate:Tt}),se&&(0,h.jsx)(f.default,{style:Q.confirmButton,onPress:function(){V(!1),ue(!1),ir("Oui",It),console.log("Heure confirm\xe9e:",It)},children:(0,h.jsx)(d.default,{style:Q.confirmButtonText,children:"Confirmer la participation"})})]}),(0,h.jsx)(d.default,{style:Q.eventTitle2,children:"#9199ff"!==ut&&"#96dfa2"!==ut?" \xc9v\xe9nements :":""}),function(){return O&&a[O]&&g[O]?(0,h.jsxs)(u.default,{children:[g[O].map((function(e){return(0,h.jsxs)(u.default,{style:Q.eventItem,children:[(0,h.jsx)(d.default,{style:Q.eventTitle,children:e.status}),(0,h.jsxs)(d.default,{style:Q.eventInfo,children:["Date : ",(0,Y.default)((0,ee.default)(e.date),"PP")]}),(0,h.jsxs)(d.default,{style:Q.eventInfo,children:["Heure : ",e.heure]}),(0,h.jsx)(cr,{eventId:e.id}),(0,h.jsx)(f.default,{onPress:function(){return nr(e.id)},children:(0,h.jsx)(G.default,{name:"person",size:30,color:"blue"})}),De&&(0,h.jsx)(f.default,{onPress:function(){return t=e.id,D.navigate("Gestion d'\xe9venement",{eventId:t}),void console.log(t);var t},children:(0,h.jsx)(G.default,{name:"edit",size:30,color:"purple"})}),fr(`${e.date}T${e.heure}`)?(0,h.jsxs)(u.default,{style:{alignItems:"center"},children:[(0,h.jsx)(d.default,{style:Q.eventTitle2,children:"Valider l'inscription"}),(0,h.jsxs)(u.default,{style:Q.participationButtons,children:[(0,h.jsx)(f.default,{onPress:function(){return or(e.id,"Oui")},style:{marginRight:5},children:(0,h.jsx)(G.default,{name:"check-circle",size:30,color:"green"})}),(0,h.jsx)(f.default,{onPress:function(){return or(e.id,"Non")},style:{marginLeft:5},children:(0,h.jsx)(G.default,{name:"cancel",size:30,color:"red"})})]})]}):(0,h.jsx)(d.default,{style:Q.closedRegistrationText,children:"Inscription ferm\xe9e"})]},e.id)})),(0,h.jsx)($.default,{visible:je,onRequestClose:function(){return ve(!1)},animationType:"slide",transparent:!0,children:(0,h.jsx)(u.default,{style:Q.centeredView,children:(0,h.jsxs)(u.default,{style:[Q.modalViewPlayers,{height:(e=Se.length,Math.min(600,Math.max(200,40*e)))}],children:[(0,h.jsx)(u.default,{style:{alignItems:"center"},children:(0,h.jsx)(d.default,{style:Q.modalTitle,children:"Participants de l'\xe9v\xe9nement"})}),0===Se.length?(0,h.jsx)(d.default,{style:Q.modalText,children:"Pas encore de participants inscrits."}):(0,h.jsx)(T.default,{children:Se.map((function(e){return(0,h.jsxs)(d.default,{style:Q.modalText,children:[e.prenom," ",e.nom]},e.user_id)}))}),(0,h.jsx)(f.default,{style:Q.button,onPress:function(){return ve(!1)},children:(0,h.jsx)(d.default,{style:Q.closeButtonText,children:"Fermer"})})]})})})]}):null;var e}(),(0,h.jsx)(L,{isOpen:ge,content:mt,onClose:function(){return ye(!1)},children:Vt&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:function(){return tr("Oui")},className:"button",children:"Oui"}),(0,h.jsx)("button",{onClick:function(){return tr("Non")},className:"button",children:"Non"})]})})]})})})};function se(){var e=(0,p.useNavigation)(),t=(0,o.useState)(""),r=(0,y.default)(t,2),i=r[0],a=r[1],l=(0,o.useState)(!1),c=(0,y.default)(l,2),m=(c[0],c[1]),g=(0,o.useState)(!1),x=(0,y.default)(g,2),b=x[0],v=x[1],S=(0,o.useState)(""),O=(0,y.default)(S,2),T=O[0],P=O[1],I=(0,o.useState)(!1),z=(0,y.default)(I,2),R=z[0],F=z[1],_=(0,o.useState)(""),V=(0,y.default)(_,2),A=(V[0],V[1],o.useState("")),$=(0,y.default)(A,2),W=($[0],$[1]),H=j().setIsSignedIn,L=function(){var e=(0,n.default)((function*(){v(!0),m(!0);try{var e={email:i,password:T},t=yield fetch(`${B}/user_tokens/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=yield t.json();200===t.status&&r.token?(yield s.default.setItem("userToken",r.token),console.log("Token stored successfully"),H(!0),console.log("Connexion r\xe9ussie")):console.error("Token manquant ou erreur de connexion")}catch(n){console.error("Erreur lors de la connexion :",n)}v(!1),m(!1)}));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(u.default,{style:ue.container,children:[(0,h.jsx)(d.default,{style:ue.heading,testID:"ConnexionText",children:"Connexion"}),(0,h.jsxs)(u.default,{style:ue.inputContainer,children:[(0,h.jsx)(C.default,{placeholder:"Email",value:i,onChangeText:function(e){return a(e)},style:ue.inputField}),(0,h.jsx)(C.default,{placeholder:"Mot de passe",secureTextEntry:!R,value:T,onChangeText:function(e){return P(e)},style:ue.inputField,testID:"passwordInput"}),(0,h.jsx)(f.default,{onPress:function(){F(!R)},style:ue.eyeIcon,testID:"eyeIcon",children:(0,h.jsx)(E.default,{name:R?"eye-slash":"eye",size:20,color:"#000"})}),(0,h.jsx)(u.default,{style:ue.inputContainer,children:(0,h.jsx)(w.SelectList,{placeholder:"R\xf4le",setSelected:function(e){return W(e)},data:[{key:"1",value:"admin"},{key:"2",value:"joueur"}],save:"value",style:ue.choix,testID:"roleSelect"})})]}),b?"ios"===k.default.OS||"android"===k.default.OS?(0,h.jsx)(D.default,{size:"large",color:"#0000ff"}):(0,h.jsx)(u.default,{style:ue.loadingContainer,children:(0,h.jsx)(d.default,{style:ue.loadingText,children:"Chargement..."})}):(0,h.jsx)(f.default,{style:ue.button,onPress:L,testID:"ButtonConnexion",children:(0,h.jsx)(d.default,{style:ue.buttonText,children:"Connexion"})}),(0,h.jsxs)(u.default,{style:ue.signupContainer,children:[(0,h.jsx)(d.default,{style:ue.already,children:"Tu n'as pas de compte ?"}),(0,h.jsx)(f.default,{onPress:function(){return e.dispatch(p.CommonActions.navigate({name:"Inscription"}))},children:(0,h.jsx)(d.default,{style:ue.signupLink,children:"Inscription"})})]})]})}var ue=c.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#fff",padding:30,borderRadius:30,shadowColor:"rgba(0, 0, 0, 0.062)",shadowOffset:{width:0,height:0},shadowRadius:40},heading:{fontSize:26,color:"#2e2e2e",fontWeight:"bold",marginBottom:40},inputContainer:{width:"100%",position:"relative",marginBottom:30,marginTop:20},inputField:{width:"100%",minHeight:60,borderBottomWidth:2,borderBottomColor:"rgb(173, 173, 173)",backgroundColor:"transparent",color:"black",fontSize:16,fontWeight:"500",paddingLeft:30},button:{width:"100%",borderWidth:2,borderColor:"#283b67",backgroundColor:"#4d8194",height:40,borderRadius:30,marginVertical:10,alignItems:"center",justifyContent:"center",marginTop:-5},buttonText:{color:"white",fontSize:16,fontWeight:"500",letterSpacing:1},signupContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:0,marginTop:20},signupLink:{fontSize:14,fontWeight:"500",backgroundColor:"#2e2e2e",color:"white",textDecorationLine:"none",paddingVertical:8,paddingHorizontal:15,borderRadius:20},already:{padding:15},eyeIcon:{position:"absolute",right:12,marginTop:78},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:50,marginVertical:10},loadingText:{color:"#4d8194",fontSize:18,fontWeight:"bold"}});function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe=c.default.create({container:{backgroundColor:"#ffffff",padding:20,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3,width:"100%",marginBottom:20},input:{borderBottomWidth:1,borderBottomColor:"#ccc",marginBottom:15,padding:10},button:{backgroundColor:"#467c86",padding:10,borderRadius:5,marginTop:10}});const pe=function(e){var t=e.user,r=e.onProfileUpdated,i=(0,o.useState)(t?t.prenom:""),a=(0,y.default)(i,2),l=a[0],d=a[1],c=(0,o.useState)(t?t.nom:""),f=(0,y.default)(c,2),p=f[0],m=f[1],g=(0,o.useState)(t?t.email:""),x=(0,y.default)(g,2),b=x[0],j=x[1],v=(0,o.useState)(t?t.classement_simple:""),w=(0,y.default)(v,2),O=w[0],T=w[1],P=(0,o.useState)(t?t.classement_double:""),I=(0,y.default)(P,2),D=I[0],E=I[1],z=(0,o.useState)(t?t.classement_mixte:""),R=(0,y.default)(z,2),F=R[0],_=R[1],V=function(){var e=(0,n.default)((function*(){console.log("edit");var e=function(e){var t=e.replace(",","."),r=parseFloat(t);return r>=1&&r<=12&&Math.floor(r)===r};if(O&&!e(O)||D&&!e(D)||F&&!e(F))"web"===k.default.OS?window.alert("Erreur , Les classements doivent contenir uniquement des chiffres entre 1 et 12."):S.default.alert("Erreur","Les classements doivent contenir uniquement des chiffres entre 1 et 12.");else if(!b||b.includes("@")&&b.includes(".")){var n={};if(l&&l!==t.prenom&&(n.prenom=l),p&&p!==t.nom&&(n.nom=p),b&&b!==t.email&&(n.email=b),O&&O!==t.classement_simple&&(n.classement_simple=O),D&&D!==t.classement_double&&(n.classement_double=D),F&&F!==t.classement_mixte&&(n.classement_mixte=F),0!==Object.keys(n).length)try{var o=yield fetch(`${B}/user_tokens/update-profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${yield s.default.getItem("userToken")}`},body:JSON.stringify(n)});(yield o.json()).message&&(r(ce(ce({},t),n)),"web"===k.default.OS?window.alert("Succ\xe8s , Profil mis \xe0 jour avec succ\xe8s"):S.default.alert("Succ\xe8s","Profil mis \xe0 jour avec succ\xe8s"))}catch(i){console.error("Erreur lors de la mise \xe0 jour du profil:",i)}else"web"===k.default.OS?window.alert("Aucune modification , Vous n'avez modifi\xe9 aucun champ."):S.default.alert("Aucune modification","Vous n'avez modifi\xe9 aucun champ.")}else"web"===k.default.OS?window.alert("Erreur , L'adresse email doit contenir '@' et '.'."):S.default.alert("Erreur","L'adresse email doit contenir '@' et '.'.")}));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(u.default,{style:fe.container,children:[(0,h.jsx)(C.default,{style:fe.input,onChangeText:d,value:l,placeholder:"Pr\xe9nom"}),(0,h.jsx)(C.default,{style:fe.input,onChangeText:m,value:p,placeholder:"Nom"}),(0,h.jsx)(C.default,{style:fe.input,onChangeText:j,value:b,placeholder:"Email",keyboardType:"email-address",autoCapitalize:"none"}),(0,h.jsx)(C.default,{style:fe.input,onChangeText:T,value:O,placeholder:"Classement simple",keyboardType:"numeric"}),(0,h.jsx)(C.default,{style:fe.input,onChangeText:E,value:D,placeholder:"Classement double",keyboardType:"numeric"}),(0,h.jsx)(C.default,{style:fe.input,onChangeText:_,value:F,placeholder:"Classement mixte",keyboardType:"numeric"}),(0,h.jsx)(W.default,{title:"Mettre \xe0 jour",onPress:V})]})};var he=c.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#f3f3f3",padding:30,paddingTop:30,marginTop:40},title:{fontSize:24,fontWeight:"bold",marginBottom:20,color:"#123e53"},infoContainer:{backgroundColor:"#f9f9f9",padding:20,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3,width:"100%",marginBottom:20},classementsDetails:{marginTop:10},infoText:{fontSize:18,marginBottom:5,color:"#333333",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},button:{backgroundColor:"#467c86",padding:10,borderRadius:5,marginTop:10,width:"80%"},buttonSupp:{backgroundColor:"red",padding:10,borderRadius:5,marginTop:10,width:"80%"},buttonText:{color:"#defdf5",textAlign:"center"},infoTextTitre:{fontSize:18,marginBottom:5,color:"#333333",flexDirection:"row",alignItems:"center",justifyContent:"space-between",fontWeight:"bold"}});const me=function(){var e=j().setIsSignedIn,t=(0,o.useState)(null),r=(0,y.default)(t,2),i=r[0],a=r[1],l=(0,o.useState)(!1),c=(0,y.default)(l,2),p=c[0],m=c[1],g=(0,o.useState)(!1),x=(0,y.default)(g,2),b=x[0],v=x[1];(0,o.useEffect)((function(){w()}),[],300);var w=function(){var e=(0,n.default)((function*(){try{var e=yield s.default.getItem("userToken");if(!e)return void console.error("page match : Token non trouv\xe9");var t=yield fetch(`${B}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();r.success?(a(r.user),console.log(r.user)):console.error("Rat\xe9 pour fetch user info page profil :",r.message)}catch(n){console.error("Erreur pour fetch les info des users:",n)}}));return function(){return e.apply(this,arguments)}}(),C=function(){var t=(0,n.default)((function*(){console.log("test");var t=function(){var t=(0,n.default)((function*(){try{yield fetch(`${B}/user_tokens/logout`,{method:"POST",headers:{Authorization:`Bearer ${yield s.default.getItem("userToken")}`}}),"web"===k.default.OS?localStorage.removeItem("userToken"):yield s.default.removeItem("userToken"),e(!1)}catch(t){console.error("Erreur lors de la d\xe9connexion :",t)}}));return function(){return t.apply(this,arguments)}}();"web"===k.default.OS?window.confirm("\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?")&&t():S.default.alert("D\xe9connexion","\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?",[{text:"Non",style:"cancel"},{text:"Oui",onPress:function(){return t()}}])}));return function(){return t.apply(this,arguments)}}(),O=function(){var e=(0,n.default)((function*(){if("web"===k.default.OS){if(window.confirm("Suppression de compte\n\n\xcates-vous s\xfbr de vouloir supprimer votre compte ? Cette action est irr\xe9versible."))try{var e=yield s.default.getItem("userToken"),t=yield fetch(`${B}/user_tokens/delete-account`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=yield t.json();r.success?C():console.error("Erreur lors de la suppression du compte:",r.message)}catch(o){console.error("Erreur lors de la suppression du compte:",o)}}else S.default.alert("Suppression de compte","\xcates-vous s\xfbr de vouloir supprimer votre compte ? Cette action est irr\xe9versible.",[{text:"Non",style:"cancel"},{text:"Oui",onPress:function(){var e=(0,n.default)((function*(){try{var e=yield s.default.getItem("userToken"),t=yield fetch(`${B}/user_tokens/delete-account`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=yield t.json();r.success?C():(console.error("Erreur lors de la suppression du compte:",r.message),S.default.alert("Erreur","La suppression du compte a \xe9chou\xe9."))}catch(o){console.error("Erreur lors de la suppression du compte:",o),S.default.alert("Erreur","La suppression du compte a \xe9chou\xe9.")}}));return function(){return e.apply(this,arguments)}}()}],{cancelable:!1})}));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(P.default,{behavior:"ios"===k.default.OS?"padding":"height",style:{flex:1},children:(0,h.jsx)(T.default,{style:{flex:1},children:(0,h.jsxs)(u.default,{style:he.container,children:[(0,h.jsx)(d.default,{style:he.title,accessibilityRole:"header",children:"Mon profil"}),i?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(f.default,{style:he.infoContainer,onPress:function(){v(!b)},children:[(0,h.jsxs)(d.default,{style:he.infoTextTitre,children:["Informations personnelles ",b?"\u25b2":"\u25bc"," "]}),b&&(0,h.jsxs)(u.default,{style:he.classementsDetails,children:[(0,h.jsxs)(d.default,{style:he.infoText,children:["Pr\xe9nom: ",i.prenom]}),(0,h.jsxs)(d.default,{style:he.infoText,children:["Nom: ",i.nom]}),(0,h.jsxs)(d.default,{style:he.infoText,children:["Email: ",i.email]})]})]}),(0,h.jsxs)(f.default,{style:he.infoContainer,onPress:function(){m(!p)},children:[(0,h.jsxs)(d.default,{style:he.infoTextTitre,children:["Classements ",p?"\u25b2":"\u25bc"]}),p&&(0,h.jsxs)(u.default,{style:he.classementsDetails,children:[(0,h.jsxs)(d.default,{style:he.infoText,children:["Simple: ",i.classement_simple]}),(0,h.jsxs)(d.default,{style:he.infoText,children:["Double: ",i.classement_double]}),(0,h.jsxs)(d.default,{style:he.infoText,children:["Mixte: ",i.classement_mixte]})]})]})]}):(0,h.jsx)(d.default,{children:"Chargement..."}),(0,h.jsx)(pe,{user:i,onProfileUpdated:a}),(0,h.jsx)(f.default,{style:he.button,onPress:C,children:(0,h.jsx)(d.default,{style:he.buttonText,children:"D\xe9connexion"})}),(0,h.jsx)(f.default,{style:he.buttonSupp,onPress:O,children:(0,h.jsx)(d.default,{style:he.buttonText,children:"Supprimer mon compte"})})]})})})};var ge=r(428),ye=r(590),xe=c.default.create({container:{flex:1,padding:10,marginTop:40},subtitle:{fontSize:24,fontWeight:"bold",marginTop:20,textAlign:"center",color:"#123e53"},paireContainer:{marginBottom:15,padding:10,borderWidth:1,borderColor:"#ccc",borderRadius:5},teamHeader:{flex:1.5,justifyContent:"center",alignItems:"center",padding:10,color:"#FFFFFF",fontWeight:"bold",marginLeft:40},vsHeader:{flex:.3,justifyContent:"center",alignItems:"center",padding:10,color:"#FFFFFF",fontWeight:"bold"},paireText:{fontSize:16,marginBottom:5},pouleContainer:{marginBottom:15,padding:10,borderWidth:1,borderColor:"#ddd",borderRadius:5},nameContainer:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},pouleText:{fontSize:16,marginBottom:5},table:{borderWidth:.7,borderColor:"#121f2d",borderRadius:4},headerRow:{flexDirection:"row",backgroundColor:"#467c86",paddingVertical:10},headerCell:{flex:1,padding:10,fontWeight:"bold",color:"#FFFFFF",textAlign:"center"},playerName:{fontSize:14,textAlign:"center"},row:{flexDirection:"row",alignItems:"center",padding:10,borderBottomWidth:1,borderBottomColor:"#E8E8E8"},touchableArea:{position:"absolute",top:0,left:0,right:0,bottom:0},rowEven:{backgroundColor:"#f9f9f9"},rowOdd:{backgroundColor:"#FFFFFF"},cell:{flex:1.5,padding:6,textAlign:"center",justifyContent:"center",marginLeft:8},cell1equipe1:{flex:1.5,padding:10,textAlign:"center",color:"#FFFFFF",fontWeight:"bold",paddingLeft:10},pouleCell:{flex:.5,padding:10,textAlign:"center"},vsCell:{flex:.3,fontWeight:"bold",color:"#FF9500",textAlign:"center"},vscellaudessu:{flex:.4,padding:10,fontWeight:"bold",color:"#FFFFFF",marginLeft:15},pouleTitle:{fontSize:18,fontWeight:"bold",marginTop:10,marginBottom:10,textAlign:"center"},pickerContainer:{backgroundColor:"#f2f2f2",borderRadius:10,borderWidth:1,borderColor:"#dcdcdc",shadowColor:"#000",shadowOpacity:.2,shadowRadius:3,shadowOffset:{width:0,height:2}},picker:{color:"#333",fontSize:16,marginTop:-80},pouleTableContainer:{marginBottom:20,borderWidth:1.5,borderColor:"#12597e",borderRadius:5,padding:5},doubleText:{fontStyle:"italic",color:"#3498db",textAlign:"center"},dateCellhaut:{flex:.5,padding:10,textAlign:"center",fontWeight:"bold",color:"#FFFFFF",marginRight:10},dateCellbas:{flex:.5,padding:10,textAlign:"center",fontWeight:"bold"},playerNameTouchable:{flexDirection:"row",alignItems:"center",justifyContent:"center",margin:-6.5,paddingLeft:15},highlightedUser:{color:"#890936",fontWeight:"bold",paddingTop:2},playerTextContainer:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},modalContent:{backgroundColor:"white",padding:22,justifyContent:"center",alignItems:"center",borderRadius:4,borderColor:"rgba(0, 0, 0, 0.1)",paddingTop:40},modalMessage:{marginBottom:15,textAlign:"center"},button:{backgroundColor:"#deeded",padding:10,borderRadius:5,minWidth:100,alignItems:"center"},buttonContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:20},buttonContainerFresh:{flexDirection:"row",justifyContent:"space-between",marginTop:20,justifyContent:"center",padding:20},refreshContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},noMatchText:{textAlign:"center",marginBottom:10,fontSize:16},buttonText:{color:"#124a50"},closeButton:{position:"absolute",top:10,left:10,backgroundColor:"transparent",padding:8,borderRadius:20},closeButtonText:{fontSize:16,color:"red",fontWeight:"bold"},teamColumn:{flex:1.5,justifyContent:"center",alignItems:"center",padding:10},vsColumn:{flex:.3,justifyContent:"center",alignItems:"center",padding:10,color:"#FF9500",fontWeight:"bold"}});const be=function(){var e=(0,o.useState)([]),t=(0,y.default)(e,2),r=t[0],i=t[1],a=(0,o.useState)([]),l=(0,y.default)(a,2),c=(l[0],l[1]),p=(0,o.useState)(""),m=(0,y.default)(p,2),g=(m[0],m[1]),x=(0,o.useState)([]),b=(0,y.default)(x,2),v=b[0],w=b[1],C=(0,o.useState)([]),S=(0,y.default)(C,2),O=S[0],P=S[1],k=(0,o.useState)("all"),I=(0,y.default)(k,2),D=I[0],E=I[1],z=(0,o.useState)(null),R=(0,y.default)(z,2),F=R[0],_=R[1],V=(0,o.useState)(!1),$=(0,y.default)(V,2),H=$[0],L=$[1],M=(0,o.useState)(""),N=(0,y.default)(M,2),q=N[0],U=N[1],J=(0,o.useState)(null),G=(0,y.default)(J,2),Z=G[0],Q=G[1],K=(0,o.useState)(null),X=(0,y.default)(K,2),Y=X[0],ee=X[1],te=(0,o.useState)(null),re=(0,y.default)(te,2),ne=re[0],oe=re[1],ie=(0,o.useState)(!1),ae=(0,y.default)(ie,2),le=ae[0],se=ae[1],ue=(0,o.useState)(""),de=(0,y.default)(ue,2),ce=de[0],fe=de[1];j().setIsSignedIn;(0,o.useEffect)((function(){var e=setInterval((function(){ve()}),2e4);return function(){return clearInterval(e)}}),[]);var pe=function(e){var t=e.isVisible,r=e.message,n=e.onConfirm,o=e.onCancel,i=e.confirmText,a=e.cancelText,l=e.onClose;return(0,h.jsx)(ye.default,{isVisible:t,children:(0,h.jsxs)(u.default,{style:xe.modalContent,children:[(0,h.jsx)(f.default,{style:xe.closeButton,onPress:l,children:(0,h.jsx)(d.default,{style:xe.closeButtonText,children:"X"})}),(0,h.jsx)(d.default,{style:xe.modalMessage,children:r}),(0,h.jsxs)(u.default,{style:xe.buttonContainer,children:[(0,h.jsx)(f.default,{style:xe.button,onPress:n,children:(0,h.jsx)(d.default,{style:xe.buttonText,children:i})}),(0,h.jsx)(f.default,{style:[xe.button,{marginLeft:20}],onPress:o,children:(0,h.jsx)(d.default,{style:xe.buttonText,children:a})})]})]})})},he=(function(){var e=(0,n.default)((function*(){try{var e=`${B}/participation_event/ouiparticipation`,t=yield fetch(e),r=yield t.json();i(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des participations:",n)}}))}(),function(){var e=(0,n.default)((function*(){try{var e=`${B}/paires/recupererPaires`,t=yield fetch(e),r=yield t.json();c(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des paires:",n)}}))}(),function(){var e=(0,n.default)((function*(){console.log("participants",r);try{var e=`${B}/paires/formerPaires`,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},n=yield fetch(e,t),o=yield n.json();console.log("Donn\xe9es re\xe7ues du serveur:",o)}catch(i){console.error("Erreur lors de la cr\xe9ation des paires:",i)}}));return function(){return e.apply(this,arguments)}}()),me=function(){var e=(0,n.default)((function*(){console.log("participants",r);try{var e=`${B}/paires/formerPaireParClassementDouble`,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},n=yield fetch(e,t),o=yield n.json();console.log("Donn\xe9es re\xe7ues du serveur:",o)}catch(i){console.error("Erreur lors de la cr\xe9ation des paires:",i)}}));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,n.default)((function*(){try{var e=`${B}/poule/creerPoules`,t=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"}}),r=yield t.json();g(JSON.stringify(r,null,2))}catch(n){console.error("Erreur lors de la cr\xe9ation des poules:",n),g("Erreur lors de la cr\xe9ation des poules")}}));return function(){return e.apply(this,arguments)}}();!function(){var e=(0,n.default)((function*(){try{var e=`${B}/poule/recupererPoules`,t=yield fetch(e),r=yield t.json(),n=(0,A.default)(new Set(r.map((function(e){return e.poule}))));w(n)}catch(o){console.error("Erreur lors de la r\xe9cup\xe9ration des poules:",o)}}))}();var je,ve=function(){var e=(0,n.default)((function*(){try{var e=yield s.default.getItem("userToken");if(!e)return void console.error("page match : Token non trouv\xe9");var t=yield fetch(`${B}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();r.success?_(r.user):console.error("Rat\xe9 pour fetch user info page match:",r.message)}catch(n){console.error("Erreur pour fetch les info des users:",n)}}));return function(){return e.apply(this,arguments)}}(),we=function(e,t,r,n){var o=F&&e===F.prenom&&t===F.nom,i=o?[xe.playerName,xe.highlightedUser]:xe.playerName;return(0,h.jsxs)(u.default,{style:xe.nameContainer,children:[(0,h.jsxs)(d.default,{style:i,children:[e," ",t]}),(0,h.jsxs)(d.default,{style:xe.doubleText,children:[" (",r,")"]}),o&&(0,h.jsx)(f.default,{style:xe.touchableArea,onPress:function(){return Te(n,e,t)}})]})},Ce=function(){var e=(0,n.default)((function*(){try{var e=`${B}/match/creerMatchs`,t=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"}}),r=yield t.json();g(JSON.stringify(r,null,2)),Se(),yield ve()}catch(n){console.error("Erreur lors de la cr\xe9ation des matchs:",n),g("Erreur lors de la cr\xe9ation des matchs")}}));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=(0,n.default)((function*(){try{var e=`${B}/match/recupererMatchs`,t=yield fetch(e),r=yield t.json();r&&0!==r.length?P(r):P([])}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des matchs:",n),P([])}}));return function(){return e.apply(this,arguments)}}(),Oe=(function(){var e=(0,n.default)((function*(e){try{var t=yield fetch(`${B}/getEventStatus/${e}`),r=yield t.json();"Tous niveau"===r?(yield he(),console.log("\xc9v\xe9nement cr\xe9\xe9 al\xe9atoirement")):"par niveau"===r&&(yield me(),console.log("\xc9v\xe9nement cr\xe9\xe9 par classement")),yield be(),yield Ce()}catch(n){console.error("Error in handleToutCreer: ",n)}}))}(),function(){var e=(0,n.default)((function*(e,t,r,n){console.log("Reporting match result with:",{matchId:e,userId:t,didWin:r,event_id:n});try{var o={match_id:e,user_id:t,victoire:r?1:0,defaite:r?0:1,event_id:n};console.log(o);var i=yield fetch(`${B}/resultat/report-match-result`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),a=yield i.json();i.ok?(console.log(a.message),console.log(o),alert(a.message)):(console.error(a.message),alert(a.message))}catch(l){console.error("erreur lors de l'encodage des resultats du match ",l)}}));return function(t,r,n,o){return e.apply(this,arguments)}}()),Te=function(e,t,r){var n=O.find((function(t){return t.match_id===e}));console.log("Selected match details:",n),n&&F&&t===F.prenom&&r===F.nom?(oe(n.event_id),fetch(`${B}/resultat/check-match-result?match_id=${e}&user_id=${F.id}`).then((function(e){return e.json()})).then((function(t){t.resultExists?(U((0,h.jsxs)(d.default,{children:["Tu as d\xe9j\xe0 enregistr\xe9 un r\xe9sultat pour ce match en tant que",(0,h.jsx)(d.default,{style:{color:t.victory?"green":"red"},children:t.victory?" victoire":" d\xe9faite"}),". Veux-tu le modifier ?"]})),Q(e),ee(!t.victory),L(!0)):(fe("As-tu gagn\xe9 ce match ?"),Q(e),se(!0))})).catch((function(e){console.error("Erreur lors de la v\xe9rification du r\xe9sultat du match",e)}))):console.error("Erreur :  Match non trouv\xe9 ou L'utilisateur connect\xe9 ne correspond pas.")};return(0,h.jsxs)(T.default,{style:xe.container,children:[(0,h.jsx)(u.default,{style:xe.pickerContainer,children:(0,h.jsxs)(ge.Picker,{selectedValue:D,onValueChange:function(e,t){return E(e)},style:xe.picker,children:[(0,h.jsx)(ge.Picker.Item,{label:"Toutes les poules",value:"all"}),v.map((function(e,t){return(0,h.jsx)(ge.Picker.Item,{label:`Poule ${e}`,value:e},t)}))]})}),(0,h.jsxs)(u.default,{children:[(0,h.jsx)(d.default,{style:xe.subtitle,children:"Matchs"}),O.length>0&&(0,h.jsxs)(h.Fragment,{children:[O.map((function(e,t){return(0,h.jsx)(u.default,{},e.match_id)})),(0,h.jsxs)(d.default,{style:xe.dateCellbas,children:["Date: ",(je=O[0].event_date,new Date(je).toLocaleDateString(void 0,{day:"numeric",month:"numeric"}))," - Heure: ",O[0].event_time]})]})]}),(0,h.jsx)(u.default,{children:(0,h.jsxs)(u.default,{style:xe.refreshContainer,children:[0===O.length?(0,h.jsx)(d.default,{style:xe.noMatchText,children:"Matchs disponnibles seulement 24h \xe0 l'avance du prochain \xe9v\xe9nement."}):function(){var e=function(e){return e.reduce((function(e,t){return e[t.poule_id]||(e[t.poule_id]=[]),e[t.poule_id].push(t),e}),{})}(O);return("all"===D?Object.keys(e):[D]).map((function(t){return(0,h.jsxs)(u.default,{style:xe.pouleTableContainer,children:[(0,h.jsxs)(d.default,{style:xe.pouleTitle,children:["Poule ",t]}),(0,h.jsx)(d.default,{}),(0,h.jsxs)(u.default,{style:xe.headerRow,children:[(0,h.jsx)(d.default,{style:xe.teamHeader,children:"\xc9QUIPE 1"}),(0,h.jsx)(d.default,{style:xe.vsHeader,children:"VS"}),(0,h.jsx)(d.default,{style:xe.teamHeader,children:"\xc9QUIPE 2"})]}),e[t].map((function(e,t){return(0,h.jsxs)(u.default,{style:[xe.row,t%2?xe.rowEven:xe.rowOdd],children:[(0,h.jsxs)(u.default,{style:xe.teamColumn,children:[we(e.user1_prenom_paire1,e.user1_nom_paire1,e.user1_double,e.match_id),we(e.user2_prenom_paire1,e.user2_nom_paire1,e.user2_double,e.match_id)]}),(0,h.jsx)(d.default,{style:xe.vsColumn,children:"VS"}),(0,h.jsxs)(u.default,{style:xe.teamColumn,children:[we(e.user1_prenom_paire2,e.user1_nom_paire2,e.user3_double,e.match_id),we(e.user2_prenom_paire2,e.user2_nom_paire2,e.user4_double,e.match_id)]})]},e.match_id)}))]},t)}))}(),(0,h.jsx)(W.default,{title:"Rafra\xeechir les Matchs",onPress:function(){Se()},color:"#467c86"})]})}),(0,h.jsx)(pe,{isVisible:H,message:q,onConfirm:function(){Oe(Z,F.id,Y,ne),L(!1)},onCancel:function(){return L(!1)},confirmText:"Oui",cancelText:"Non",onClose:function(){return L(!1)}}),(0,h.jsx)(pe,{isVisible:le,message:ce,onConfirm:function(){Oe(Z,F.id,!0,ne),se(!1)},onCancel:function(){Oe(Z,F.id,!1,ne),se(!1)},confirmText:"Oui",cancelText:"Non",onClose:function(){return se(!1)}})]})};var je=c.default.create({container:{flex:1,backgroundColor:"#f4f4f4",padding:20,marginTop:40},title:{fontSize:24,fontWeight:"bold",color:"#123e53",marginBottom:20,marginTop:20,textAlign:"center"},searchBox:{fontSize:16,backgroundColor:"#fff",padding:10,borderRadius:20,marginBottom:20,borderWidth:1,borderColor:"#ddd",shadowColor:"#000",shadowOpacity:.1,shadowRadius:5,shadowOffset:{width:0,height:2}},joueurItem:{backgroundColor:"#fff",marginBottom:15,padding:15,borderRadius:10,shadowColor:"#000",shadowOpacity:.1,shadowRadius:6,shadowOffset:{width:0,height:2}},joueurNom:{fontSize:18,fontWeight:"bold",color:"#333",marginBottom:5},joueurVictoires:{fontSize:16,color:"green"},joueurDefaites:{fontSize:16,color:"red"},joueurConnecte:{color:"#890936",fontWeight:"bold"},pickerContainer:{backgroundColor:"#f2f2f2",borderRadius:10,borderWidth:1,borderColor:"#dcdcdc",shadowColor:"#000",shadowOpacity:.2,shadowRadius:3,shadowOffset:{width:0,height:2},paddingBottom:-10,paddingTop:-1},picker:{color:"#333",fontSize:16,marginTop:-10}});const ve=function(){var e=(0,o.useState)([]),t=(0,y.default)(e,2),r=t[0],i=t[1],a=(0,o.useState)(""),l=(0,y.default)(a,2),c=l[0],p=l[1],m=(0,o.useState)(null),g=(0,y.default)(m,2),x=g[0],b=g[1],v=(0,o.useState)(null),w=(0,y.default)(v,2),S=w[0],O=w[1],P=j().setIsSignedIn,k=(0,o.useState)(null),I=(0,y.default)(k,2),D=I[0],E=I[1],z=(0,o.useState)([]),R=(0,y.default)(z,2),F=R[0],_=R[1];(0,o.useEffect)((function(){V(),W();var e=setInterval((function(){W(),V()}),3e3);return function(){return clearInterval(e)}}),[]);var V=function(){var e=(0,n.default)((function*(){try{console.log("Fetching joueurs from:",`${B}/resultat/joueurs_resultats`);var e=yield fetch(`${B}/resultat/joueurs_resultats`),t=yield e.json();Array.isArray(t)?i(t):(console.error("La r\xe9ponse n'est pas un tableau:",t),i([])),console.log("data joueurs",t);var r=(0,A.default)(new Set(t.map((function(e){return e.date}))));_(r),console.log(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des joueurs:",n)}}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,n.default)((function*(e){try{var t=yield fetch(`${B}/resultat/joueurs_resultatsPardate/${e}`),r=yield t.json();console.log("avec date",r),Array.isArray(r)?i(r):i([])}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des joueurs:",n)}}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,n.default)((function*(){try{var e=yield s.default.getItem("userToken");if(!e)return void console.error("Page joueur : Token non trouv\xe9");var t=yield fetch(`${B}/user_tokens/get-user-info`,{headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();r.success&&O(r.user)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des informations de l'utilisateur:",n),P(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(u.default,{style:je.container,children:[(0,h.jsx)(u.default,{style:je.pickerContainer,children:(0,h.jsxs)(ge.Picker,{selectedValue:D,onValueChange:function(e,t){return r=e,console.log("Date selected: ",r),E(r),void("Toutes les dates confondues"===r||null===r?(console.log("Fetching all joueurs..."),V()):(console.log("Fetching joueurs for date: ",r),$(r)));var r},style:je.picker,children:[(0,h.jsx)(ge.Picker.Item,{label:"Toutes les dates confondues",value:null}),F.map((function(e,t){return(0,h.jsx)(ge.Picker.Item,{label:new Date(e).toISOString().split("T")[0],value:e},t)}))]})}),(0,h.jsx)(d.default,{style:je.title,children:"R\xe9sultats"}),(0,h.jsx)(C.default,{style:je.searchBox,onChangeText:function(e){if(p(e),e.trim()){var t=r.filter((function(t){return`${t.prenom.toLowerCase()} ${t.nom.toLowerCase()}`.includes(e.toLowerCase())}));i(t)}else V()},value:c,placeholder:"Rechercher un joueur"}),(0,h.jsx)(T.default,{children:r.map((function(e,t){return(0,h.jsxs)(f.default,{style:je.joueurItem,onPress:function(){return t=e.user_id,void b(x===t?null:t);var t},children:[(0,h.jsxs)(d.default,{style:[je.joueurNom,e.user_id===(null==S?void 0:S.id)&&je.joueurConnecte],children:[e.prenom," ",e.nom]}),x===e.user_id&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.default,{style:je.joueurVictoires,children:["Victoires : ",e.total_victoires]}),(0,h.jsxs)(d.default,{style:je.joueurDefaites,children:["D\xe9faites : ",e.total_defaites]})]})]},t)}))})]})};var we=r(4396),Ce=r.n(we);r(8573);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Ce().locale("fr");var Te=c.default.create({inputIOS:{fontSize:16,paddingVertical:12,paddingHorizontal:10,borderWidth:1,borderColor:"gray",borderRadius:4,color:"black",paddingRight:30},inputAndroid:{fontSize:16,paddingHorizontal:10,paddingVertical:8,borderWidth:.5,borderColor:"purple",borderRadius:8,color:"black",paddingRight:30}}),Pe=c.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#eef2f3",padding:20,paddingTop:30,marginTop:40},header:{fontSize:24,fontWeight:"bold",color:"#305f72",marginBottom:30,letterSpacing:1,textShadowColor:"rgba(0, 0, 0, 0.2)",textShadowOffset:{width:0,height:1},textShadowRadius:10},card:{backgroundColor:"#ffffff",borderRadius:15,paddingVertical:20,paddingHorizontal:15,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:3,elevation:3,width:"100%",marginBottom:20},inputTitle:{fontSize:16,fontWeight:"600",color:"#467c86",marginBottom:10},input:{height:40,borderColor:"#b0c4de",borderWidth:1,borderRadius:10,paddingHorizontal:10,marginBottom:10},button:{backgroundColor:"#467c86",borderRadius:20,paddingVertical:12,paddingHorizontal:25,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:6,marginTop:15},buttonText:{color:"#ffffff",fontSize:18,fontWeight:"bold"}});const ke=function(e){var t,r=e.route,i=e.navigation,a=(0,o.useState)({}),l=(0,y.default)(a,2),s=(l[0],l[1]),c=(0,o.useState)({title:"",status:"Tous niveau",date:"",heure:""}),p=(0,y.default)(c,2),m=p[0],g=p[1],x=(0,o.useState)(!1),b=(0,y.default)(x,2),j=b[0],v=b[1],w=(0,o.useState)(!1),O=(0,y.default)(w,2),I=O[0],D=O[1],E=(null!=(t=r.params)?t:{}).eventId,R=(0,o.useState)(""),F=(0,y.default)(R,2),_=F[0],V=F[1],A=(0,o.useState)(""),$=(0,y.default)(A,2),W=$[0],H=$[1];(0,o.useEffect)((function(){E||("web"===k.default.OS?window.alert("\xc9v\xe9nement manquant : Aucun identifiant d'\xe9v\xe9nement sp\xe9cifi\xe9. Veuillez s\xe9lectionner un \xe9v\xe9nement."):S.default.alert("\xc9v\xe9nement manquant","Aucun identifiant d'\xe9v\xe9nement sp\xe9cifi\xe9. Veuillez s\xe9lectionner un \xe9v\xe9nement.",[{text:"OK",onPress:function(){return i.navigate("Calendrier")}}]))}),[E,i]);var L=function(){v(!1)},M=function(){D(!1)},N=(function(){var e=(0,n.default)((function*(){try{var e=yield J.default.get(`${B}/event/calendar/${E}`);s(e.data),g(e.data)}catch(t){"web"===k.default.OS?window.alert("Erreur de Chargement : Une erreur s'est produite lors de la r\xe9cup\xe9ration de l'\xe9v\xe9nement. Veuillez r\xe9essayer."):S.default.alert("Erreur de Chargement","Une erreur s'est produite lors de la r\xe9cup\xe9ration de l'\xe9v\xe9nement. Veuillez r\xe9essayer.",[{text:"OK",onPress:function(){return i.goBack()}}])}}))}(),function(){var e=(0,n.default)((function*(){try{yield J.default.put(`${B}/event/modifier/${E}`,m),"web"===k.default.OS?window.alert("Succ\xe8s : \xc9v\xe9nement mis \xe0 jour avec succ\xe8s."):S.default.alert("Succ\xe8s","\xc9v\xe9nement mis \xe0 jour avec succ\xe8s."),i.goBack()}catch(e){console.error("Erreur lors de la mise \xe0 jour de l'\xe9v\xe9nement",e),"web"===k.default.OS?window.alert("Erreur : Une erreur s'est produite lors de la mise \xe0 jour de l'\xe9v\xe9nement."):S.default.alert("Erreur","Une erreur s'est produite lors de la mise \xe0 jour de l'\xe9v\xe9nement.")}}));return function(){return e.apply(this,arguments)}}()),q=function(){var e=(0,n.default)((function*(){try{yield J.default.delete(`${B}/event/supprimer/${E}`),"web"===k.default.OS?window.alert("Succ\xe8s : \xc9v\xe9nement supprim\xe9 avec succ\xe8s."):S.default.alert("Succ\xe8s","\xc9v\xe9nement supprim\xe9 avec succ\xe8s."),i.goBack()}catch(e){console.error("Erreur lors de la suppression de l'\xe9v\xe9nement",e),"web"===k.default.OS?window.alert("Erreur : Une erreur s'est produite lors de la suppression de l'\xe9v\xe9nement."):S.default.alert("Erreur","Une erreur s'est produite lors de la suppression de l'\xe9v\xe9nement.")}}));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(P.default,{behavior:"ios"===k.default.OS?"padding":"height",style:{flex:1},children:(0,h.jsx)(T.default,{children:(0,h.jsxs)(u.default,{style:Pe.container,children:[(0,h.jsxs)(d.default,{style:Pe.header,children:["Modifier l'\xe9v\xe9nement : ",E," "]}),(0,h.jsxs)(u.default,{style:Pe.card,children:[(0,h.jsx)(d.default,{style:Pe.inputTitle,children:"Titre :"}),(0,h.jsx)(C.default,{style:Pe.input,value:m.title,onChangeText:function(e){return g(Oe(Oe({},m),{},{title:e}))}})]}),(0,h.jsxs)(u.default,{style:Pe.card,children:[(0,h.jsx)(d.default,{style:Pe.inputTitle,children:"Date :"}),"web"===k.default.OS?(0,h.jsx)("input",{type:"date",value:_,onChange:function(e){V(e.target.value),g(Oe(Oe({},m),{},{date:e.target.value}))},style:Pe.input}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C.default,{style:Pe.input,value:m.date,onFocus:function(){v(!0)}}),(0,h.jsx)(K.default,{isVisible:j,mode:"date",onConfirm:function(e){L();var t=e.toISOString().split("T")[0];g(Oe(Oe({},m),{},{date:t}))},onCancel:L,textColor:"black"})]})]}),(0,h.jsxs)(u.default,{style:Pe.card,children:[(0,h.jsx)(d.default,{style:Pe.inputTitle,children:"Heure :"}),"web"===k.default.OS?(0,h.jsx)("input",{type:"time",value:W,onChange:function(e){H(e.target.value);var t=Ce()(e.target.value,"HH:mm").format("HH:mm");g(Oe(Oe({},m),{},{heure:t}))},style:Pe.input}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C.default,{style:Pe.input,value:m.heure,onFocus:function(){D(!0)},textColor:"black"}),(0,h.jsx)(K.default,{isVisible:I,mode:"time",onConfirm:function(e){M();var t=Ce()(e).format("HH:mm");g(Oe(Oe({},m),{},{heure:t}))},onCancel:M,textColor:"black",locale:"fr-FR"})]})]}),(0,h.jsxs)(u.default,{style:Pe.card,children:[(0,h.jsx)(d.default,{style:Pe.inputTitle,children:"Status :"}),(0,h.jsx)(z.default,{style:Te,value:m.status,onValueChange:function(e){return g(Oe(Oe({},m),{},{status:e}))},items:[{label:"Tous niveau",value:"Tous niveau"},{label:"Par niveau",value:"Par niveau"}]})]}),(0,h.jsx)(f.default,{style:Pe.button,onPress:N,children:(0,h.jsx)(d.default,{style:Pe.buttonText,children:"Enregistrer les modifications"})}),(0,h.jsx)(f.default,{style:Pe.button,onPress:function(){"web"===k.default.OS?window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9v\xe9nement ? Cela entra\xeenera la suppression des participations des joueurs.")&&q():S.default.alert("Confirmer la suppression","\xcates-vous s\xfbr de vouloir supprimer cet \xe9v\xe9nement ? Cela entra\xeenera la suppression des participations des joueurs.",[{text:"Annuler",style:"cancel"},{text:"Supprimer",onPress:function(){return q()}}])},children:(0,h.jsx)(d.default,{style:Pe.buttonText,children:"Supprimer l'\xe9v\xe9nement"})})]})})})};var Ie=r(373);function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ee=function(e){return(0,h.jsx)(Ie.default,Be(Be({height:"19",width:"19",viewBox:"0 0 448 512"},e),{},{children:(0,h.jsx)(Ie.Path,{d:"M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z",fill:"#1E3050",opacity:"1"})}))};function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Fe=function(e){return(0,h.jsx)(Ie.default,Re(Re({height:"24",width:"24",viewBox:"0 -960 960 960"},e),{},{children:(0,h.jsx)(Ie.Path,{d:"M440-82q-76-8-141.5-41.5t-114-87Q136-264 108-333T80-480q0-91 36.5-168T216-780h-96v-80h240v240h-80v-109q-55 44-87.5 108.5T160-480q0 123 80.5 212.5T440-163v81Zm-17-214L254-466l56-56 113 113 227-227 56 57-283 283Zm177 196v-240h80v109q55-45 87.5-109T800-480q0-123-80.5-212.5T520-797v-81q152 15 256 128t104 270q0 91-36.5 168T744-180h96v80H600Z"})}))};function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ae=function(e){return(0,h.jsx)(Ie.default,Ve(Ve({height:"16",width:"20",viewBox:"0 0 640 512"},e),{},{children:(0,h.jsx)(Ie.Path,{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z",fill:"#1E3050",opacity:"1"})}))};function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const He=function(e){return(0,h.jsxs)(Ie.default,We(We({height:"31",width:"31",viewBox:"0 0 52.045 52.045"},e),{},{children:[(0,h.jsx)(Ie.Path,{fill:"#010002",d:"M38.29,18.097c-2.103,1.605-4.333,2.987-6.616,4.298c-0.836-0.78-1.963-1.156-3.259-0.809 c-1.198,0.321-2.302,1.43-2.634,2.688c-1.442,0.184-2.891,0.338-4.339,0.467c-0.145-2.148-0.114-4.364,0.438-6.396 c0.47-1.726-1.319-2.728-2.604-2.266l-1.989-6.378c2.013-0.886,3.006-3.466,2.222-5.978c-0.833-2.669-3.357-4.263-5.629-3.555 c-2.271,0.708-3.441,3.456-2.609,6.125c0.791,2.534,3.108,4.096,5.284,3.64l2.054,6.585c-0.192,0.207-0.347,0.468-0.439,0.804 c-0.824,3.035-0.724,6.381-0.388,9.488c0.105,0.979,0.795,2.007,1.923,1.924c2.29-0.171,4.575-0.414,6.853-0.711 c0.888,2.934,1.182,5.893,0.838,9c-1.865,1.018-3.954,1.307-6.09,0.934c-3.031-0.531-4.328,4.104-1.279,4.637 c3.056,0.535,6.162,0.35,8.934-0.959c-1.121,2.893-3.479,4.779-7.029,5.687c-3.004,0.767-1.729,5.401,1.277,4.638 c7.031-1.793,11.008-6.921,11.311-14.117c0.015-0.08,0.027-0.158,0.039-0.239c0.525-3.96,0.104-7.99-1.123-11.778 c2.347-1.342,4.641-2.753,6.795-4.402C42.174,19.933,40.262,16.59,38.29,18.097z M11.949,6.082 c-0.718-2.294,0.245-4.644,2.143-5.236c1.899-0.592,4.026,0.793,4.741,3.089c0.716,2.295-0.247,4.644-2.144,5.237 C14.789,9.764,12.664,8.377,11.949,6.082z"}),(0,h.jsx)(Ie.Circle,{fill:"#010002",cx:"29.322",cy:"16.595",r:"4.167"}),(0,h.jsx)(Ie.Polygon,{fill:"#010002",points:"38.779,4.145 34.931,5.347 34.931,6.786 38.779,7.748"})]}))};function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ne=function(e){return(0,h.jsx)(Ie.default,Me(Me({height:"25",width:"25",viewBox:"0 0 32 32"},e),{},{children:(0,h.jsx)(Ie.G,{children:(0,h.jsxs)(Ie.G,{id:"Statistic",children:[(0,h.jsx)(Ie.Line,{fill:"none",stroke:"#1D1D1B",strokeMiterlimit:"10",x1:"2.9",x2:"29.1",y1:"26.6",y2:"26.6"}),(0,h.jsx)(Ie.Rect,{fill:"#1D1D1B",height:"12.6",stroke:"#1D1D1B",strokeMiterlimit:"10",width:"3.8",x:"6.8",y:"14"}),(0,h.jsx)(Ie.Rect,{fill:"#1D1D1B",height:"16.2",stroke:"#1D1D1B",strokeMiterlimit:"10",width:"3.8",x:"14.1",y:"10.4"}),(0,h.jsx)(Ie.Rect,{fill:"#1D1D1B",height:"19.9",stroke:"#1D1D1B",strokeMiterlimit:"10",width:"3.8",x:"21.4",y:"6.7"})]})})}))};var qe=(0,a.default)(),Ue=(0,l.default)();function Je(){return(0,h.jsxs)(qe.Navigator,{screenOptions:{headerStyle:{backgroundColor:"#467c86"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"},headerShown:!1},children:[(0,h.jsx)(qe.Screen,{name:"Login",component:se}),(0,h.jsx)(qe.Screen,{name:"Inscription",component:_}),(0,h.jsx)(qe.Screen,{name:"PrivacyPolicy",component:m,options:{title:"CGU et Politique de Confidentialit\xe9"}})]})}function Ge(){var e=j().userRole;return(0,h.jsxs)(Ue.Navigator,{children:[(0,h.jsx)(Ue.Screen,{name:"Calendrier",component:le,options:{cardStyle:{marginTop:110},tabBarLabel:"Calendrier",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(Ee,{size:24,height:24,color:"black"})},headerShown:!1}}),"joueur"===e&&(0,h.jsx)(Ue.Screen,{name:"Match",component:be,options:{tabBarLabel:"Match",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(He,{name:"badminton",size:24,color:"black"})},headerShown:!1}}),"joueur"===e&&(0,h.jsx)(Ue.Screen,{name:"Joueurs",component:ve,options:{tabBarLabel:"R\xe9sultats",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(Ne,{name:"format-list-bulleted",size:24,color:"black"})},headerShown:!1}}),(0,h.jsx)(Ue.Screen,{name:"Profil",component:me,options:{tabBarLabel:"Profil",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(Ae,{name:"account-edit",size:24,color:"black"})},headerShown:!1}}),"admin"===e&&(0,h.jsx)(Ue.Screen,{name:"Gestion d'\xe9venement",component:ke,options:{tabBarLabel:"Gestion d'\xe9venements",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(Fe,{name:"published-with-changes",size:24,color:"black"})},headerShown:!1}})]})}function Ze(){return(0,h.jsx)(b,{children:(0,h.jsx)(Ke,{})})}var Qe=function(){var e=(0,n.default)((function*(e){try{var t=yield fetch(`${B}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=yield t.json();if(t.ok)return console.log("role",r.user.role,": prenom",r.user.prenom),r.user.role;throw new Error(r.message||"Impossible de r\xe9cup\xe9rer le r\xf4le de l'utilisateur.")}catch(n){return console.error("Erreur lors de la r\xe9cup\xe9ration du r\xf4le de l'utilisateur:",n),null}}));return function(t){return e.apply(this,arguments)}}();function Ke(){var e=j(),t=e.isSignedIn,r=e.setIsSignedIn,a=e.setUserRole,l=e.userRole;return(0,o.useEffect)((function(){var e=function(){var e=(0,n.default)((function*(){var e=yield s.default.getItem("userToken");if(e){r(!0);var t=yield Qe(e);a(t)}else r(!1)}));return function(){return e.apply(this,arguments)}}();e()}),[t,r,a,l]),(0,h.jsx)(i.default,{children:t?(0,h.jsx)(Ge,{}):(0,h.jsx)(Je,{})})}},7631:(e,t,r)=>{var n={"./fr":8573,"./fr-ca":7470,"./fr-ca.js":7470,"./fr-ch":4170,"./fr-ch.js":4170,"./fr.js":8573};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=7631}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,o,i]=e[d],l=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&o&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,r.d(i,a),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,l,s]=n,u=0;if(a.some((t=>0!==e[t]))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(s)var d=s(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[991],(()=>r(4431)));n=r.O(n)})();
//# sourceMappingURL=main.2e2ac34d.js.map
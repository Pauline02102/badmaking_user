(()=>{var e={1298:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ge});var n=r(5861),o=r(5004),i=r(1779),l=r(5095),a=r(9356),s=r(8859),u=r(7842),d=r(3387),c=r(7168),f=r(2062),p=r(8716),h=r(2629);function m(){var e=(0,p.useNavigation)();return(0,h.jsxs)(u.default,{style:g.container,children:[(0,h.jsx)(d.default,{style:g.heading,children:"Politique de Confidentialit\xe9"}),(0,h.jsx)(d.default,{children:"Votre vie priv\xe9e est importante pour nous. Cette politique de confidentialit\xe9 explique comment nous collectons, utilisons et prot\xe9geons vos informations personnelles."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Informations que nous collectons"}),(0,h.jsx)(d.default,{children:"Lorsque vous utilisez notre application, nous pouvons collecter les informations suivantes :"}),(0,h.jsx)(d.default,{children:"- Votre Nom"}),(0,h.jsx)(d.default,{children:"- Votre Prenom"}),(0,h.jsx)(d.default,{children:"- Votre Adresse e-mail"}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Utilisation des informations"}),(0,h.jsx)(d.default,{children:"Nous utilisons les informations collect\xe9es pour am\xe9liorer notre service, personnaliser votre exp\xe9rience utilisateur."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Partage des informations"}),(0,h.jsx)(d.default,{children:"Nous ne partagerons pas vos informations personnelles avec des tiers sans votre consentement, sauf si requis par la loi."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"S\xe9curit\xe9 des informations"}),(0,h.jsx)(d.default,{children:"La s\xe9curit\xe9 de vos informations personnelles est importante pour nous, et nous mettons en \u0153uvre des mesures de s\xe9curit\xe9 pour les prot\xe9ger contre tout acc\xe8s non autoris\xe9."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Vos droits"}),(0,h.jsx)(d.default,{children:"Vous avez le droit d'acc\xe9der \xe0 vos informations personnelles, de les corriger ou de les anonymiser. Vous pouvez \xe9galement nous contacter pour exercer ces droits."}),(0,h.jsx)(d.default,{style:g.sectionHeading,children:"Contact"}),(0,h.jsx)(d.default,{children:"Si vous avez des questions concernant notre politique de confidentialit\xe9 ou vos informations personnelles, veuillez nous contacter \xe0 l'adresse vdhpauline@hotmail.com"}),(0,h.jsx)(f.default,{style:g.closeButton,onPress:function(){return e.navigate("Inscription")},children:(0,h.jsx)(d.default,{style:g.closeButtonText,children:"Fermer"})})]})}var g=c.default.create({container:{flex:1,padding:20},heading:{fontSize:20,fontWeight:"bold",marginBottom:10},sectionHeading:{fontSize:16,fontWeight:"bold",marginTop:10,marginBottom:5},closeButton:{backgroundColor:"#4d8194",padding:10,borderRadius:5,alignSelf:"center",marginTop:20},closeButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),y=r(885),x=(0,o.createContext)(null),b=function(e){var t=e.children,r=(0,o.useState)(null),i=(0,y.default)(r,2),l=i[0],a=i[1],s=(0,o.useState)(!1),u=(0,y.default)(s,2),d=u[0],c=u[1],f=(0,o.useState)(null),p=(0,y.default)(f,2),m=p[0],g=p[1],b=function(){var e=(0,n.default)((function*(){c(!1),a(null),g(null),yield AsyncStorage.removeItem("userToken")}));return function(){return e.apply(this,arguments)}}(),j={isSignedIn:d,setIsSignedIn:c,user:l,setUser:a,userRole:m,setUserRole:g,signOut:b};return(0,h.jsx)(x.Provider,{value:j,children:t})},j=function(){var e=(0,o.useContext)(x);if(!e)throw new Error("useUser doit \xeatre utilis\xe9 \xe0 l'int\xe9rieur d'un UserProvider");return e};var v=r(4942),w=r(8354),C=r(8299),S=r(1521),O=r(1159),T=r(5208),P=r(3916),k=r(6106),I=r(6367),B=r(5473),D="https://rixbad.ovh:3030",E=r(5596),z=r(4464);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(){var e=(0,o.useState)(!1),t=(0,y.default)(e,2),r=t[0],i=t[1],l=(0,o.useState)(!1),a=(0,y.default)(l,2),s=a[0],c=a[1],m=(0,o.useState)(!1),g=(0,y.default)(m,2),x=g[0],b=g[1],j=(0,p.useNavigation)(),F=(0,o.useState)(""),V=(0,y.default)(F,2),W=V[0],$=V[1],H=(0,o.useState)(""),L=(0,y.default)(H,2),A=L[0],M=L[1],N=(0,o.useState)(null),q=(0,y.default)(N,2),U=(q[0],q[1],(0,o.useState)("")),J=(0,y.default)(U,2),G=J[0],Z=J[1],K=(0,o.useState)(""),Q=(0,y.default)(K,2),X=Q[0],Y=Q[1],ee=(0,o.useState)("joueur"),te=(0,y.default)(ee,2),re=te[0],ne=te[1],oe=(0,o.useState)(""),ie=(0,y.default)(oe,2),le=(ie[0],ie[1]),ae=(0,o.useState)(null),se=(0,y.default)(ae,2),ue=se[0],de=se[1],ce=(0,o.useState)(null),fe=(0,y.default)(ce,2),pe=fe[0],he=fe[1],me=(0,o.useState)(null),ge=(0,y.default)(me,2),ye=ge[0],xe=ge[1],be=(0,o.useState)(!1),je=(0,y.default)(be,2),ve=je[0],we=je[1],Ce=(0,o.useState)({nom:!1,prenom:!1,email:!1,password:!1,role:!1,classementSimple:!1,classementDouble:!1,classementMixte:!1}),Se=(0,y.default)(Ce,2),Oe=Se[0],Te=Se[1],Pe=(0,o.useState)(!1),ke=(0,y.default)(Pe,2),Ie=ke[0],Be=ke[1],De=(0,o.useState)(!1),Ee=(0,y.default)(De,2),ze=Ee[0],Re=Ee[1],Fe=(0,o.useState)(!1),_e=(0,y.default)(Fe,2),Ve=_e[0],We=_e[1],$e=function(){var e=(0,n.default)((function*(){var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Oe),t=!1;if(""===W&&(e.nom=!0,t=!0),""===A&&(e.prenom=!0,t=!0),""===G&&(e.email=!0,t=!0),""===X&&(e.password=!0,t=!0),""===re&&(e.role=!0,t=!0),null===ue?(Be(!0),t=!0):Be(!1),null===pe?(Re(!0),t=!0):Re(!1),null===ye?(We(!0),t=!0):We(!1),Te(e),t)"web"===k.default.OS?window.alert("Erreur: Tous les champs sont obligatoires."):S.default.alert("Erreur","Tous les champs sont obligatoires.");else if(G.includes("@")&&G.includes(".")){var n=/^(?=.*[A-Z])(?=.*[0-9])(?=.*[@#$%^&+=!])/.test(X)&&X.length>=8;if(!t&&n&&r){b(!0),c(!0);try{console.log("Avant l'envoi de la requ\xeate au serveur");var o=yield fetch(`${D}/users/postusers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:W,prenom:A,role:re,email:G,password:X,classementSimple:ue,classementDouble:pe,classementMixte:ye})});console.log("Apr\xe8s la r\xe9ponse du serveur");var i=yield o.json();if(201===o.status)console.log(o.status),console.log("Inscription r\xe9ussie"),"web"===k.default.OS?window.alert("Inscription r\xe9ussie."):S.default.alert("Succ\xe8s","Inscription r\xe9ussie."),j.navigate("Login");else if(400===o.status){"L'utilisateur avec cet e-mail existe d\xe9j\xe0."===i.message?"web"===k.default.OS?window.alert("Erreur: L'utilisateur avec cet e-mail existe d\xe9j\xe0."):S.default.alert("Erreur","L'utilisateur avec cet e-mail existe d\xe9j\xe0."):(console.error("Erreur lors de l'inscription: R\xe9ponse inattendue du serveur"),le("Erreur lors de l'inscription"))}else console.error("Erreur lors de l'inscription: R\xe9ponse inattendue du serveur"),le("Erreur lors de l'inscription")}catch(a){console.error("Erreur lors de l'inscription",a),le("Erreur lors de l'inscription")}b(!1),c(!1)}else{var l=t?" Tous les champs sont obligatoires.":n?"Vous devez accepter les conditions g\xe9n\xe9rales d'utilisation et la politique de confidentialit\xe9.":" Le mot de passe doit respecter les crit\xe8res suivants :\n\u2022 Contenir au moins une majuscule\n\u2022 Contenir au moins un caract\xe8re sp\xe9cial (@#$%^&+=!)\n\u2022 Contenir au moins un chiffre\n\u2022 Avoir une longueur minimale de 8 caract\xe8res.";"web"===k.default.OS?window.alert(l):S.default.alert("Erreur",l)}}else"web"===k.default.OS?window.alert("Erreur: L'adresse email doit contenir '@' et '.'."):S.default.alert("Erreur","L'adresse email doit contenir '@' et '.'.")}));return function(){return e.apply(this,arguments)}}();function He(){return Array.from({length:12},(function(e,t){return(t+1).toString()})).map((function(e){return{label:e,value:e}}))}return(0,h.jsx)(I.default,{style:{flex:1,backgroundColor:"#fff"},children:(0,h.jsx)(P.default,{behavior:"ios"===k.default.OS?"padding":"height",style:{flex:1},children:(0,h.jsx)(T.default,{contentContainerStyle:{flexGrow:1,justifyContent:"space-between"},children:(0,h.jsxs)(u.default,{style:_.container,children:[(0,h.jsx)(d.default,{style:_.classementInfo,children:"* Classement 1 = le plus \xe9lev\xe9 , 12 = le plus bas"}),(0,h.jsx)(d.default,{style:_.heading,testID:"inscriptionText",children:"Inscription"}),(0,h.jsxs)(u.default,{style:_.inputContainer,children:[(0,h.jsxs)(u.default,{style:_.classementContainer,children:[(0,h.jsx)(d.default,{style:_.classementTitle,children:"Classements :"}),(0,h.jsxs)(u.default,{style:_.classementInputs,children:[(0,h.jsxs)(u.default,{style:[_.classementInput,{flex:1}],children:[(0,h.jsx)(d.default,{style:{color:Ie?"red":"black"},children:"Simple:"}),(0,h.jsx)(z.default,{onValueChange:function(e){return de(e)},items:He(),value:ue,placeholder:{label:"A remplir",value:null}})]}),(0,h.jsxs)(u.default,{style:[_.classementInput,{flex:1}],children:[(0,h.jsx)(d.default,{style:{color:ze?"red":"black"},children:"Double:"}),(0,h.jsx)(z.default,{onValueChange:function(e){return he(e)},items:He(),value:pe,placeholder:{label:"A remplir",value:null}})]}),(0,h.jsxs)(u.default,{style:[_.classementInput,{flex:1}],children:[(0,h.jsx)(d.default,{style:{color:Ve?"red":"black"},children:"Mixte:"}),(0,h.jsx)(z.default,{onValueChange:function(e){return xe(e)},items:He(),value:ye,placeholder:{label:"A remplir",value:null}})]})]})]}),(0,h.jsx)(C.default,{placeholder:"Nom",value:W,onChangeText:function(e){return $(e)},style:[_.inputField,Oe.nom&&{borderBottomColor:"red"}]}),(0,h.jsx)(C.default,{placeholder:"Prenom",value:A,onChangeText:function(e){return M(e)},style:[_.inputField,Oe.nom&&{borderBottomColor:"red"}]}),(0,h.jsx)(C.default,{placeholder:"Email",value:G,onChangeText:function(e){return Z(e)},style:[_.inputField,Oe.nom&&{borderBottomColor:"red"}],keyboardType:"email-address",autoCapitalize:"none"}),(0,h.jsxs)(u.default,{style:_.inputContainer,children:[(0,h.jsx)(C.default,{placeholder:"Mot de passe",secureTextEntry:!ve,value:X,onChangeText:function(e){return Y(e)},style:[_.inputField,Oe.nom&&{borderBottomColor:"red"}]}),(0,h.jsx)(f.default,{onPress:function(){we(!ve)},style:_.eyeIcon,children:(0,h.jsx)(E.default,{name:ve?"eye-slash":"eye",size:20,color:"#000"})})]}),(0,h.jsx)(u.default,{style:_.inputContainerRole,children:(0,h.jsx)(w.SelectList,{placeholder:"R\xf4le",setSelected:function(e){return ne(e)},data:[{key:"2",value:"joueur"}],save:"value",style:_.choix})})]}),(0,h.jsxs)(u.default,{style:_.switchContainer,children:[(0,h.jsx)(O.default,{value:r,onValueChange:function(){i(!r)},trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:r?"#f5dd4b":"#f4f3f4",ios_backgroundColor:"#3e3e3e",testID:"consentCheckbox"}),(0,h.jsxs)(d.default,{style:_.consentText,children:["J'accepte les conditions g\xe9n\xe9rales d'utilisation et la politique de confidentialit\xe9."," ",(0,h.jsx)(d.default,{style:_.linkText,onPress:function(){return j.navigate("PrivacyPolicy")},children:"En savoir plus."})]})]}),x?"ios"===k.default.OS||"android"===k.default.OS?(0,h.jsx)(B.default,{size:"large",color:"#0000ff"}):(0,h.jsx)(u.default,{style:_.loadingContainer,children:(0,h.jsx)(d.default,{style:_.loadingText,children:"Chargement..."})}):(0,h.jsx)(f.default,{style:_.button,onPress:$e,testID:"inscriptionButton",disabled:s,children:(0,h.jsx)(d.default,{style:_.buttonText,children:"Inscription"})}),(0,h.jsxs)(u.default,{style:_.signupContainer,children:[(0,h.jsx)(d.default,{style:_.already,children:"Tu as deja un compte ?"}),(0,h.jsx)(f.default,{onPress:function(){return j.navigate("Login")},children:(0,h.jsx)(d.default,{style:_.signupLink,children:"Connecte-toi"})})]})]})})})})}var _=c.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#fff",padding:30,borderRadius:30,shadowColor:"rgba(0, 0, 0, 0.062)",shadowOffset:{width:0,height:0},shadowRadius:40},classementInfo:{position:"absolute",bottom:10,left:10,fontSize:12,color:"#333",paddingBottom:10},heading:{fontSize:26,color:"#2e2e2e",fontWeight:"bold",marginBottom:40},inputContainer:{width:"100%",position:"relative",marginBottom:30,marginTop:20},inputContainerRole:{width:"100%",position:"relative",marginBottom:20,display:"none"},inputField:{width:"100%",minHeight:60,borderBottomWidth:2,borderBottomColor:"rgb(173, 173, 173)",backgroundColor:"transparent",color:"black",fontSize:16,fontWeight:"500",paddingLeft:30},button:{width:"100%",borderWidth:2,borderColor:"#283b67",backgroundColor:"#4d8194",height:40,borderRadius:30,marginVertical:10,alignItems:"center",justifyContent:"center",marginTop:-20},buttonText:{color:"white",fontSize:16,fontWeight:"500",letterSpacing:1},signupContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:0,marginTop:20,marginBottom:20},signupLink:{fontSize:14,fontWeight:"500",backgroundColor:"#2e2e2e",color:"white",textDecorationLine:"none",paddingVertical:8,paddingHorizontal:15,borderRadius:20},already:{padding:5},eyeIcon:{position:"absolute",right:12,marginTop:20},classementContainer:{marginTop:7,marginBottom:10},classementTitle:{fontSize:18,fontWeight:"bold",marginBottom:10,color:"#333"},classementInputs:{flexDirection:"row",alignItems:"center"},classementInput:{flex:1,marginHorizontal:5},switchContainer:{flexDirection:"row",alignItems:"center",paddingBottom:30,paddingTop:-10},consentText:{marginLeft:10,fontSize:13,color:"#333"},linkText:{color:"#007bff",textDecorationLine:"underline"},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:50,marginVertical:10},loadingText:{color:"#4d8194",fontSize:18,fontWeight:"bold"}}),V=r(2982),W=r(3604),$=r(8911),H=r(611);function L(e){var t=e.isOpen,r=e.content,n=e.onClose,o=e.children;return t?(0,h.jsxs)("div",{style:A,className:"custom-modal",children:[(0,h.jsx)("div",{style:M,onClick:n}),(0,h.jsxs)("div",{style:N,className:"modal-content",children:[(0,h.jsx)("div",{dangerouslySetInnerHTML:{__html:r}}),o,(0,h.jsx)("button",{style:q,onClick:n,className:"close-button",children:"Fermer"})]})]}):null}var A={position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:999},M={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:-1},N={backgroundColor:"#fff",padding:20,borderRadius:10,maxWidth:"400px",margin:"0 auto",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",position:"relative",fontFamily:"Arial"},q={position:"absolute",top:"5px",right:"5px",backgroundColor:"#ff6b6b",color:"#fff",padding:"2px 4px",fontSize:"12px",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold",textAlign:"center"},U=r(1667),J=r(955),G=r(4994);const Z=c.default.create({container:{flex:1,padding:16,marginTop:40},eventContainer:{borderWidth:1,borderColor:"#ccc",padding:8,marginBottom:8},participationButtons:{flexDirection:"row",justifyContent:"space-between"},attendanceContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:20},matchItem:{borderWidth:1,borderColor:"#ccc",padding:8,marginBottom:16,backgroundColor:"#cee3ed",borderRadius:10},badmintonPlayer:{borderColor:"#ccc",padding:8,marginBottom:8,backgroundColor:"#00887e",borderRadius:10},legendButton:{padding:10,backgroundColor:"#e0e0e0",borderRadius:5,marginBottom:10},legendButtonText:{textAlign:"center",fontWeight:"bold"},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:"#214353",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},buttonClose:{backgroundColor:"#559ea2",borderRadius:20,padding:7,elevation:2,marginTop:15},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},legendTitle:{marginBottom:15,textAlign:"center",fontWeight:"bold",color:"#e4ebef"},legendText:{textAlign:"center",marginVertical:5,color:"#e4ebef"},eventItem:{backgroundColor:"#f9f9f9",padding:20,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3,marginBottom:20},eventTitle:{fontSize:18,fontWeight:"bold",color:"#467c86",marginBottom:5},eventTitle2:{fontSize:20,fontWeight:"bold",color:"#123e53",marginBottom:10,marginTop:10,textAlign:"center"},eventInfo:{fontSize:16,color:"#333333",marginBottom:5},participationButtons:{flexDirection:"row",justifyContent:"space-around",marginTop:10},confirmationMessage:{fontSize:16,color:"green",marginVertical:10,textAlign:"center"},modalViewPlayers:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5,minHeight:450,maxHeight:"90%"},modalText:{marginBottom:15,textAlign:"center",fontSize:16,color:"#333"},closeButtonText:{color:"white",fontWeight:"bold",textAlign:"center"},closeButton:{backgroundColor:"#2196F3",borderRadius:20,padding:10,elevation:2,marginTop:15},modalTitle:{fontSize:20,fontWeight:"bold",margin:10,color:"#000"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)"},colorselection:{marginTop:20,padding:10,backgroundColor:"#ccc",color:"black",borderRadius:10},colorOption:{width:50,height:50,margin:10,borderRadius:25},colorOptionText:{color:"white",fontWeight:"bold"},colorOptionContainer:{alignItems:"center",justifyContent:"center",marginBottom:10},closeButtonCouleur:{marginTop:20,padding:10,backgroundColor:"#ccc",borderRadius:10},closeButtonTextColor:{color:"black",textAlign:"center"},button:{alignItems:"center",backgroundColor:"#467c86",padding:12,borderRadius:15,margin:5,borderColor:"#000000",borderWidth:1,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},input:{height:50,borderColor:"#B0C4DE",borderWidth:1,marginBottom:15,paddingLeft:15,borderRadius:15,backgroundColor:"#F8F8FF",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},buttonText:{fontSize:18,color:"#FFFFFF"},title:{fontSize:24,color:"#123e53",textAlign:"center",marginTop:20,marginBottom:20,fontWeight:"bold"},buttonHeure:{alignItems:"Left",height:50,backgroundColor:"#F8F8FF",padding:10,paddingLeft:15,borderRadius:15,margin:5,borderColor:"#000000",borderWidth:1,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},buttonTextHeure:{paddingTop:15,fontSize:15,color:"#141607"},formContainer:{borderWidth:1,borderColor:"gray",borderRadius:10,padding:10,backgroundColor:"white",shadowColor:"black",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:4,elevation:4,marginBottom:17,marginTop:20},editButton:{color:"blue",marginTop:8},dateTimePickerContainer:{backgroundColor:"white",borderRadius:8,padding:16,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,marginTop:20},dateTimePicker:{},instructions:{marginTop:8,marginBottom:20,fontSize:16,color:"#333",fontWeight:"bold"},confirmButton:{backgroundColor:"#467c86",paddingVertical:10,paddingHorizontal:20,borderRadius:8,marginTop:16},confirmButtonText:{color:"white",fontSize:13,fontWeight:"bold",textAlign:"center"},closedRegistrationText:{color:"red",fontSize:16,fontWeight:"bold",textAlign:"center",marginTop:10,marginBottom:10},checkedBox:{width:20,height:20,borderRadius:5,backgroundColor:"#4CAF50",justifyContent:"center",alignItems:"center",marginRight:0,marginTop:7},uncheckedBox:{width:20,height:20,borderRadius:5,backgroundColor:"#FFF",borderColor:"#E0E0E0",borderWidth:1,justifyContent:"center",alignItems:"center",marginRight:0,marginTop:7},dropdownOverlay:{position:"relative",zIndex:1,backgroundColor:"white",padding:10,flexDirection:"row",flexWrap:"wrap",top:"0%",alignItems:"center",justifyContent:"center"}});var K=r(5618),Q=(r(3716),r(9004)),X=r(4361),Y=r(5465),ee=r(6576),te=r(2571),re=r(6255),ne=r(5616);function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const le=function(e){var t=e.route,r=(0,o.useState)({}),i=(0,y.default)(r,2),l=i[0],a=i[1],c=(0,o.useState)({}),m=(0,y.default)(c,2),g=m[0],x=m[1],b=(0,o.useState)(null),v=(0,y.default)(b,2),O=v[0],I=v[1],B=(0,p.useNavigation)(),E=t.params||{},z=(E.prenom,E.setprenom,t.params||{}),R=(z.id,z.setId,(0,o.useState)(!1)),F=(0,y.default)(R,2),_=F[0],A=F[1],M=(0,o.useState)(!1),N=(0,y.default)(M,2),q=N[0],oe=N[1],le=(0,o.useState)(!1),ae=(0,y.default)(le,2),se=ae[0],ue=ae[1],de=(0,o.useState)(null),ce=(0,y.default)(de,2),fe=ce[0],pe=ce[1],he=(j().setIsSignedIn,(0,o.useState)(!1)),me=(0,y.default)(he,2),ge=me[0],ye=me[1],xe=(0,o.useState)([]),be=(0,y.default)(xe,2),je=be[0],ve=be[1],we=(0,o.useState)({}),Ce=(0,y.default)(we,2),Se=(Ce[0],Ce[1],(0,o.useState)(!1)),Oe=(0,y.default)(Se,2),Te=Oe[0],Pe=Oe[1],ke=(0,o.useState)(!1),Ie=(0,y.default)(ke,2),Be=Ie[0],De=Ie[1],Ee=(0,o.useState)(""),ze=(0,y.default)(Ee,2),Re=ze[0],Fe=ze[1],_e=(0,o.useState)(""),Ve=(0,y.default)(_e,2),We=(Ve[0],Ve[1],(0,o.useState)("")),$e=(0,y.default)(We,2),He=$e[0],Le=$e[1],Ae=(0,o.useState)(""),Me=(0,y.default)(Ae,2),Ne=Me[0],qe=Me[1],Ue=(0,o.useState)(!1),Je=(0,y.default)(Ue,2),Ge=Je[0],Ze=Je[1],Ke=(0,o.useState)(!1),Qe=(0,y.default)(Ke,2),Xe=Qe[0],Ye=Qe[1],et=(0,o.useState)({}),tt=(0,y.default)(et,2),rt=(tt[0],tt[1]),nt=(0,o.useState)(""),ot=(0,y.default)(nt,2),it=ot[0],lt=ot[1],at=(0,o.useState)(!1),st=(0,y.default)(at,2),ut=(st[0],st[1],(0,o.useState)("")),dt=(0,y.default)(ut,2),ct=dt[0],ft=dt[1],pt=(0,o.useState)([]),ht=(0,y.default)(pt,2),mt=ht[0],gt=ht[1],yt=(0,o.useState)(!1),xt=(0,y.default)(yt,2),bt=xt[0],jt=xt[1],vt=new Date;vt.setHours(19,30);var wt=new Date;wt.setHours(23,0);var Ct=(0,o.useState)(vt),St=(0,y.default)(Ct,2),Ot=St[0],Tt=St[1],Pt=(0,o.useState)("19:30"),kt=(0,y.default)(Pt,2),It=kt[0],Bt=kt[1],Dt=(0,o.useState)(!0),Et=(0,y.default)(Dt,2),zt=Et[0],Rt=Et[1],Ft=function(e){var t=e.direction;return(0,h.jsx)(J.default,{name:"left"===t?"chevron-left":"chevron-right"})},_t=(0,o.useState)(new Date),Vt=(0,y.default)(_t,2),Wt=Vt[0],$t=Vt[1];(0,o.useEffect)((function(){qt(),Qt(),tr(),Mt();var e=setInterval((function(){qt(),Qt(),tr()}),3e4);return function(){clearInterval(e)}}),[mt]),(0,o.useEffect)((function(){sr&&gt(sr.map((function(e){return e.color})))}),[sr]);var Ht=function(){Ze(!1)},Lt=function(e){console.log("Nouvelle heure s\xe9lectionn\xe9e:",e.target.value),Bt(e.target.value)},At=function(e){$t(e),Ht()},Mt=function(){rt({monday:"#96dfa2",tuesday:"#9199ff",thursday:"#9199ff",sunday:"#9199ff"})},Nt=function(){var e=(0,n.default)((function*(){try{if(!fe||!fe.id)return void console.error("Les informations de l'utilisateur ne sont pas disponibles");var e;if("web"===k.default.OS){var t=It.split(":"),r=(0,y.default)(t,2),n=r[0],o=r[1],i=(0,Y.default)(Ne);e=(0,ee.default)((0,te.default)(i,parseInt(n,10)),parseInt(o,10))}else{var l=(0,Y.default)(Ne),a=new Date(Wt);e=(0,ee.default)((0,te.default)(l,a.getHours()),a.getMinutes())}var s="Europe/Paris",u=(0,Q.default)(e,s),d=(0,X.default)(u,"yyyy-MM-dd'T'HH:mm:ss.SSSX",{timeZone:s});console.log("formattedDateTime:",d),yield U.default.post(`${D}/event/postcalendar`,{title:Re,status:He,date:d,heure:(0,X.default)(u,"HH:mm:ss"),user_id:fe.id}),console.log("Donn\xe9es envoy\xe9es \xe0 l'API:",{title:Re,status:He,date:d,heure:(0,X.default)(u,"HH:mm:ss"),user_id:fe.id}),Qt()}catch(c){console.error("Erreur lors de la cr\xe9ation de l'\xe9v\xe9nement",c)}}));return function(){return e.apply(this,arguments)}}(),qt=function(){var e=(0,n.default)((function*(){try{var e=yield s.default.getItem("userToken");if(!e)return void console.error("page calendrier : Token non trouv\xe9");var t=yield fetch(`${D}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();if(r.success){pe(r.user),console.log("data user",r.user);var n=r.user.role&&"admin"===r.user.role.toLowerCase(),o=r.user.role&&"joueur"===r.user.role.toLowerCase();Pe(n),De(o),console.log("isAdmin:",n),console.log("isJoueur:",o)}else console.error("Rat\xe9 pour fetch user info page calendrier:",r.message)}catch(i){console.error("Erreur pour fetch les info des users:",i)}}));return function(){return e.apply(this,arguments)}}(),Ut=function(){var e=(0,n.default)((function*(e){try{console.log("Valeur de 'selectedColor' :",e),console.log("Valeur de 'selectedDate' avant la mise \xe0 jour :",O),"white"===e?{date:O,color:null}:{date:O,color:e};var t=yield U.default.post(`${D}/date_color/associateColorToDate`,{date:O,color:e});console.log("R\xe9ponse de la requ\xeate :",t.data);var r=ie({},l);r[O]="white"===e?{customStyles:{container:{},text:{color:"black"}}}:{customStyles:{container:{backgroundColor:e},text:{color:"white"}}},a(r),Ye(!1)}catch(n){console.error("Erreur lors de l'association de la couleur \xe0 la date",n)}}));return function(t){return e.apply(this,arguments)}}(),Jt=function(){oe(!q)},Gt=function(e,t){t>=vt&&t<=wt?(Tt(t),console.log("Heure s\xe9lectionn\xe9e:",t)):(S.default.alert("Heure non autoris\xe9e","Veuillez s\xe9lectionner une heure entre 19:30 et 23:00."),Tt(vt))},Zt=function(){A(!0)},Kt=function(e){"Oui"===e?Zt():er("Non"),ye(!1)},Qt=function(){var e=(0,n.default)((function*(){try{var e=yield U.default.get(`${D}/event/calendar`),t={};e.data.forEach((function(e){var r=(0,X.default)((0,Q.default)(e.date,"Europe/Paris"),"yyyy-MM-dd");t[r]||(t[r]=[]),t[r].push(ie(ie({},e),{},{date:r,heure:e.heure}))})),x(t)}catch(r){console.error("Erreur lors de la r\xe9cup\xe9ration des \xe9v\xe9nements",r)}}));return function(){return e.apply(this,arguments)}}(),Xt=function(){var e=(0,n.default)((function*(e){try{var t=yield U.default.get(`${D}/participation_event/ouiparticipation/${e}`);ve(t.data),ye(!0)}catch(r){console.error("Erreur lors de la r\xe9cup\xe9ration des participants",r)}}));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=(0,n.default)((function*(e,t){try{if(!fe||!fe.id)return void console.error("Les informations de l'utilisateur ne sont pas disponibles");yield U.default.post(`${D}/participation_event/updateParticipation/${e}`,{participation:t,id:fe.id,prenom:fe.prenom}),"Oui"===t&&("web"===k.default.OS?window.alert("Vous \xeates inscrit \xe0 l'\xe9v\xe9nement! Les matchs seront disponibles 24h avant l'\xe9v\xe9nement"):S.default.alert("Confirmation","Vous \xeates inscrit \xe0 l'\xe9v\xe9nement! \n Les matchs seront disponibles 24h avant l'\xe9v\xe9nement",[{text:"OK",onPress:function(){return console.log("Confirmation de l'inscription")}}])),yield Qt(),console.log("Participation valid\xe9e")}catch(r){console.error("Erreur lors de la mise \xe0 jour de la participation",r),r.response&&(console.error("Statut de r\xe9ponse :",r.response.status),console.error("Donn\xe9es de r\xe9ponse :",r.response.data))}}));return function(t,r){return e.apply(this,arguments)}}(),er=function(){var e=(0,n.default)((function*(e){try{if("Oui"!==e&&"Non"!==e)throw new Error("La participation doit \xeatre soit 'Oui' soit 'Non'");var t;if("web"===k.default.OS){var r=(t=It).split(":").map(Number),n=(0,y.default)(r,2),o=n[0],i=n[1];if(o<19||23===o&&i>0||o>23)return void window.alert("L'heure doit \xeatre entre 19h30 et 23h00")}else{var l=new Date(Ot);t=`${l.getHours().toString().padStart(2,"0")}:${l.getMinutes().toString().padStart(2,"0")}`}if(console.log("heure "+t),!fe||!fe.id)return void console.error("Les informations de l'utilisateur ne sont pas disponibles");yield U.default.post(`${D}/participation_jeu/participationJeuLibre/${fe.id}`,{participation:"Oui"===e?"Oui":"Non",date:(0,X.default)((0,Y.default)(O),"yyyy-MM-dd"),heure:t}),yield Qt(),console.log("Participation mise \xe0 jour avec succ\xe8s")}catch(a){console.error("Erreur lors de la mise \xe0 jour de la participation",a),a.response&&(console.error("Statut de r\xe9ponse :",a.response.status),console.error("Donn\xe9es de r\xe9ponse :",a.response.data))}}));return function(t){return e.apply(this,arguments)}}(),tr=function(){var e=(0,n.default)((function*(){try{var e=yield U.default.get(`${D}/date_color/getAllDateColors`),t=e.data||{},r=e.data,n={};for(var o in r)try{var i=new Date(o);n[(0,X.default)(i,"yyyy-MM-dd")]=r[o]}catch(d){console.error(`Error parsing date: ${o}`,d)}if(t){var l={};for(var s in n){var u=n[s];mt.includes(u)&&(l[s]={customStyles:{container:{backgroundColor:u},text:{color:"white"}}})}a(l)}else console.error("Aucune couleur de date trouv\xe9e.")}catch(c){return console.error("Erreur lors de la r\xe9cup\xe9ration de toutes les couleurs de date",c),{}}}));return function(){return e.apply(this,arguments)}}(),rr=function(){var e=(0,n.default)((function*(e){try{return(yield U.default.get(`${D}/participation_jeu/ouiparticipationjeulibre/${e}`)).data}catch(t){return console.error("Erreur lors de la r\xe9cup\xe9ration des participants",t),[]}}));return function(t){return e.apply(this,arguments)}}(),nr=function(){var e=(0,n.default)((function*(e){if(console.log("Date s\xe9lectionn\xe9e :",e.dateString),e&&e.dateString){var t,r,n,o=e.dateString;I(o),tr();var i=yield rr(o);console.log(i);var a=new Date;a.setHours(0,0,0,0);var s=new Date(o);s.setHours(0,0,0,0);var u=s<a,d=null==(t=l[o])||null==(r=t.customStyles)||null==(n=r.container)?void 0:n.backgroundColor;if(lt(d),"web"!==k.default.OS)if("#96dfa2"===d||"#9199ff"===d)if(u)S.default.alert("Impossible de s'inscrire au jeu libre pour une date ant\xe9rieure");else{var c=(0,X.default)((0,Y.default)(o),"dd/MM/yyyy");console.log("Participants pr\xe9sents :",i),A(!0),ue(!0),i.length>0&&S.default.alert(`Viens-tu au jeu libre le ${c}?`,"Voici les joueurs pr\xe9sents:\n"+i.map((function(e){var t=e.heure.split(":"),r=(0,y.default)(t,2),n=r[0],o=r[1];return`${e.prenom} ${e.nom} \xe0 ${n}:${o}`})).join(", \n"),[{text:"Non",onPress:function(){return er("Non")},style:"cancel"},{text:"Oui",onPress:function(){return Zt()}},{text:"Fermer",onPress:function(){return console.log("Bo\xeete de dialogue ferm\xe9e")},style:"cancel"}])}else"#e05642"===d?(A(!1),ue(!1),S.default.alert("Information","Salle ferm\xe9e")):"#eac849"===d&&(A(!1),ue(!1));else if("#96dfa2"===d||"#9199ff"===d)if(u)window.alert("Impossible de s'inscrire au jeu libre pour une date ant\xe9rieure");else{var f=`<strong> Viens-tu au jeu libre le ${(0,X.default)((0,Y.default)(o),"dd/MM/yyyy")}?, <br/> <br/> Voici les joueurs pr\xe9sents: <br/>  <br/> </strong>  ${i.map((function(e){var t=e.heure.split(":"),r=(0,y.default)(t,2),n=r[0],o=r[1];return`${e.prenom} ${e.nom} \xe0 ${n}:${o}`})).join("<br/>")}`;ft(f),ye(!0),A(!0),ue(!0),Rt(!0)}else"#e05642"===d?(ft(" <strong> <br/> La salle est ferm\xe9e pour cette date </strong>"),ye(!0),ue(!1),Rt(!1)):"#eac849"===d&&(A(!1),ue(!1))}else console.error("La date s\xe9lectionn\xe9e n'est pas correctement d\xe9finie.")}));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=(0,n.default)((function*(e){try{return(yield U.default.get(`${D}/participation_event/participantcount/${e}`)).data.participant_count}catch(t){return console.error("Erreur lors de la r\xe9cup\xe9ration du nombre de participants",t),0}}));return function(t){return e.apply(this,arguments)}}(),ir=function(e){return Math.ceil(e/4)},lr=function(e){var t=e.eventId,r=(0,o.useState)(null),i=(0,y.default)(r,2),l=i[0],a=i[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,n.default)((function*(){var e=yield or(t);a(e)}));return function(){return e.apply(this,arguments)}}();e()}),[t]),null===l?(0,h.jsx)(d.default,{style:Z.eventInfo,children:"Chargement..."}):(0,h.jsxs)(d.default,{style:Z.eventInfo,children:["Terrains utilis\xe9s : ",ir(l)]})},ar=function(e){var t=new Date,r=(0,re.default)((0,Y.default)(e),24);return(0,ne.default)(t,r)},sr=[{color:"#e05642"},{color:"#96dfa2"},{color:"#9199ff"},{color:"#eac849"}];return(0,h.jsx)(P.default,{behavior:"ios"===k.default.OS?"padding":"height",style:{flex:1},children:(0,h.jsx)(T.default,{children:(0,h.jsxs)(u.default,{style:Z.container,children:[(0,h.jsx)(f.default,{style:Z.legendButton,onPress:Jt,children:(0,h.jsx)(d.default,{style:Z.legendButtonText,children:"Voir la l\xe9gende des couleurs"})}),bt&&(0,h.jsx)(u.default,{style:Z.dropdownOverlay,children:sr.map((function(e,t){return(0,h.jsxs)(u.default,{style:{alignItems:"center",margin:6},children:[(0,h.jsx)(u.default,{style:{backgroundColor:e.color,width:20,height:20,marginBottom:10}}),(0,h.jsx)(f.default,{style:mt.includes(e.color)?Z.checkedBox:Z.uncheckedBox,onPress:function(){return t=e.color,void(mt.includes(t)?gt(mt.filter((function(e){return e!==t}))):gt([].concat((0,V.default)(mt),[t])));var t},children:mt.includes(e.color)&&(0,h.jsx)(d.default,{children:"\u2713"})})]},t)}))}),q&&(0,h.jsx)((function(){return(0,h.jsx)(W.default,{animationType:"slide",transparent:!0,visible:q,onRequestClose:function(){S.default.alert("La l\xe9gende a \xe9t\xe9 ferm\xe9e."),oe(!q)},children:(0,h.jsx)(u.default,{style:Z.centeredView,children:(0,h.jsxs)(u.default,{style:Z.modalView,children:[(0,h.jsx)(d.default,{style:Z.legendTitle,children:"L\xe9gende des couleurs:"}),(0,h.jsxs)(d.default,{style:Z.legendText,children:[(0,h.jsx)(d.default,{style:{color:"#96dfa2"},children:"\u25cf"}),"  Jeu libre au Verseau"]}),(0,h.jsxs)(d.default,{style:Z.legendText,children:[(0,h.jsx)(d.default,{style:{color:"#9199ff"},children:"\u25cf"})," Jeu libre \xe0 Rixensart"]}),(0,h.jsxs)(d.default,{style:Z.legendText,children:[(0,h.jsx)(d.default,{style:{color:"#eac849"},children:"\u25cf"}),"  Soir\xe9e \xe0 th\xe8me"]}),(0,h.jsxs)(d.default,{style:Z.legendText,children:[(0,h.jsx)(d.default,{style:{color:"#e05642"},children:"\u25cf"}),"  Fermeture de la salle"]}),(0,h.jsx)(f.default,{style:Z.buttonClose,onPress:Jt,children:(0,h.jsx)(d.default,{style:Z.textStyle,children:"Fermer"})})]})})})}),{}),(0,h.jsx)($.default,{title:"Filtrer",onPress:function(){return jt(!bt)}}),Be&&(0,h.jsx)(H.Calendar,{onDayPress:nr,markedDates:l,markingType:"custom",renderArrow:function(e){return(0,h.jsx)(Ft,{direction:e})}}),Te&&(0,h.jsx)(H.Calendar,{onDayPress:function(e){I(e.dateString),qe(e.dateString),Ye(!0)},markedDates:l,markingType:"custom",renderArrow:function(e){return(0,h.jsx)(Ft,{direction:e})}}),Te&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(u.default,{style:Z.formContainer,children:[(0,h.jsx)(d.default,{style:Z.title,children:"Formulaire"}),(0,h.jsx)(u.default,{style:[Z.inputContainer,{marginBottom:18}],children:(0,h.jsx)(w.SelectList,{placeholder:"status",setSelected:function(e){return Le(e)},data:[{key:"1",value:"Tous niveau"},{key:"2",value:"Par niveau"}],save:"value",style:Z.choix})}),(0,h.jsx)(C.default,{style:Z.input,placeholder:"Titre",value:Re,onChangeText:function(e){return Fe(e)}}),(0,h.jsx)(C.default,{style:Z.input,placeholder:"Date",value:Ne,onChangeText:function(e){return qe(e)}}),"web"===k.default.OS?(0,h.jsx)("input",{type:"time",onChange:Lt,value:It,style:{}}):(0,h.jsx)(K.default,{isVisible:Ge,mode:"time",onConfirm:At,onCancel:Ht,textColor:"black"}),"web"!==k.default.OS&&(0,h.jsx)(f.default,{style:Z.input,onPress:function(){return Ze(!0)},children:(0,h.jsx)(d.default,{style:Z.buttonTextHeure,children:Wt?(0,X.default)(Wt,"HH:mm"):"Choisir l'heure"})}),(0,h.jsx)(f.default,{style:Z.button,onPress:Nt,children:(0,h.jsx)(d.default,{style:Z.buttonText,children:"Cr\xe9er un \xe9v\xe9nement"})})]})}),_&&(0,h.jsxs)(u.default,{style:Z.dateTimePickerContainer,children:[(0,h.jsx)(d.default,{style:Z.instructions,children:"Choisissez l'heure avant de confirmer"}),"web"===k.default.OS?(0,h.jsx)("input",{type:"time",onChange:Lt,value:It,style:{}}):(0,h.jsx)(G.default,{value:Ot,mode:"time",is24Hour:!0,display:"default",onChange:Gt,style:Z.dateTimePicker,minimumDate:vt,maximumDate:wt}),se&&(0,h.jsx)(f.default,{style:Z.confirmButton,onPress:function(){A(!1),ue(!1),er("Oui",Ot),console.log("Heure confirm\xe9e:",Ot)},children:(0,h.jsx)(d.default,{style:Z.confirmButtonText,children:"Confirmer la participation"})})]}),(0,h.jsx)(d.default,{style:Z.eventTitle2,children:"#9199ff"!==it&&"#96dfa2"!==it?" \xc9v\xe9nements :":""}),function(){return O&&l[O]&&g[O]?(0,h.jsxs)(u.default,{children:[g[O].map((function(e){return(0,h.jsxs)(u.default,{style:Z.eventItem,children:[(0,h.jsx)(d.default,{style:Z.eventTitle,children:e.status}),(0,h.jsxs)(d.default,{style:Z.eventInfo,children:["Date : ",(0,X.default)((0,Y.default)(e.date),"PP")]}),(0,h.jsxs)(d.default,{style:Z.eventInfo,children:["Heure : ",e.heure]}),(0,h.jsx)(lr,{eventId:e.id}),(0,h.jsx)(f.default,{onPress:function(){return Xt(e.id)},children:(0,h.jsx)(J.default,{name:"person",size:30,color:"blue"})}),Te&&(0,h.jsx)(f.default,{onPress:function(){return t=e.id,B.navigate("Gestion d'\xe9venement",{eventId:t}),void console.log(t);var t},children:(0,h.jsx)(J.default,{name:"edit",size:30,color:"purple"})}),ar(`${e.date}T${e.heure}`)?(0,h.jsxs)(u.default,{style:{alignItems:"center"},children:[(0,h.jsx)(d.default,{style:Z.eventTitle2,children:"Valider l'inscription"}),(0,h.jsxs)(u.default,{style:Z.participationButtons,children:[(0,h.jsx)(f.default,{onPress:function(){return Yt(e.id,"Oui")},style:{marginRight:5},children:(0,h.jsx)(J.default,{name:"check-circle",size:30,color:"green"})}),(0,h.jsx)(f.default,{onPress:function(){return Yt(e.id,"Non")},style:{marginLeft:5},children:(0,h.jsx)(J.default,{name:"cancel",size:30,color:"red"})})]})]}):(0,h.jsx)(d.default,{style:Z.closedRegistrationText,children:"Inscription ferm\xe9e"})]},e.id)})),(0,h.jsx)(W.default,{visible:ge,onRequestClose:function(){return ye(!1)},animationType:"slide",transparent:!0,children:(0,h.jsx)(u.default,{style:Z.centeredView,children:(0,h.jsxs)(u.default,{style:[Z.modalViewPlayers,{height:(e=je.length,Math.min(600,Math.max(200,40*e)))}],children:[(0,h.jsx)(d.default,{style:Z.modalTitle,children:"Participants de l'\xc9v\xe9nement"}),0===je.length?(0,h.jsx)(d.default,{style:Z.modalText,children:"Pas encore de participants inscrits."}):(0,h.jsx)(T.default,{children:je.map((function(e){return(0,h.jsxs)(d.default,{style:Z.modalText,children:[e.prenom," ",e.nom]},e.user_id)}))}),(0,h.jsx)(f.default,{style:Z.button,onPress:function(){return ye(!1)},children:(0,h.jsx)(d.default,{style:Z.closeButtonText,children:"Fermer"})})]})})})]}):null;var e}(),Te&&Xe&&(0,h.jsx)(W.default,{animationType:"slide",transparent:!0,visible:Xe,children:(0,h.jsxs)(u.default,{style:Z.modalContainer,children:[(0,h.jsx)(d.default,{style:Z.colorselection,children:"S\xe9lectionnez une couleur :"}),[{color:"#e05642",text:"Ferm\xe9"},{color:"#96dfa2",text:"Verseau"},{color:"#9199ff",text:"Rixensart"},{color:"#eac849",text:"Ev\xe8nement"},{color:"white",text:"Retirer"}].map((function(e,t){return(0,h.jsxs)(u.default,{style:Z.colorOptionContainer,children:[(0,h.jsx)(f.default,{style:[Z.colorOption,{backgroundColor:e.color}],onPress:function(){Ut(e.color)}}),(0,h.jsx)(d.default,{style:Z.colorOptionText,children:e.text})]},t)})),(0,h.jsx)(f.default,{style:Z.closeButtonCouleur,onPress:function(){return Ye(!1)},children:(0,h.jsx)(d.default,{style:Z.closeButtonTextColor,children:"Fermer"})})]})}),(0,h.jsx)(L,{isOpen:ge,content:ct,onClose:function(){return ye(!1)},children:zt&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{onClick:function(){return Kt("Oui")},className:"button",children:"Oui"}),(0,h.jsx)("button",{onClick:function(){return Kt("Non")},className:"button",children:"Non"})]})})]})})})};function ae(){var e=(0,p.useNavigation)(),t=(0,o.useState)(""),r=(0,y.default)(t,2),i=r[0],l=r[1],a=(0,o.useState)(!1),c=(0,y.default)(a,2),m=(c[0],c[1]),g=(0,o.useState)(!1),x=(0,y.default)(g,2),b=x[0],v=x[1],S=(0,o.useState)(""),O=(0,y.default)(S,2),T=O[0],P=O[1],I=(0,o.useState)(!1),z=(0,y.default)(I,2),R=z[0],F=z[1],_=(0,o.useState)(""),V=(0,y.default)(_,2),W=(V[0],V[1],o.useState("")),$=(0,y.default)(W,2),H=($[0],$[1]),L=j().setIsSignedIn,A=function(){var e=(0,n.default)((function*(){v(!0),m(!0);try{var e={email:i,password:T},t=yield fetch(`${D}/user_tokens/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=yield t.json();200===t.status&&r.token?(yield s.default.setItem("userToken",r.token),console.log("Token stored successfully"),L(!0),console.log("Connexion r\xe9ussie")):console.error("Token manquant ou erreur de connexion")}catch(n){console.error("Erreur lors de la connexion :",n)}v(!1),m(!1)}));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(u.default,{style:se.container,children:[(0,h.jsx)(d.default,{style:se.heading,testID:"ConnexionText",children:"Connexion"}),(0,h.jsxs)(u.default,{style:se.inputContainer,children:[(0,h.jsx)(C.default,{placeholder:"Email",value:i,onChangeText:function(e){return l(e)},style:se.inputField}),(0,h.jsx)(C.default,{placeholder:"Mot de passe",secureTextEntry:!R,value:T,onChangeText:function(e){return P(e)},style:se.inputField,testID:"passwordInput"}),(0,h.jsx)(f.default,{onPress:function(){F(!R)},style:se.eyeIcon,testID:"eyeIcon",children:(0,h.jsx)(E.default,{name:R?"eye-slash":"eye",size:20,color:"#000"})}),(0,h.jsx)(u.default,{style:se.inputContainer,children:(0,h.jsx)(w.SelectList,{placeholder:"R\xf4le",setSelected:function(e){return H(e)},data:[{key:"1",value:"admin"},{key:"2",value:"joueur"}],save:"value",style:se.choix,testID:"roleSelect"})})]}),b?"ios"===k.default.OS||"android"===k.default.OS?(0,h.jsx)(B.default,{size:"large",color:"#0000ff"}):(0,h.jsx)(u.default,{style:se.loadingContainer,children:(0,h.jsx)(d.default,{style:se.loadingText,children:"Chargement..."})}):(0,h.jsx)(f.default,{style:se.button,onPress:A,testID:"ButtonConnexion",children:(0,h.jsx)(d.default,{style:se.buttonText,children:"Connexion"})}),(0,h.jsxs)(u.default,{style:se.signupContainer,children:[(0,h.jsx)(d.default,{style:se.already,children:"Tu n'as pas de compte ?"}),(0,h.jsx)(f.default,{onPress:function(){return e.dispatch(p.CommonActions.navigate({name:"Inscription"}))},children:(0,h.jsx)(d.default,{style:se.signupLink,children:"Inscription"})})]})]})}var se=c.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#fff",padding:30,borderRadius:30,shadowColor:"rgba(0, 0, 0, 0.062)",shadowOffset:{width:0,height:0},shadowRadius:40},heading:{fontSize:26,color:"#2e2e2e",fontWeight:"bold",marginBottom:40},inputContainer:{width:"100%",position:"relative",marginBottom:30,marginTop:20},inputField:{width:"100%",minHeight:60,borderBottomWidth:2,borderBottomColor:"rgb(173, 173, 173)",backgroundColor:"transparent",color:"black",fontSize:16,fontWeight:"500",paddingLeft:30},button:{width:"100%",borderWidth:2,borderColor:"#283b67",backgroundColor:"#4d8194",height:40,borderRadius:30,marginVertical:10,alignItems:"center",justifyContent:"center",marginTop:-5},buttonText:{color:"white",fontSize:16,fontWeight:"500",letterSpacing:1},signupContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:0,marginTop:20},signupLink:{fontSize:14,fontWeight:"500",backgroundColor:"#2e2e2e",color:"white",textDecorationLine:"none",paddingVertical:8,paddingHorizontal:15,borderRadius:20},already:{padding:15},eyeIcon:{position:"absolute",right:12,marginTop:78},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:50,marginVertical:10},loadingText:{color:"#4d8194",fontSize:18,fontWeight:"bold"}});function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=c.default.create({container:{backgroundColor:"#ffffff",padding:20,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3,width:"100%",marginBottom:20},input:{borderBottomWidth:1,borderBottomColor:"#ccc",marginBottom:15,padding:10},button:{backgroundColor:"#467c86",padding:10,borderRadius:5,marginTop:10}});const fe=function(e){var t=e.user,r=e.onProfileUpdated,i=(0,o.useState)(t?t.prenom:""),l=(0,y.default)(i,2),a=l[0],d=l[1],c=(0,o.useState)(t?t.nom:""),f=(0,y.default)(c,2),p=f[0],m=f[1],g=(0,o.useState)(t?t.email:""),x=(0,y.default)(g,2),b=x[0],j=x[1],v=(0,o.useState)(t?t.classement_simple:""),w=(0,y.default)(v,2),O=w[0],T=w[1],P=(0,o.useState)(t?t.classement_double:""),I=(0,y.default)(P,2),B=I[0],E=I[1],z=(0,o.useState)(t?t.classement_mixte:""),R=(0,y.default)(z,2),F=R[0],_=R[1],V=function(){var e=(0,n.default)((function*(){console.log("edit");var e=function(e){var t=parseInt(e,10);return t>=1&&t<=12};if(O&&!e(O)||B&&!e(B)||F&&!e(F))"web"===k.default.OS?window.alert("Erreur , Les classements doivent contenir uniquement des chiffres entre 1 et 12."):S.default.alert("Erreur","Les classements doivent contenir uniquement des chiffres entre 1 et 12.");else if(!b||b.includes("@")&&b.includes(".")){var n={};if(a&&a!==t.prenom&&(n.prenom=a),p&&p!==t.nom&&(n.nom=p),b&&b!==t.email&&(n.email=b),O&&O!==t.classement_simple&&(n.classement_simple=O),B&&B!==t.classement_double&&(n.classement_double=B),F&&F!==t.classement_mixte&&(n.classement_mixte=F),0!==Object.keys(n).length)try{var o=yield fetch(`${D}/user_tokens/update-profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${yield s.default.getItem("userToken")}`},body:JSON.stringify(n)});(yield o.json()).message&&(r(de(de({},t),n)),"web"===k.default.OS?window.alert("Succ\xe8s , Profil mis \xe0 jour avec succ\xe8s"):S.default.alert("Succ\xe8s","Profil mis \xe0 jour avec succ\xe8s"))}catch(i){console.error("Erreur lors de la mise \xe0 jour du profil:",i)}else"web"===k.default.OS?window.alert("Aucune modification , Vous n'avez modifi\xe9 aucun champ."):S.default.alert("Aucune modification","Vous n'avez modifi\xe9 aucun champ.")}else"web"===k.default.OS?window.alert("Erreur , L'adresse email doit contenir '@' et '.'."):S.default.alert("Erreur","L'adresse email doit contenir '@' et '.'.")}));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(u.default,{style:ce.container,children:[(0,h.jsx)(C.default,{style:ce.input,onChangeText:d,value:a,placeholder:"Pr\xe9nom"}),(0,h.jsx)(C.default,{style:ce.input,onChangeText:m,value:p,placeholder:"Nom"}),(0,h.jsx)(C.default,{style:ce.input,onChangeText:j,value:b,placeholder:"Email",keyboardType:"email-address",autoCapitalize:"none"}),(0,h.jsx)(C.default,{style:ce.input,onChangeText:T,value:O,placeholder:"Classement simple",keyboardType:"numeric"}),(0,h.jsx)(C.default,{style:ce.input,onChangeText:E,value:B,placeholder:"Classement double",keyboardType:"numeric"}),(0,h.jsx)(C.default,{style:ce.input,onChangeText:_,value:F,placeholder:"Classement mixte",keyboardType:"numeric"}),(0,h.jsx)($.default,{title:"Mettre \xe0 jour",onPress:V})]})};var pe=c.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#f3f3f3",padding:30,paddingTop:30,marginTop:40},title:{fontSize:24,fontWeight:"bold",marginBottom:20,color:"#123e53"},infoContainer:{backgroundColor:"#f9f9f9",padding:20,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3,width:"100%",marginBottom:20},classementsDetails:{marginTop:10},infoText:{fontSize:18,marginBottom:5,color:"#333333",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},button:{backgroundColor:"#467c86",padding:10,borderRadius:5,marginTop:10,width:"80%"},buttonText:{color:"#defdf5",textAlign:"center"},infoTextTitre:{fontSize:18,marginBottom:5,color:"#333333",flexDirection:"row",alignItems:"center",justifyContent:"space-between",fontWeight:"bold"}});const he=function(){var e=j().setIsSignedIn,t=(0,o.useState)(null),r=(0,y.default)(t,2),i=r[0],l=r[1],a=(0,o.useState)(!1),c=(0,y.default)(a,2),p=c[0],m=c[1],g=(0,o.useState)(!1),x=(0,y.default)(g,2),b=x[0],v=x[1];(0,o.useEffect)((function(){w()}),[],300);var w=function(){var e=(0,n.default)((function*(){try{var e=yield s.default.getItem("userToken");if(!e)return void console.error("page match : Token non trouv\xe9");var t=yield fetch(`${D}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();r.success?(l(r.user),console.log(r.user)):console.error("Rat\xe9 pour fetch user info page profil :",r.message)}catch(n){console.error("Erreur pour fetch les info des users:",n)}}));return function(){return e.apply(this,arguments)}}(),C=function(){var t=(0,n.default)((function*(){console.log("test");var t=function(){var t=(0,n.default)((function*(){try{yield fetch(`${D}/user_tokens/logout`,{method:"POST",headers:{Authorization:`Bearer ${yield s.default.getItem("userToken")}`}}),"web"===k.default.OS?localStorage.removeItem("userToken"):yield s.default.removeItem("userToken"),e(!1)}catch(t){console.error("Erreur lors de la d\xe9connexion :",t)}}));return function(){return t.apply(this,arguments)}}();"web"===k.default.OS?window.confirm("\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?")&&t():S.default.alert("D\xe9connexion","\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?",[{text:"Non",style:"cancel"},{text:"Oui",onPress:function(){return t()}}])}));return function(){return t.apply(this,arguments)}}();return(0,h.jsx)(P.default,{behavior:"ios"===k.default.OS?"padding":"height",style:{flex:1},children:(0,h.jsx)(T.default,{style:{flex:1},children:(0,h.jsxs)(u.default,{style:pe.container,children:[(0,h.jsx)(d.default,{style:pe.title,accessibilityRole:"header",children:"Mon profil"}),i?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(f.default,{style:pe.infoContainer,onPress:function(){v(!b)},children:[(0,h.jsxs)(d.default,{style:pe.infoTextTitre,children:["Informations personnelles ",b?"\u25b2":"\u25bc"," "]}),b&&(0,h.jsxs)(u.default,{style:pe.classementsDetails,children:[(0,h.jsxs)(d.default,{style:pe.infoText,children:["Pr\xe9nom: ",i.prenom]}),(0,h.jsxs)(d.default,{style:pe.infoText,children:["Nom: ",i.nom]}),(0,h.jsxs)(d.default,{style:pe.infoText,children:["Email: ",i.email]})]})]}),(0,h.jsxs)(f.default,{style:pe.infoContainer,onPress:function(){m(!p)},children:[(0,h.jsxs)(d.default,{style:pe.infoTextTitre,children:["Classements ",p?"\u25b2":"\u25bc"]}),p&&(0,h.jsxs)(u.default,{style:pe.classementsDetails,children:[(0,h.jsxs)(d.default,{style:pe.infoText,children:["Simple: ",i.classement_simple]}),(0,h.jsxs)(d.default,{style:pe.infoText,children:["Double: ",i.classement_double]}),(0,h.jsxs)(d.default,{style:pe.infoText,children:["Mixte: ",i.classement_mixte]})]})]})]}):(0,h.jsx)(d.default,{children:"Chargement..."}),(0,h.jsx)(fe,{user:i,onProfileUpdated:l}),(0,h.jsx)(f.default,{style:pe.button,onPress:C,children:(0,h.jsx)(d.default,{style:pe.buttonText,children:"D\xe9connexion"})})]})})})};var me=r(428),ge=r(590),ye=c.default.create({container:{flex:1,padding:10,marginTop:40},subtitle:{fontSize:24,fontWeight:"bold",marginTop:20,textAlign:"center",color:"#123e53"},paireContainer:{marginBottom:15,padding:10,borderWidth:1,borderColor:"#ccc",borderRadius:5},teamHeader:{flex:1.5,justifyContent:"center",alignItems:"center",padding:10,color:"#FFFFFF",fontWeight:"bold",marginLeft:40},vsHeader:{flex:.3,justifyContent:"center",alignItems:"center",padding:10,color:"#FFFFFF",fontWeight:"bold"},paireText:{fontSize:16,marginBottom:5},pouleContainer:{marginBottom:15,padding:10,borderWidth:1,borderColor:"#ddd",borderRadius:5},nameContainer:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},pouleText:{fontSize:16,marginBottom:5},table:{borderWidth:.7,borderColor:"#121f2d",borderRadius:4},headerRow:{flexDirection:"row",backgroundColor:"#467c86",paddingVertical:10},headerCell:{flex:1,padding:10,fontWeight:"bold",color:"#FFFFFF",textAlign:"center"},playerName:{fontSize:14,textAlign:"center"},row:{flexDirection:"row",alignItems:"center",padding:10,borderBottomWidth:1,borderBottomColor:"#E8E8E8"},touchableArea:{position:"absolute",top:0,left:0,right:0,bottom:0},rowEven:{backgroundColor:"#f9f9f9"},rowOdd:{backgroundColor:"#FFFFFF"},cell:{flex:1.5,padding:6,textAlign:"center",justifyContent:"center",marginLeft:8},cell1equipe1:{flex:1.5,padding:10,textAlign:"center",color:"#FFFFFF",fontWeight:"bold",paddingLeft:10},pouleCell:{flex:.5,padding:10,textAlign:"center"},vsCell:{flex:.3,fontWeight:"bold",color:"#FF9500",textAlign:"center"},vscellaudessu:{flex:.4,padding:10,fontWeight:"bold",color:"#FFFFFF",marginLeft:15},pouleTitle:{fontSize:18,fontWeight:"bold",marginTop:10,marginBottom:10,textAlign:"center"},pickerContainer:{backgroundColor:"#f2f2f2",borderRadius:10,borderWidth:1,borderColor:"#dcdcdc",shadowColor:"#000",shadowOpacity:.2,shadowRadius:3,shadowOffset:{width:0,height:2}},picker:{color:"#333",fontSize:16,marginTop:-80},pouleTableContainer:{marginBottom:20,borderWidth:1.5,borderColor:"#12597e",borderRadius:5,padding:5},doubleText:{fontStyle:"italic",color:"#3498db",textAlign:"center"},dateCellhaut:{flex:.5,padding:10,textAlign:"center",fontWeight:"bold",color:"#FFFFFF",marginRight:10},dateCellbas:{flex:.5,padding:10,textAlign:"center",fontWeight:"bold"},playerNameTouchable:{flexDirection:"row",alignItems:"center",justifyContent:"center",margin:-6.5,paddingLeft:15},highlightedUser:{color:"#890936",fontWeight:"bold",paddingTop:2},playerTextContainer:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},modalContent:{backgroundColor:"white",padding:22,justifyContent:"center",alignItems:"center",borderRadius:4,borderColor:"rgba(0, 0, 0, 0.1)",paddingTop:40},modalMessage:{marginBottom:15,textAlign:"center"},button:{backgroundColor:"#deeded",padding:10,borderRadius:5,minWidth:100,alignItems:"center"},buttonContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:20},buttonText:{color:"#124a50"},closeButton:{position:"absolute",top:10,left:10,backgroundColor:"transparent",padding:8,borderRadius:20},closeButtonText:{fontSize:16,color:"red",fontWeight:"bold"},teamColumn:{flex:1.5,justifyContent:"center",alignItems:"center",padding:10},vsColumn:{flex:.3,justifyContent:"center",alignItems:"center",padding:10,color:"#FF9500",fontWeight:"bold"}});const xe=function(){var e=(0,o.useState)([]),t=(0,y.default)(e,2),r=t[0],i=t[1],l=(0,o.useState)([]),a=(0,y.default)(l,2),c=(a[0],a[1]),p=(0,o.useState)(""),m=(0,y.default)(p,2),g=(m[0],m[1]),x=(0,o.useState)([]),b=(0,y.default)(x,2),v=b[0],w=b[1],C=(0,o.useState)([]),S=(0,y.default)(C,2),O=S[0],P=S[1],k=(0,o.useState)("all"),I=(0,y.default)(k,2),B=I[0],E=I[1],z=(0,o.useState)(null),R=(0,y.default)(z,2),F=R[0],_=R[1],W=(0,o.useState)(!1),$=(0,y.default)(W,2),H=$[0],L=$[1],A=(0,o.useState)(""),M=(0,y.default)(A,2),N=M[0],q=M[1],U=(0,o.useState)(null),J=(0,y.default)(U,2),G=J[0],Z=J[1],K=(0,o.useState)(null),Q=(0,y.default)(K,2),X=Q[0],Y=Q[1],ee=(0,o.useState)(null),te=(0,y.default)(ee,2),re=te[0],ne=te[1],oe=(0,o.useState)(!1),ie=(0,y.default)(oe,2),le=ie[0],ae=ie[1],se=(0,o.useState)(""),ue=(0,y.default)(se,2),de=ue[0],ce=ue[1];j().setIsSignedIn;(0,o.useEffect)((function(){console.log("Updated matches state:",O);var e=setInterval((function(){console.log("Updated matches state:",O),Ce(),pe(),he(),ve(),Te()}),2e3);return function(){return clearInterval(e)}}),[]);var fe=function(e){var t=e.isVisible,r=e.message,n=e.onConfirm,o=e.onCancel,i=e.confirmText,l=e.cancelText,a=e.onClose;return(0,h.jsx)(ge.default,{isVisible:t,children:(0,h.jsxs)(u.default,{style:ye.modalContent,children:[(0,h.jsx)(f.default,{style:ye.closeButton,onPress:a,children:(0,h.jsx)(d.default,{style:ye.closeButtonText,children:"X"})}),(0,h.jsx)(d.default,{style:ye.modalMessage,children:r}),(0,h.jsxs)(u.default,{style:ye.buttonContainer,children:[(0,h.jsx)(f.default,{style:ye.button,onPress:n,children:(0,h.jsx)(d.default,{style:ye.buttonText,children:i})}),(0,h.jsx)(f.default,{style:[ye.button,{marginLeft:20}],onPress:o,children:(0,h.jsx)(d.default,{style:ye.buttonText,children:l})})]})]})})},pe=function(){var e=(0,n.default)((function*(){try{var e=`${D}/participation_event/ouiparticipation`,t=yield fetch(e),r=yield t.json();i(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des participations:",n)}}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=(0,n.default)((function*(){try{var e=`${D}/paires/recupererPaires`,t=yield fetch(e),r=yield t.json();c(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des paires:",n)}}));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=(0,n.default)((function*(){console.log("participants",r);try{var e=`${D}/paires/formerPaires`,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},n=yield fetch(e,t),o=yield n.json();console.log("Donn\xe9es re\xe7ues du serveur:",o)}catch(i){console.error("Erreur lors de la cr\xe9ation des paires:",i)}}));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,n.default)((function*(){console.log("participants",r);try{var e=`${D}/paires/formerPaireParClassementDouble`,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},n=yield fetch(e,t),o=yield n.json();console.log("Donn\xe9es re\xe7ues du serveur:",o)}catch(i){console.error("Erreur lors de la cr\xe9ation des paires:",i)}}));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,n.default)((function*(){try{var e=`${D}/poule/creerPoules`,t=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"}}),r=yield t.json();g(JSON.stringify(r,null,2))}catch(n){console.error("Erreur lors de la cr\xe9ation des poules:",n),g("Erreur lors de la cr\xe9ation des poules")}}));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,n.default)((function*(){try{var e=`${D}/poule/recupererPoules`,t=yield fetch(e),r=yield t.json(),n=(0,V.default)(new Set(r.map((function(e){return e.poule}))));w(n)}catch(o){console.error("Erreur lors de la r\xe9cup\xe9ration des poules:",o)}}));return function(){return e.apply(this,arguments)}}();var we,Ce=function(){var e=(0,n.default)((function*(){try{var e=yield s.default.getItem("userToken");if(!e)return void console.error("page match : Token non trouv\xe9");var t=yield fetch(`${D}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();r.success?_(r.user):console.error("Rat\xe9 pour fetch user info page match:",r.message)}catch(n){console.error("Erreur pour fetch les info des users:",n)}}));return function(){return e.apply(this,arguments)}}(),Se=function(e,t,r,n){var o=F&&e===F.prenom&&t===F.nom,i=o?[ye.playerName,ye.highlightedUser]:ye.playerName;return(0,h.jsxs)(u.default,{style:ye.nameContainer,children:[(0,h.jsxs)(d.default,{style:i,children:[e," ",t]}),(0,h.jsxs)(d.default,{style:ye.doubleText,children:[" (",r,")"]}),o&&(0,h.jsx)(f.default,{style:ye.touchableArea,onPress:function(){return ke(n,e,t)}})]})},Oe=function(){var e=(0,n.default)((function*(){try{var e=`${D}/match/creerMatchs`,t=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"}}),r=yield t.json();g(JSON.stringify(r,null,2)),Te(),yield Ce()}catch(n){console.error("Erreur lors de la cr\xe9ation des matchs:",n),g("Erreur lors de la cr\xe9ation des matchs")}}));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=(0,n.default)((function*(){try{var e=`${D}/match/recupererMatchs`,t=yield fetch(e),r=yield t.json();console.log("Fetched matches data:",r),P(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des matchs:",n)}}));return function(){return e.apply(this,arguments)}}(),Pe=(function(){var e=(0,n.default)((function*(e){try{var t=yield fetch(`${D}/getEventStatus/${e}`),r=yield t.json();"Tous niveau"===r?(yield xe(),console.log("\xc9v\xe9nement cr\xe9\xe9 al\xe9atoirement")):"par niveau"===r&&(yield be(),console.log("\xc9v\xe9nement cr\xe9\xe9 par classement")),yield je(),yield Oe()}catch(n){console.error("Error in handleToutCreer: ",n)}}))}(),function(){var e=(0,n.default)((function*(e,t,r,n){console.log("Reporting match result with:",{matchId:e,userId:t,didWin:r,event_id:n});try{var o={match_id:e,user_id:t,victoire:r?1:0,defaite:r?0:1,event_id:n};console.log(o);var i=yield fetch(`${D}/resultat/report-match-result`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),l=yield i.json();i.ok?(console.log(l.message),console.log(o),alert(l.message)):(console.error(l.message),alert(l.message))}catch(a){console.error("erreur lors de l'encodage des resultats du match ",a)}}));return function(t,r,n,o){return e.apply(this,arguments)}}()),ke=function(e,t,r){var n=O.find((function(t){return t.match_id===e}));console.log("Selected match details:",n),n&&F&&t===F.prenom&&r===F.nom?(ne(n.event_id),fetch(`${D}/resultat/check-match-result?match_id=${e}&user_id=${F.id}`).then((function(e){return e.json()})).then((function(t){t.resultExists?(q((0,h.jsxs)(d.default,{children:["Tu as d\xe9j\xe0 enregistr\xe9 un r\xe9sultat pour ce match en tant que",(0,h.jsx)(d.default,{style:{color:t.victory?"green":"red"},children:t.victory?" victoire":" d\xe9faite"}),". Veux-tu le modifier ?"]})),Z(e),Y(!t.victory),L(!0)):(ce("As-tu gagn\xe9 ce match ?"),Z(e),ae(!0))})).catch((function(e){console.error("Erreur lors de la v\xe9rification du r\xe9sultat du match",e)}))):console.error("Erreur :  Match non trouv\xe9 ou L'utilisateur connect\xe9 ne correspond pas.")};return(0,h.jsxs)(T.default,{style:ye.container,children:[(0,h.jsx)(u.default,{style:ye.pickerContainer,children:(0,h.jsxs)(me.Picker,{selectedValue:B,onValueChange:function(e,t){return E(e)},style:ye.picker,children:[(0,h.jsx)(me.Picker.Item,{label:"Toutes les poules",value:"all"}),v.map((function(e,t){return(0,h.jsx)(me.Picker.Item,{label:`Poule ${e}`,value:e},t)}))]})}),(0,h.jsxs)(u.default,{children:[(0,h.jsx)(d.default,{style:ye.subtitle,children:"Matchs"}),O.length>0&&(0,h.jsxs)(h.Fragment,{children:[O.map((function(e,t){return(0,h.jsx)(u.default,{},e.match_id)})),(0,h.jsxs)(d.default,{style:ye.dateCellbas,children:["Date: ",(we=O[0].event_date,new Date(we).toLocaleDateString(void 0,{day:"numeric",month:"numeric"}))," - Heure: ",O[0].event_time]})]})]}),(0,h.jsx)(u.default,{children:function(){var e=function(e){return e.reduce((function(e,t){return e[t.poule_id]||(e[t.poule_id]=[]),e[t.poule_id].push(t),e}),{})}(O);return("all"===B?Object.keys(e):[B]).map((function(t){return(0,h.jsxs)(u.default,{style:ye.pouleTableContainer,children:[(0,h.jsxs)(d.default,{style:ye.pouleTitle,children:["Poule ",t]}),(0,h.jsx)(d.default,{}),(0,h.jsxs)(u.default,{style:ye.headerRow,children:[(0,h.jsx)(d.default,{style:ye.teamHeader,children:"\xc9QUIPE 1"}),(0,h.jsx)(d.default,{style:ye.vsHeader,children:"VS"}),(0,h.jsx)(d.default,{style:ye.teamHeader,children:"\xc9QUIPE 2"})]}),e[t].map((function(e,t){return(0,h.jsxs)(u.default,{style:[ye.row,t%2?ye.rowEven:ye.rowOdd],children:[(0,h.jsxs)(u.default,{style:ye.teamColumn,children:[Se(e.user1_prenom_paire1,e.user1_nom_paire1,e.user1_double,e.match_id),Se(e.user2_prenom_paire1,e.user2_nom_paire1,e.user2_double,e.match_id)]}),(0,h.jsx)(d.default,{style:ye.vsColumn,children:"VS"}),(0,h.jsxs)(u.default,{style:ye.teamColumn,children:[Se(e.user1_prenom_paire2,e.user1_nom_paire2,e.user3_double,e.match_id),Se(e.user2_prenom_paire2,e.user2_nom_paire2,e.user4_double,e.match_id)]})]},e.match_id)}))]},t)}))}()}),(0,h.jsx)(fe,{isVisible:H,message:N,onConfirm:function(){Pe(G,F.id,X,re),L(!1)},onCancel:function(){return L(!1)},confirmText:"Oui",cancelText:"Non",onClose:function(){return L(!1)}}),(0,h.jsx)(fe,{isVisible:le,message:de,onConfirm:function(){Pe(G,F.id,!0,re),ae(!1)},onCancel:function(){Pe(G,F.id,!1,re),ae(!1)},confirmText:"Oui",cancelText:"Non",onClose:function(){return ae(!1)}})]})};var be=c.default.create({container:{flex:1,backgroundColor:"#f4f4f4",padding:20,marginTop:40},title:{fontSize:24,fontWeight:"bold",color:"#123e53",marginBottom:20,marginTop:20,textAlign:"center"},searchBox:{fontSize:16,backgroundColor:"#fff",padding:10,borderRadius:20,marginBottom:20,borderWidth:1,borderColor:"#ddd",shadowColor:"#000",shadowOpacity:.1,shadowRadius:5,shadowOffset:{width:0,height:2}},joueurItem:{backgroundColor:"#fff",marginBottom:15,padding:15,borderRadius:10,shadowColor:"#000",shadowOpacity:.1,shadowRadius:6,shadowOffset:{width:0,height:2}},joueurNom:{fontSize:18,fontWeight:"bold",color:"#333",marginBottom:5},joueurVictoires:{fontSize:16,color:"green"},joueurDefaites:{fontSize:16,color:"red"},joueurConnecte:{color:"#890936",fontWeight:"bold"},pickerContainer:{backgroundColor:"#f2f2f2",borderRadius:10,borderWidth:1,borderColor:"#dcdcdc",shadowColor:"#000",shadowOpacity:.2,shadowRadius:3,shadowOffset:{width:0,height:2},paddingBottom:-10,paddingTop:-1},picker:{color:"#333",fontSize:16,marginTop:-10}});const je=function(){var e=(0,o.useState)([]),t=(0,y.default)(e,2),r=t[0],i=t[1],l=(0,o.useState)(""),a=(0,y.default)(l,2),c=a[0],p=a[1],m=(0,o.useState)(null),g=(0,y.default)(m,2),x=g[0],b=g[1],v=(0,o.useState)(null),w=(0,y.default)(v,2),S=w[0],O=w[1],P=j().setIsSignedIn,k=(0,o.useState)(null),I=(0,y.default)(k,2),B=I[0],E=I[1],z=(0,o.useState)([]),R=(0,y.default)(z,2),F=R[0],_=R[1];(0,o.useEffect)((function(){W(),H();var e=setInterval((function(){H(),W()}),3e5);return function(){return clearInterval(e)}}),[]);var W=function(){var e=(0,n.default)((function*(){try{console.log("Fetching joueurs from:",`${D}/resultat/joueurs_resultats`);var e=yield fetch(`${D}/resultat/joueurs_resultats`),t=yield e.json();Array.isArray(t)?i(t):(console.error("La r\xe9ponse n'est pas un tableau:",t),i([])),console.log("data joueurs",t);var r=(0,V.default)(new Set(t.map((function(e){return e.date}))));_(r),console.log(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des joueurs:",n)}}));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,n.default)((function*(e){try{var t=yield fetch(`${D}/resultat/joueurs_resultatsPardate/${e}`),r=yield t.json();console.log("avec date",r),Array.isArray(r)?i(r):i([])}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des joueurs:",n)}}));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,n.default)((function*(){try{var e=yield s.default.getItem("userToken");if(!e)return void console.error("Page joueur : Token non trouv\xe9");var t=yield fetch(`${D}/user_tokens/get-user-info`,{headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();r.success&&O(r.user)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des informations de l'utilisateur:",n),P(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(u.default,{style:be.container,children:[(0,h.jsx)(u.default,{style:be.pickerContainer,children:(0,h.jsxs)(me.Picker,{selectedValue:B,onValueChange:function(e,t){return r=e,console.log("Date selected: ",r),E(r),void("Toutes les dates confondues"===r||null===r?(console.log("Fetching all joueurs..."),W()):(console.log("Fetching joueurs for date: ",r),$(r)));var r},style:be.picker,children:[(0,h.jsx)(me.Picker.Item,{label:"Toutes les dates confondues",value:null}),F.map((function(e,t){return(0,h.jsx)(me.Picker.Item,{label:new Date(e).toISOString().split("T")[0],value:e},t)}))]})}),(0,h.jsx)(d.default,{style:be.title,children:"R\xe9sultats"}),(0,h.jsx)(C.default,{style:be.searchBox,onChangeText:function(e){if(p(e),e.trim()){var t=r.filter((function(t){return`${t.prenom.toLowerCase()} ${t.nom.toLowerCase()}`.includes(e.toLowerCase())}));i(t)}else W()},value:c,placeholder:"Rechercher un joueur"}),(0,h.jsx)(T.default,{children:r.map((function(e,t){return(0,h.jsxs)(f.default,{style:be.joueurItem,onPress:function(){return t=e.user_id,void b(x===t?null:t);var t},children:[(0,h.jsxs)(d.default,{style:[be.joueurNom,e.user_id===(null==S?void 0:S.id)&&be.joueurConnecte],children:[e.prenom," ",e.nom]}),x===e.user_id&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(d.default,{style:be.joueurVictoires,children:["Victoires : ",e.total_victoires]}),(0,h.jsxs)(d.default,{style:be.joueurDefaites,children:["D\xe9faites : ",e.total_defaites]})]})]},t)}))})]})};var ve=r(4396),we=r.n(ve);r(8573);function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}we().locale("fr");var Oe=c.default.create({inputIOS:{fontSize:16,paddingVertical:12,paddingHorizontal:10,borderWidth:1,borderColor:"gray",borderRadius:4,color:"black",paddingRight:30},inputAndroid:{fontSize:16,paddingHorizontal:10,paddingVertical:8,borderWidth:.5,borderColor:"purple",borderRadius:8,color:"black",paddingRight:30}}),Te=c.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#eef2f3",padding:20,paddingTop:30,marginTop:40},header:{fontSize:24,fontWeight:"bold",color:"#305f72",marginBottom:30,letterSpacing:1,textShadowColor:"rgba(0, 0, 0, 0.2)",textShadowOffset:{width:0,height:1},textShadowRadius:10},card:{backgroundColor:"#ffffff",borderRadius:15,paddingVertical:20,paddingHorizontal:15,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:3,elevation:3,width:"100%",marginBottom:20},inputTitle:{fontSize:16,fontWeight:"600",color:"#467c86",marginBottom:10},input:{height:40,borderColor:"#b0c4de",borderWidth:1,borderRadius:10,paddingHorizontal:10,marginBottom:10},button:{backgroundColor:"#467c86",borderRadius:20,paddingVertical:12,paddingHorizontal:25,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:6,marginTop:15},buttonText:{color:"#ffffff",fontSize:18,fontWeight:"bold"}});const Pe=function(e){var t,r=e.route,i=e.navigation,l=(0,o.useState)({}),a=(0,y.default)(l,2),s=(a[0],a[1]),c=(0,o.useState)({title:"",status:"Tous niveau",date:"",heure:""}),p=(0,y.default)(c,2),m=p[0],g=p[1],x=(0,o.useState)(!1),b=(0,y.default)(x,2),j=b[0],v=b[1],w=(0,o.useState)(!1),O=(0,y.default)(w,2),I=O[0],B=O[1],E=(null!=(t=r.params)?t:{}).eventId,R=(0,o.useState)(""),F=(0,y.default)(R,2),_=F[0],V=F[1],W=(0,o.useState)(""),$=(0,y.default)(W,2),H=$[0],L=$[1];(0,o.useEffect)((function(){E||("web"===k.default.OS?window.alert("\xc9v\xe9nement manquant : Aucun identifiant d'\xe9v\xe9nement sp\xe9cifi\xe9. Veuillez s\xe9lectionner un \xe9v\xe9nement."):S.default.alert("\xc9v\xe9nement manquant","Aucun identifiant d'\xe9v\xe9nement sp\xe9cifi\xe9. Veuillez s\xe9lectionner un \xe9v\xe9nement.",[{text:"OK",onPress:function(){return i.navigate("Calendrier")}}]))}),[E,i]);var A=function(){v(!1)},M=function(){B(!1)},N=(function(){var e=(0,n.default)((function*(){try{var e=yield U.default.get(`${D}/event/calendar/${E}`);s(e.data),g(e.data)}catch(t){"web"===k.default.OS?window.alert("Erreur de Chargement : Une erreur s'est produite lors de la r\xe9cup\xe9ration de l'\xe9v\xe9nement. Veuillez r\xe9essayer."):S.default.alert("Erreur de Chargement","Une erreur s'est produite lors de la r\xe9cup\xe9ration de l'\xe9v\xe9nement. Veuillez r\xe9essayer.",[{text:"OK",onPress:function(){return i.goBack()}}])}}))}(),function(){var e=(0,n.default)((function*(){try{yield U.default.put(`${D}/event/modifier/${E}`,m),"web"===k.default.OS?window.alert("Succ\xe8s : \xc9v\xe9nement mis \xe0 jour avec succ\xe8s."):S.default.alert("Succ\xe8s","\xc9v\xe9nement mis \xe0 jour avec succ\xe8s."),i.goBack()}catch(e){console.error("Erreur lors de la mise \xe0 jour de l'\xe9v\xe9nement",e),"web"===k.default.OS?window.alert("Erreur : Une erreur s'est produite lors de la mise \xe0 jour de l'\xe9v\xe9nement."):S.default.alert("Erreur","Une erreur s'est produite lors de la mise \xe0 jour de l'\xe9v\xe9nement.")}}));return function(){return e.apply(this,arguments)}}()),q=function(){var e=(0,n.default)((function*(){try{yield U.default.delete(`${D}/event/supprimer/${E}`),"web"===k.default.OS?window.alert("Succ\xe8s : \xc9v\xe9nement supprim\xe9 avec succ\xe8s."):S.default.alert("Succ\xe8s","\xc9v\xe9nement supprim\xe9 avec succ\xe8s."),i.goBack()}catch(e){console.error("Erreur lors de la suppression de l'\xe9v\xe9nement",e),"web"===k.default.OS?window.alert("Erreur : Une erreur s'est produite lors de la suppression de l'\xe9v\xe9nement."):S.default.alert("Erreur","Une erreur s'est produite lors de la suppression de l'\xe9v\xe9nement.")}}));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(P.default,{behavior:"ios"===k.default.OS?"padding":"height",style:{flex:1},children:(0,h.jsx)(T.default,{children:(0,h.jsxs)(u.default,{style:Te.container,children:[(0,h.jsxs)(d.default,{style:Te.header,children:["Modifier l'\xe9v\xe9nement : ",E," "]}),(0,h.jsxs)(u.default,{style:Te.card,children:[(0,h.jsx)(d.default,{style:Te.inputTitle,children:"Titre :"}),(0,h.jsx)(C.default,{style:Te.input,value:m.title,onChangeText:function(e){return g(Se(Se({},m),{},{title:e}))}})]}),(0,h.jsxs)(u.default,{style:Te.card,children:[(0,h.jsx)(d.default,{style:Te.inputTitle,children:"Date :"}),"web"===k.default.OS?(0,h.jsx)("input",{type:"date",value:_,onChange:function(e){V(e.target.value),g(Se(Se({},m),{},{date:e.target.value}))},style:Te.input}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C.default,{style:Te.input,value:m.date,onFocus:function(){v(!0)}}),(0,h.jsx)(K.default,{isVisible:j,mode:"date",onConfirm:function(e){A();var t=e.toISOString().split("T")[0];g(Se(Se({},m),{},{date:t}))},onCancel:A,textColor:"black"})]})]}),(0,h.jsxs)(u.default,{style:Te.card,children:[(0,h.jsx)(d.default,{style:Te.inputTitle,children:"Heure :"}),"web"===k.default.OS?(0,h.jsx)("input",{type:"time",value:H,onChange:function(e){L(e.target.value);var t=we()(e.target.value,"HH:mm").format("HH:mm");g(Se(Se({},m),{},{heure:t}))},style:Te.input}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C.default,{style:Te.input,value:m.heure,onFocus:function(){B(!0)},textColor:"black"}),(0,h.jsx)(K.default,{isVisible:I,mode:"time",onConfirm:function(e){M();var t=we()(e).format("HH:mm");g(Se(Se({},m),{},{heure:t}))},onCancel:M,textColor:"black",locale:"fr-FR"})]})]}),(0,h.jsxs)(u.default,{style:Te.card,children:[(0,h.jsx)(d.default,{style:Te.inputTitle,children:"Status :"}),(0,h.jsx)(z.default,{style:Oe,value:m.status,onValueChange:function(e){return g(Se(Se({},m),{},{status:e}))},items:[{label:"Tous niveau",value:"Tous niveau"},{label:"Par niveau",value:"Par niveau"}]})]}),(0,h.jsx)(f.default,{style:Te.button,onPress:N,children:(0,h.jsx)(d.default,{style:Te.buttonText,children:"Enregistrer les modifications"})}),(0,h.jsx)(f.default,{style:Te.button,onPress:function(){"web"===k.default.OS?window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9v\xe9nement ? Cela entra\xeenera la suppression des participations des joueurs.")&&q():S.default.alert("Confirmer la suppression","\xcates-vous s\xfbr de vouloir supprimer cet \xe9v\xe9nement ? Cela entra\xeenera la suppression des participations des joueurs.",[{text:"Annuler",style:"cancel"},{text:"Supprimer",onPress:function(){return q()}}])},children:(0,h.jsx)(d.default,{style:Te.buttonText,children:"Supprimer l'\xe9v\xe9nement"})})]})})})};var ke=r(373);function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const De=function(e){return(0,h.jsx)(ke.default,Be(Be({height:"19",width:"19",viewBox:"0 0 448 512"},e),{},{children:(0,h.jsx)(ke.Path,{d:"M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z",fill:"#1E3050",opacity:"1"})}))};function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Re=function(e){return(0,h.jsx)(ke.default,ze(ze({height:"24",width:"24",viewBox:"0 -960 960 960"},e),{},{children:(0,h.jsx)(ke.Path,{d:"M440-82q-76-8-141.5-41.5t-114-87Q136-264 108-333T80-480q0-91 36.5-168T216-780h-96v-80h240v240h-80v-109q-55 44-87.5 108.5T160-480q0 123 80.5 212.5T440-163v81Zm-17-214L254-466l56-56 113 113 227-227 56 57-283 283Zm177 196v-240h80v109q55-45 87.5-109T800-480q0-123-80.5-212.5T520-797v-81q152 15 256 128t104 270q0 91-36.5 168T744-180h96v80H600Z"})}))};function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ve=function(e){return(0,h.jsx)(ke.default,_e(_e({height:"16",width:"20",viewBox:"0 0 640 512"},e),{},{children:(0,h.jsx)(ke.Path,{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z",fill:"#1E3050",opacity:"1"})}))};function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const He=function(e){return(0,h.jsxs)(ke.default,$e($e({height:"31",width:"31",viewBox:"0 0 52.045 52.045"},e),{},{children:[(0,h.jsx)(ke.Path,{fill:"#010002",d:"M38.29,18.097c-2.103,1.605-4.333,2.987-6.616,4.298c-0.836-0.78-1.963-1.156-3.259-0.809 c-1.198,0.321-2.302,1.43-2.634,2.688c-1.442,0.184-2.891,0.338-4.339,0.467c-0.145-2.148-0.114-4.364,0.438-6.396 c0.47-1.726-1.319-2.728-2.604-2.266l-1.989-6.378c2.013-0.886,3.006-3.466,2.222-5.978c-0.833-2.669-3.357-4.263-5.629-3.555 c-2.271,0.708-3.441,3.456-2.609,6.125c0.791,2.534,3.108,4.096,5.284,3.64l2.054,6.585c-0.192,0.207-0.347,0.468-0.439,0.804 c-0.824,3.035-0.724,6.381-0.388,9.488c0.105,0.979,0.795,2.007,1.923,1.924c2.29-0.171,4.575-0.414,6.853-0.711 c0.888,2.934,1.182,5.893,0.838,9c-1.865,1.018-3.954,1.307-6.09,0.934c-3.031-0.531-4.328,4.104-1.279,4.637 c3.056,0.535,6.162,0.35,8.934-0.959c-1.121,2.893-3.479,4.779-7.029,5.687c-3.004,0.767-1.729,5.401,1.277,4.638 c7.031-1.793,11.008-6.921,11.311-14.117c0.015-0.08,0.027-0.158,0.039-0.239c0.525-3.96,0.104-7.99-1.123-11.778 c2.347-1.342,4.641-2.753,6.795-4.402C42.174,19.933,40.262,16.59,38.29,18.097z M11.949,6.082 c-0.718-2.294,0.245-4.644,2.143-5.236c1.899-0.592,4.026,0.793,4.741,3.089c0.716,2.295-0.247,4.644-2.144,5.237 C14.789,9.764,12.664,8.377,11.949,6.082z"}),(0,h.jsx)(ke.Circle,{fill:"#010002",cx:"29.322",cy:"16.595",r:"4.167"}),(0,h.jsx)(ke.Polygon,{fill:"#010002",points:"38.779,4.145 34.931,5.347 34.931,6.786 38.779,7.748"})]}))};function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){(0,v.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Me=function(e){return(0,h.jsx)(ke.default,Ae(Ae({height:"25",width:"25",viewBox:"0 0 32 32"},e),{},{children:(0,h.jsx)(ke.G,{children:(0,h.jsxs)(ke.G,{id:"Statistic",children:[(0,h.jsx)(ke.Line,{fill:"none",stroke:"#1D1D1B",strokeMiterlimit:"10",x1:"2.9",x2:"29.1",y1:"26.6",y2:"26.6"}),(0,h.jsx)(ke.Rect,{fill:"#1D1D1B",height:"12.6",stroke:"#1D1D1B",strokeMiterlimit:"10",width:"3.8",x:"6.8",y:"14"}),(0,h.jsx)(ke.Rect,{fill:"#1D1D1B",height:"16.2",stroke:"#1D1D1B",strokeMiterlimit:"10",width:"3.8",x:"14.1",y:"10.4"}),(0,h.jsx)(ke.Rect,{fill:"#1D1D1B",height:"19.9",stroke:"#1D1D1B",strokeMiterlimit:"10",width:"3.8",x:"21.4",y:"6.7"})]})})}))};var Ne=(0,l.default)(),qe=(0,a.default)();function Ue(){return(0,h.jsxs)(Ne.Navigator,{screenOptions:{headerStyle:{backgroundColor:"#467c86"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"},headerShown:!1},children:[(0,h.jsx)(Ne.Screen,{name:"Login",component:ae}),(0,h.jsx)(Ne.Screen,{name:"Inscription",component:F}),(0,h.jsx)(Ne.Screen,{name:"PrivacyPolicy",component:m,options:{title:"CGU et Politique de Confidentialit\xe9"}})]})}function Je(){var e=j().userRole;return(0,h.jsxs)(qe.Navigator,{children:[(0,h.jsx)(qe.Screen,{name:"Calendrier",component:le,options:{cardStyle:{marginTop:110},tabBarLabel:"Calendrier",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(De,{size:24,height:24,color:"black"})},headerShown:!1}}),"joueur"===e&&(0,h.jsx)(qe.Screen,{name:"Match",component:xe,options:{tabBarLabel:"Match",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(He,{name:"badminton",size:24,color:"black"})},headerShown:!1}}),"joueur"===e&&(0,h.jsx)(qe.Screen,{name:"Joueurs",component:je,options:{tabBarLabel:"R\xe9sultats",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(Me,{name:"format-list-bulleted",size:24,color:"black"})},headerShown:!1}}),(0,h.jsx)(qe.Screen,{name:"Profil",component:he,options:{tabBarLabel:"Profil",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(Ve,{name:"account-edit",size:24,color:"black"})},headerShown:!1}}),"admin"===e&&(0,h.jsx)(qe.Screen,{name:"Gestion d'\xe9venement",component:Pe,options:{tabBarLabel:"Gestion d'\xe9venements",tabBarIcon:function(e){e.color,e.size;return(0,h.jsx)(Re,{name:"published-with-changes",size:24,color:"black"})},headerShown:!1}})]})}function Ge(){return(0,h.jsx)(b,{children:(0,h.jsx)(Ke,{})})}var Ze=function(){var e=(0,n.default)((function*(e){try{var t=yield fetch(`${D}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=yield t.json();if(t.ok)return console.log("role",r.user.role,": prenom",r.user.prenom),r.user.role;throw new Error(r.message||"Impossible de r\xe9cup\xe9rer le r\xf4le de l'utilisateur.")}catch(n){return console.error("Erreur lors de la r\xe9cup\xe9ration du r\xf4le de l'utilisateur:",n),null}}));return function(t){return e.apply(this,arguments)}}();function Ke(){var e=j(),t=e.isSignedIn,r=e.setIsSignedIn,l=e.setUserRole,a=e.userRole;return(0,o.useEffect)((function(){var e=function(){var e=(0,n.default)((function*(){var e=yield s.default.getItem("userToken");if(e){r(!0);var t=yield Ze(e);l(t)}else r(!1)}));return function(){return e.apply(this,arguments)}}();e()}),[t,r,l,a]),(0,h.jsx)(i.default,{children:t?(0,h.jsx)(Je,{}):(0,h.jsx)(Ue,{})})}},7631:(e,t,r)=>{var n={"./fr":8573,"./fr-ca":7470,"./fr-ca.js":7470,"./fr-ch":4170,"./fr-ch.js":4170,"./fr.js":8573};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=7631}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,i)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,o,i]=e[d],a=!0,s=0;s<n.length;s++)(!1&i||l>=i)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(a=!1,i<l&&(l=i));if(a){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var l={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>l[e]=()=>n[e]));return l.default=()=>n,r.d(i,l),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[l,a,s]=n,u=0;if(l.some((t=>0!==e[t]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(s)var d=s(r)}for(t&&t(n);u<l.length;u++)i=l[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[745],(()=>r(4431)));n=r.O(n)})();
//# sourceMappingURL=main.643e1270.js.map
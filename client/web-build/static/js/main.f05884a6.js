(()=>{var e={1298:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Xe});var n=r(15861),o=r(4942),i=r(95004),l=r(81779),a=r(12005),s=r(81575),u=r(29356),d=r(18859),c=r(67842),f=r(33387),p=r(77168),h=r(12062),m=r(38716),g=r(2629);function y(){var e=(0,m.useNavigation)();return(0,g.jsxs)(c.default,{style:b.container,children:[(0,g.jsx)(f.default,{style:b.heading,children:"Politique de Confidentialit\xe9"}),(0,g.jsx)(f.default,{children:"Votre vie priv\xe9e est importante pour nous. Cette politique de confidentialit\xe9 explique comment nous collectons, utilisons et prot\xe9geons vos informations personnelles."}),(0,g.jsx)(f.default,{style:b.sectionHeading,children:"Informations que nous collectons"}),(0,g.jsx)(f.default,{children:"Lorsque vous utilisez notre application, nous pouvons collecter les informations suivantes :"}),(0,g.jsx)(f.default,{children:"- Votre nom"}),(0,g.jsx)(f.default,{children:"- Votre Prenom"}),(0,g.jsx)(f.default,{children:"- Votre adresse e-mail"}),(0,g.jsx)(f.default,{style:b.sectionHeading,children:"Utilisation des informations"}),(0,g.jsx)(f.default,{children:"Nous utilisons les informations collect\xe9es pour am\xe9liorer notre service, personnaliser votre exp\xe9rience utilisateur."}),(0,g.jsx)(f.default,{style:b.sectionHeading,children:"Partage des informations"}),(0,g.jsx)(f.default,{children:"Nous ne partagerons pas vos informations personnelles avec des tiers sans votre consentement, sauf si requis par la loi."}),(0,g.jsx)(f.default,{style:b.sectionHeading,children:"S\xe9curit\xe9 des informations"}),(0,g.jsx)(f.default,{children:"La s\xe9curit\xe9 de vos informations personnelles est importante pour nous, et nous mettons en \u0153uvre des mesures de s\xe9curit\xe9 pour les prot\xe9ger contre tout acc\xe8s non autoris\xe9."}),(0,g.jsx)(f.default,{style:b.sectionHeading,children:"Vos droits"}),(0,g.jsx)(f.default,{children:"Vous avez le droit d'acc\xe9der \xe0 vos informations personnelles, de les corriger ou de les anonymiser. Vous pouvez \xe9galement nous contacter pour exercer ces droits."}),(0,g.jsx)(f.default,{style:b.sectionHeading,children:"Contact"}),(0,g.jsx)(f.default,{children:"Si vous avez des questions concernant notre politique de confidentialit\xe9 ou vos informations personnelles, veuillez nous contacter \xe0 l'adresse vdhpauline@hotmail.com"}),(0,g.jsx)(h.default,{style:b.closeButton,onPress:function(){return e.navigate("Inscription")},children:(0,g.jsx)(f.default,{style:b.closeButtonText,children:"Fermer"})})]})}var b=p.default.create({container:{flex:1,padding:20},heading:{fontSize:20,fontWeight:"bold",marginBottom:10},sectionHeading:{fontSize:16,fontWeight:"bold",marginTop:10,marginBottom:5},closeButton:{backgroundColor:"#4d8194",padding:10,borderRadius:5,alignSelf:"center",marginTop:20},closeButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),x=r(70885),j=(0,i.createContext)(null),v=function(e){var t=e.children,r=(0,i.useState)(null),o=(0,x.default)(r,2),l=o[0],a=o[1],s=(0,i.useState)(!1),u=(0,x.default)(s,2),d=u[0],c=u[1],f=(0,i.useState)(null),p=(0,x.default)(f,2),h=p[0],m=p[1],y=function(){var e=(0,n.default)((function*(){c(!1),a(null),m(null),yield AsyncStorage.removeItem("userToken")}));return function(){return e.apply(this,arguments)}}(),b={isSignedIn:d,setIsSignedIn:c,user:l,setUser:a,userRole:h,setUserRole:m,signOut:y};return(0,g.jsx)(j.Provider,{value:b,children:t})},w=function(){var e=(0,i.useContext)(j);if(!e)throw new Error("useUser doit \xeatre utilis\xe9 \xe0 l'int\xe9rieur d'un UserProvider");return e};var C=r(8354),O=r(8299),S=r(61521),T=r(91159),P=r(45208),k=r(63916),I=r(96106),B=r(16367),D="https://rixbad.ovh:3030",E=r(95596),z=r(24464);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(){var e=(0,i.useState)(!1),t=(0,x.default)(e,2),r=t[0],l=t[1],a=(0,m.useNavigation)(),s=(0,i.useState)(""),u=(0,x.default)(s,2),d=u[0],p=u[1],y=(0,i.useState)(""),b=(0,x.default)(y,2),j=b[0],v=b[1],w=(0,i.useState)(null),F=(0,x.default)(w,2),V=(F[0],F[1],(0,i.useState)("")),H=(0,x.default)(V,2),W=H[0],$=H[1],L=(0,i.useState)(""),A=(0,x.default)(L,2),M=A[0],N=A[1],q=(0,i.useState)("joueur"),U=(0,x.default)(q,2),J=U[0],G=U[1],Z=(0,i.useState)(""),K=(0,x.default)(Z,2),Q=(K[0],K[1]),X=(0,i.useState)(null),Y=(0,x.default)(X,2),ee=Y[0],te=Y[1],re=(0,i.useState)(null),ne=(0,x.default)(re,2),oe=ne[0],ie=ne[1],le=(0,i.useState)(null),ae=(0,x.default)(le,2),se=ae[0],ue=ae[1],de=(0,i.useState)(!1),ce=(0,x.default)(de,2),fe=ce[0],pe=ce[1],he=(0,i.useState)({nom:!1,prenom:!1,email:!1,password:!1,role:!1,classementSimple:!1,classementDouble:!1,classementMixte:!1}),me=(0,x.default)(he,2),ge=me[0],ye=me[1],be=(0,i.useState)(!1),xe=(0,x.default)(be,2),je=xe[0],ve=xe[1],we=(0,i.useState)(!1),Ce=(0,x.default)(we,2),Oe=Ce[0],Se=Ce[1],Te=(0,i.useState)(!1),Pe=(0,x.default)(Te,2),ke=Pe[0],Ie=Pe[1],Be=function(){var e=(0,n.default)((function*(){var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},ge),t=!1;if(""===d&&(e.nom=!0,t=!0),""===j&&(e.prenom=!0,t=!0),""===W&&(e.email=!0,t=!0),""===M&&(e.password=!0,t=!0),""===J&&(e.role=!0,t=!0),null===ee?(ve(!0),t=!0):ve(!1),null===oe?(Se(!0),t=!0):Se(!1),null===se?(Ie(!0),t=!0):Ie(!1),ye(e),t)S.default.alert("Erreur","Tous les champs sont obligatoires.");else if(W.includes("@")&&W.includes(".")){if(/^(?=.*[A-Z])(?=.*[0-9])(?=.*[@#$%^&+=!])/.test(M))try{console.log("Avant l'envoi de la requ\xeate au serveur");var r=yield fetch(`${D}/users/postusers`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nom:d,prenom:j,role:J,email:W,password:M,classementSimple:ee,classementDouble:oe,classementMixte:se})});console.log("Apr\xe8s la r\xe9ponse du serveur");var n=yield r.json();if(201===r.status)console.log("Inscription r\xe9ussie"),a.navigate("Login");else if(400===r.status){"L'utilisateur avec cet e-mail existe d\xe9j\xe0."===n.message?S.default.alert("Erreur","L'utilisateur avec cet e-mail existe d\xe9j\xe0."):(console.error("Erreur lors de l'inscription: R\xe9ponse inattendue du serveur"),Q("Erreur lors de l'inscription"))}else console.error("Erreur lors de l'inscription: R\xe9ponse inattendue du serveur"),Q("Erreur lors de l'inscription")}catch(i){console.error("Erreur lors de l'inscription",i),Q("Erreur lors de l'inscription")}else S.default.alert("Erreur","Le mot de passe doit contenir au moins une majuscule, un caract\xe8re sp\xe9cial (@#$%^&+=!) et au moins un chiffre.")}else S.default.alert("Erreur","L'adresse email doit contenir '@' et '.'.")}));return function(){return e.apply(this,arguments)}}();function De(){return Array.from({length:12},(function(e,t){return(t+1).toString()})).map((function(e){return{label:e,value:e}}))}return(0,g.jsx)(B.default,{style:{flex:1},children:(0,g.jsx)(k.default,{behavior:"ios"===I.default.OS?"padding":"height",style:{flex:1},children:(0,g.jsx)(P.default,{contentContainerStyle:{flexGrow:1},children:(0,g.jsxs)(c.default,{style:_.container,children:[(0,g.jsx)(f.default,{style:_.classementInfo,children:"* Classement 1 = le plus \xe9lev\xe9 , 12 = le plus bas"}),(0,g.jsx)(f.default,{style:_.heading,testID:"inscriptionText",children:"Inscription"}),(0,g.jsxs)(c.default,{style:_.inputContainer,children:[(0,g.jsxs)(c.default,{style:_.classementContainer,children:[(0,g.jsx)(f.default,{style:_.classementTitle,children:"Classements :"}),(0,g.jsxs)(c.default,{style:_.classementInputs,children:[(0,g.jsxs)(c.default,{style:[_.classementInput,{flex:1}],children:[(0,g.jsx)(f.default,{style:{color:je?"red":"black"},children:"Simple:"}),(0,g.jsx)(z.default,{onValueChange:function(e){return te(e)},items:De(),value:ee,placeholder:{label:"A remplir",value:null}})]}),(0,g.jsxs)(c.default,{style:[_.classementInput,{flex:1}],children:[(0,g.jsx)(f.default,{style:{color:Oe?"red":"black"},children:"Double:"}),(0,g.jsx)(z.default,{onValueChange:function(e){return ie(e)},items:De(),value:oe,placeholder:{label:"A remplir",value:null}})]}),(0,g.jsxs)(c.default,{style:[_.classementInput,{flex:1}],children:[(0,g.jsx)(f.default,{style:{color:ke?"red":"black"},children:"Mixte:"}),(0,g.jsx)(z.default,{onValueChange:function(e){return ue(e)},items:De(),value:se,placeholder:{label:"A remplir",value:null}})]})]})]}),(0,g.jsx)(O.default,{placeholder:"Nom",value:d,onChangeText:function(e){return p(e)},style:[_.inputField,ge.nom&&{borderBottomColor:"red"}]}),(0,g.jsx)(O.default,{placeholder:"Prenom",value:j,onChangeText:function(e){return v(e)},style:[_.inputField,ge.nom&&{borderBottomColor:"red"}]}),(0,g.jsx)(O.default,{placeholder:"Email",value:W,onChangeText:function(e){return $(e)},style:[_.inputField,ge.nom&&{borderBottomColor:"red"}],keyboardType:"email-address",autoCapitalize:"none"}),(0,g.jsxs)(c.default,{style:_.inputContainer,children:[(0,g.jsx)(O.default,{placeholder:"Mot de passe",secureTextEntry:!fe,value:M,onChangeText:function(e){return N(e)},style:[_.inputField,ge.nom&&{borderBottomColor:"red"}]}),(0,g.jsx)(h.default,{onPress:function(){pe(!fe)},style:_.eyeIcon,children:(0,g.jsx)(E.default,{name:fe?"eye-slash":"eye",size:20,color:"#000"})})]}),(0,g.jsx)(c.default,{style:_.inputContainerRole,children:(0,g.jsx)(C.SelectList,{placeholder:"R\xf4le",setSelected:function(e){return G(e)},data:[{key:"2",value:"joueur"}],save:"value",style:_.choix})})]}),(0,g.jsxs)(c.default,{style:_.switchContainer,children:[(0,g.jsx)(T.default,{value:r,onValueChange:function(){l(!r)},trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:r?"#f5dd4b":"#f4f3f4",ios_backgroundColor:"#3e3e3e",testID:"consentCheckbox"}),(0,g.jsxs)(f.default,{style:_.consentText,children:["J'accepte les conditions g\xe9n\xe9rales d'utilisation et la politique de confidentialit\xe9."," ",(0,g.jsx)(f.default,{style:_.linkText,onPress:function(){return a.navigate("PrivacyPolicy")},children:"En savoir plus."})]})]}),(0,g.jsx)(h.default,{style:_.button,onPress:Be,testID:"inscriptionButton",children:(0,g.jsx)(f.default,{style:_.buttonText,children:"Inscription"})}),(0,g.jsxs)(c.default,{style:_.signupContainer,children:[(0,g.jsx)(f.default,{style:_.already,children:"Tu as deja un compte ?"}),(0,g.jsx)(h.default,{onPress:function(){return a.navigate("Login")},children:(0,g.jsx)(f.default,{style:_.signupLink,children:"Connecte-toi"})})]})]})})})})}var _=p.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#fff",padding:30,borderRadius:30,shadowColor:"rgba(0, 0, 0, 0.062)",shadowOffset:{width:0,height:0},shadowRadius:40,marginBottom:80},classementInfo:{position:"absolute",bottom:10,left:10,fontSize:12,color:"#333",paddingBottom:10},heading:{fontSize:26,color:"#2e2e2e",fontWeight:"bold",marginBottom:40},inputContainer:{width:"100%",position:"relative",marginBottom:20},inputContainerRole:{width:"100%",position:"relative",marginBottom:20,display:"none"},inputField:{width:"100%",minHeight:60,borderBottomWidth:2,borderBottomColor:"rgb(173, 173, 173)",backgroundColor:"transparent",color:"black",fontSize:16,fontWeight:"500",paddingLeft:30},button:{width:"100%",borderWidth:2,borderColor:"#283b67",backgroundColor:"#4d8194",height:40,borderRadius:30,marginVertical:10,alignItems:"center",justifyContent:"center",marginTop:-20},buttonText:{color:"white",fontSize:16,fontWeight:"500",letterSpacing:1},signupContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:0,marginTop:20,marginBottom:80},signupLink:{fontSize:14,fontWeight:"500",backgroundColor:"#2e2e2e",color:"white",textDecorationLine:"none",paddingVertical:8,paddingHorizontal:15,borderRadius:20},already:{padding:5},eyeIcon:{position:"absolute",right:12,marginTop:20},classementContainer:{marginTop:7,marginBottom:10},classementTitle:{fontSize:18,fontWeight:"bold",marginBottom:10,color:"#333"},classementInputs:{flexDirection:"row",alignItems:"center"},classementInput:{flex:1,marginHorizontal:5},switchContainer:{flexDirection:"row",alignItems:"center",paddingBottom:30,paddingTop:-10},consentText:{marginLeft:10,fontSize:13,color:"#333"},linkText:{color:"#007bff",textDecorationLine:"underline"}}),V=r(93604),H=r(60611);function W(e){var t=e.isOpen,r=e.content,n=e.onClose,o=e.children;return t?(0,g.jsxs)("div",{style:$,className:"custom-modal",children:[(0,g.jsx)("div",{style:L,onClick:n}),(0,g.jsxs)("div",{style:A,className:"modal-content",children:[(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:r}}),o,(0,g.jsx)("button",{style:M,onClick:n,className:"close-button",children:"Fermer"})]})]}):null}var $={position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",zIndex:999},L={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:-1},A={backgroundColor:"#fff",padding:20,borderRadius:10,maxWidth:"400px",margin:"0 auto",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",position:"relative",fontFamily:"Arial"},M={position:"absolute",top:"5px",right:"5px",backgroundColor:"#ff6b6b",color:"#fff",padding:"2px 4px",fontSize:"12px",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold",textAlign:"center"},N=r(91667),q=r(955),U=r(64994);const J=p.default.create({container:{flex:1,padding:16,marginTop:40},eventContainer:{borderWidth:1,borderColor:"#ccc",padding:8,marginBottom:8},participationButtons:{flexDirection:"row",justifyContent:"space-between"},attendanceContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:20},matchItem:{borderWidth:1,borderColor:"#ccc",padding:8,marginBottom:16,backgroundColor:"#cee3ed",borderRadius:10},badmintonPlayer:{borderColor:"#ccc",padding:8,marginBottom:8,backgroundColor:"#00887e",borderRadius:10},legendButton:{padding:10,backgroundColor:"#e0e0e0",borderRadius:5,marginBottom:10},legendButtonText:{textAlign:"center",fontWeight:"bold"},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:"#214353",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},buttonClose:{backgroundColor:"#559ea2",borderRadius:20,padding:7,elevation:2,marginTop:15},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},legendTitle:{marginBottom:15,textAlign:"center",fontWeight:"bold",color:"#e4ebef"},legendText:{textAlign:"center",marginVertical:5,color:"#e4ebef"},eventItem:{backgroundColor:"#f9f9f9",padding:20,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3,marginBottom:20},eventTitle:{fontSize:18,fontWeight:"bold",color:"#467c86",marginBottom:5},eventTitle2:{fontSize:20,fontWeight:"bold",color:"#123e53",marginBottom:10,marginTop:10,textAlign:"center"},eventInfo:{fontSize:16,color:"#333333",marginBottom:5},participationButtons:{flexDirection:"row",justifyContent:"space-around",marginTop:10},confirmationMessage:{fontSize:16,color:"green",marginVertical:10,textAlign:"center"},modalViewPlayers:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5,minHeight:450,maxHeight:"90%"},modalText:{marginBottom:15,textAlign:"center",fontSize:16,color:"#333"},closeButtonText:{color:"white",fontWeight:"bold",textAlign:"center"},closeButton:{backgroundColor:"#2196F3",borderRadius:20,padding:10,elevation:2,marginTop:15},modalTitle:{fontSize:20,fontWeight:"bold",margin:10,color:"#000"},modalContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)"},colorselection:{marginTop:20,padding:10,backgroundColor:"#ccc",color:"black",borderRadius:10},colorOption:{width:50,height:50,margin:10,borderRadius:25},colorOptionText:{color:"white",fontWeight:"bold"},colorOptionContainer:{alignItems:"center",justifyContent:"center",marginBottom:10},closeButtonCouleur:{marginTop:20,padding:10,backgroundColor:"#ccc",borderRadius:10},closeButtonTextColor:{color:"black",textAlign:"center"},button:{alignItems:"center",backgroundColor:"#467c86",padding:12,borderRadius:15,margin:5,borderColor:"#000000",borderWidth:1,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},input:{height:50,borderColor:"#B0C4DE",borderWidth:1,marginBottom:15,paddingLeft:15,borderRadius:15,backgroundColor:"#F8F8FF",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},buttonText:{fontSize:18,color:"#FFFFFF"},title:{fontSize:24,color:"#123e53",textAlign:"center",marginTop:20,marginBottom:20,fontWeight:"bold"},buttonHeure:{alignItems:"Left",height:50,backgroundColor:"#F8F8FF",padding:10,paddingLeft:15,borderRadius:15,margin:5,borderColor:"#000000",borderWidth:1,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},buttonTextHeure:{paddingTop:15,fontSize:15,color:"#141607"},formContainer:{borderWidth:1,borderColor:"gray",borderRadius:10,padding:10,backgroundColor:"white",shadowColor:"black",shadowOffset:{width:0,height:2},shadowOpacity:.5,shadowRadius:4,elevation:4,marginBottom:17,marginTop:20},editButton:{color:"blue",marginTop:8},dateTimePickerContainer:{backgroundColor:"white",borderRadius:8,padding:16,alignItems:"center",justifyContent:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5,marginTop:20},dateTimePicker:{},instructions:{marginTop:8,marginBottom:20,fontSize:16,color:"#333",fontWeight:"bold"},confirmButton:{backgroundColor:"#467c86",paddingVertical:10,paddingHorizontal:20,borderRadius:8,marginTop:16},confirmButtonText:{color:"white",fontSize:13,fontWeight:"bold",textAlign:"center"},closedRegistrationText:{color:"red",fontSize:16,fontWeight:"bold",textAlign:"center",marginTop:10,marginBottom:10}});var G=r(15618),Z=r(16102),K=r.n(Z),Q=r(59676),X=r(78373),Y=r(79858),ee=r(46576),te=r(72571),re=r(83607),ne=r(85616);function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const le=function(e){var t=e.route,r=(0,i.useState)({}),o=(0,x.default)(r,2),l=o[0],a=o[1],s=(0,i.useState)({}),u=(0,x.default)(s,2),p=u[0],y=u[1],b=(0,i.useState)(null),j=(0,x.default)(b,2),v=j[0],T=j[1],B=(0,m.useNavigation)(),E=t.params||{},z=(E.prenom,E.setprenom,t.params||{}),R=(z.id,z.setId,(0,i.useState)(!1)),F=(0,x.default)(R,2),_=F[0],$=F[1],L=(0,i.useState)(!1),A=(0,x.default)(L,2),M=A[0],Z=A[1],oe=(0,i.useState)(!1),le=(0,x.default)(oe,2),ae=le[0],se=le[1],ue=(0,i.useState)(null),de=(0,x.default)(ue,2),ce=de[0],fe=de[1],pe=(w().setIsSignedIn,(0,i.useState)(!1)),he=(0,x.default)(pe,2),me=he[0],ge=he[1],ye=(0,i.useState)([]),be=(0,x.default)(ye,2),xe=be[0],je=be[1],ve=(0,i.useState)({}),we=(0,x.default)(ve,2),Ce=(we[0],we[1],(0,i.useState)(!1)),Oe=(0,x.default)(Ce,2),Se=Oe[0],Te=Oe[1],Pe=(0,i.useState)(!1),ke=(0,x.default)(Pe,2),Ie=ke[0],Be=ke[1],De=(0,i.useState)(""),Ee=(0,x.default)(De,2),ze=Ee[0],Re=Ee[1],Fe=(0,i.useState)(""),_e=(0,x.default)(Fe,2),Ve=(_e[0],_e[1],(0,i.useState)("")),He=(0,x.default)(Ve,2),We=He[0],$e=He[1],Le=(0,i.useState)(""),Ae=(0,x.default)(Le,2),Me=Ae[0],Ne=Ae[1],qe=(0,i.useState)(!1),Ue=(0,x.default)(qe,2),Je=Ue[0],Ge=Ue[1],Ze=(0,i.useState)(!1),Ke=(0,x.default)(Ze,2),Qe=Ke[0],Xe=Ke[1],Ye=(0,i.useState)({}),et=(0,x.default)(Ye,2),tt=(et[0],et[1]),rt=(0,i.useState)(""),nt=(0,x.default)(rt,2),ot=nt[0],it=nt[1],lt=(0,i.useState)(!1),at=(0,x.default)(lt,2),st=(at[0],at[1],(0,i.useState)("")),ut=(0,x.default)(st,2),dt=ut[0],ct=ut[1],ft=new Date;ft.setHours(19,30);var pt=new Date;pt.setHours(23,0);var ht=(0,i.useState)(ft),mt=(0,x.default)(ht,2),gt=mt[0],yt=mt[1],bt=(0,i.useState)("18:00"),xt=(0,x.default)(bt,2),jt=xt[0],vt=xt[1],wt=(0,i.useState)(!0),Ct=(0,x.default)(wt,2),Ot=Ct[0],St=Ct[1],Tt=(0,i.useState)(new Date),Pt=(0,x.default)(Tt,2),kt=Pt[0],It=Pt[1];(0,i.useEffect)((function(){Ft(),Lt(),qt(),zt();var e=setInterval((function(){Ft(),Lt(),qt()}),3e4);return function(){clearInterval(e)}}),[]);var Bt=function(){Ge(!1)},Dt=function(e){console.log("Nouvelle heure s\xe9lectionn\xe9e:",e.target.value),vt(e.target.value)},Et=function(e){It(e),Bt()},zt=function(){tt({monday:"#96dfa2",tuesday:"#9199ff",thursday:"#9199ff",sunday:"#9199ff"})},Rt=function(){var e=(0,n.default)((function*(){try{if(!ce||!ce.id)return void console.error("Les informations de l'utilisateur ne sont pas disponibles");var e;if("web"===I.default.OS){var t=jt.split(":"),r=(0,x.default)(t,2),n=r[0],o=r[1],i=(0,Y.default)(Me);e=(0,ee.default)((0,te.default)(i,parseInt(n,10)),parseInt(o,10))}else{var l=(0,Y.default)(Me),a=new Date(kt);e=(0,ee.default)((0,te.default)(l,a.getHours()),a.getMinutes())}var s="Europe/Paris",u=(0,Q.default)(e,s),d=(0,X.default)(u,"yyyy-MM-dd'T'HH:mm:ss.SSSX",{timeZone:s});console.log("formattedDateTime:",d),yield N.default.post(`${D}/event/postcalendar`,{title:ze,status:We,date:d,heure:(0,X.default)(u,"HH:mm:ss"),user_id:ce.id}),console.log("Donn\xe9es envoy\xe9es \xe0 l'API:",{title:ze,status:We,date:d,heure:(0,X.default)(u,"HH:mm:ss"),user_id:ce.id}),Lt()}catch(c){console.error("Erreur lors de la cr\xe9ation de l'\xe9v\xe9nement",c)}}));return function(){return e.apply(this,arguments)}}(),Ft=function(){var e=(0,n.default)((function*(){try{var e=yield d.default.getItem("userToken");if(!e)return void console.error("page calendrier : Token non trouv\xe9");var t=yield fetch(`${D}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();if(r.success){fe(r.user),console.log("data user",r.user);var n=r.user.role&&"admin"===r.user.role.toLowerCase(),o=r.user.role&&"joueur"===r.user.role.toLowerCase();Te(n),Be(o),console.log("isAdmin:",n),console.log("isJoueur:",o)}else console.error("Rat\xe9 pour fetch user info page calendrier:",r.message)}catch(i){console.error("Erreur pour fetch les info des users:",i)}}));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=(0,n.default)((function*(e){try{console.log("Valeur de 'selectedColor' :",e),console.log("Valeur de 'selectedDate' avant la mise \xe0 jour :",v),"white"===e?{date:v,color:null}:{date:v,color:e};var t=yield N.default.post(`${D}/date_color/associateColorToDate`,{date:v,color:e});console.log("R\xe9ponse de la requ\xeate :",t.data);var r=ie({},l);r[v]="white"===e?{customStyles:{container:{},text:{color:"black"}}}:{customStyles:{container:{backgroundColor:e},text:{color:"white"}}},a(r),Xe(!1)}catch(n){console.error("Erreur lors de l'association de la couleur \xe0 la date",n)}}));return function(t){return e.apply(this,arguments)}}(),Vt=function(){Z(!M)},Ht=function(e,t){t>=ft&&t<=pt?(yt(t),console.log("Heure s\xe9lectionn\xe9e:",t)):(S.default.alert("Heure non autoris\xe9e","Veuillez s\xe9lectionner une heure entre 19:30 et 23:00."),yt(ft))},Wt=function(){$(!0)},$t=function(e){"Oui"===e?Wt():Nt("Non"),ge(!1)},Lt=function(){var e=(0,n.default)((function*(){try{var e=yield N.default.get(`${D}/event/calendar`),t={};e.data.forEach((function(e){var r=(0,X.default)((0,Q.default)(e.date,"Europe/Paris"),"yyyy-MM-dd");t[r]||(t[r]=[]),t[r].push(ie(ie({},e),{},{date:r,heure:e.heure}))})),y(t)}catch(r){console.error("Erreur lors de la r\xe9cup\xe9ration des \xe9v\xe9nements",r)}}));return function(){return e.apply(this,arguments)}}(),At=function(){var e=(0,n.default)((function*(e){try{var t=yield N.default.get(`${D}/participation_event/ouiparticipation/${e}`);je(t.data),ge(!0)}catch(r){console.error("Erreur lors de la r\xe9cup\xe9ration des participants",r)}}));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=(0,n.default)((function*(e,t){try{if(!ce||!ce.id)return void console.error("Les informations de l'utilisateur ne sont pas disponibles");yield N.default.post(`${D}/participation_event/updateParticipation/${e}`,{participation:t,id:ce.id,prenom:ce.prenom}),"Oui"===t&&("web"===I.default.OS?window.alert("Vous \xeates inscrit \xe0 l'\xe9v\xe9nement! Les matchs seront disponibles 24h avant l'\xe9v\xe9nement"):S.default.alert("Confirmation","Vous \xeates inscrit \xe0 l'\xe9v\xe9nement! \n Les matchs seront disponibles 24h avant l'\xe9v\xe9nement",[{text:"OK",onPress:function(){return console.log("Confirmation de l'inscription")}}])),yield Lt(),console.log("Participation valid\xe9e")}catch(r){console.error("Erreur lors de la mise \xe0 jour de la participation",r),r.response&&(console.error("Statut de r\xe9ponse :",r.response.status),console.error("Donn\xe9es de r\xe9ponse :",r.response.data))}}));return function(t,r){return e.apply(this,arguments)}}(),Nt=function(){var e=(0,n.default)((function*(e){try{if("Oui"!==e&&"Non"!==e)throw new Error("La participation doit \xeatre soit 'Oui' soit 'Non'");var t=new Date(gt);t.setHours(t.getHours());var r=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`;if(console.log("heure "+r),!ce||!ce.id)return void console.error("Les informations de l'utilisateur ne sont pas disponibles");yield N.default.post(`${D}/participation_jeu/participationJeuLibre/${ce.id}`,{participation:"Oui"===e?"Oui":"Non",date:(0,X.default)((0,Y.default)(v),"yyyy-MM-dd"),heure:r}),yield Lt(),console.log("Participation mise \xe0 jour avec succ\xe8s")}catch(n){console.error("Erreur lors de la mise \xe0 jour de la participation",n),n.response&&(console.error("Statut de r\xe9ponse :",n.response.status),console.error("Donn\xe9es de r\xe9ponse :",n.response.data))}}));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=(0,n.default)((function*(){try{var e=yield N.default.get(`${D}/date_color/getAllDateColors`),t=e.data||{},r=e.data,n={};for(var o in r)try{var i=new Date(o);n[(0,X.default)(i,"yyyy-MM-dd")]=r[o]}catch(d){console.error(`Error parsing date: ${o}`,d)}if(t){var l={};for(var s in n){var u=n[s];l[s]={customStyles:{container:{backgroundColor:u},text:{color:"white"}}}}a(l)}else console.error("Aucune couleur de date trouv\xe9e.")}catch(c){return console.error("Erreur lors de la r\xe9cup\xe9ration de toutes les couleurs de date",c),{}}}));return function(){return e.apply(this,arguments)}}(),Ut=function(){var e=(0,n.default)((function*(e){try{return(yield N.default.get(`${D}/participation_jeu/ouiparticipationjeulibre/${e}`)).data}catch(t){return console.error("Erreur lors de la r\xe9cup\xe9ration des participants",t),[]}}));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=(0,n.default)((function*(e){if(console.log("Date s\xe9lectionn\xe9e :",e.dateString),e&&e.dateString){var t,r,n,o=e.dateString;T(o),qt();var i=yield Ut(o),a=null==(t=l[o])||null==(r=t.customStyles)||null==(n=r.container)?void 0:n.backgroundColor;if(it(a),"web"!==I.default.OS)"#96dfa2"!==a&&"#9199ff"!==a||($(!0),se(!0),console.log("Participants pr\xe9sents :",i),S.default.alert("Viens- tu au jeu libre ? \n Voici les joueurs pr\xe9sents",i.map((function(e){return`${e.prenom} \xe0 ${(0,X.default)(gt,"HH:mm")}`})).join(", \n"),[{text:"Non",onPress:function(){return Nt("Non")},style:"cancel"},{text:"Oui",onPress:function(){return Wt()}},{text:"Fermer",onPress:function(){return console.log("Bo\xeete de dialogue ferm\xe9e")},style:"cancel",cancelable:!0}])),"#e05642"===a&&($(!1),se(!1),S.default.alert("Information","Salle ferm\xe9e",[{text:"OK",onPress:function(){return console.log("Alerte ferm\xe9e")}}])),"#eac849"===a&&($(!1),se(!1));else{if("#96dfa2"===a||"#9199ff"===a){var s=`<strong> Viens-tu au jeu libre ? <br/> <br/> Voici les joueurs pr\xe9sents: <br/>  <br/> </strong>  ${i.map((function(e){return`- ${e.prenom} \xe0 ${(0,X.default)(gt,"HH:mm")}`})).join("<br/>")}`;ct(s),ge(!0),$(!0),se(!0),St(!0)}"#e05642"===a&&(ct(" <strong> <br/> La salle est ferm\xe9e pour cette date </strong>"),ge(!0),se(!1),St(!1)),"#eac849"===a&&($(!1),se(!1))}}else console.error("La date s\xe9lectionn\xe9e n'est pas correctement d\xe9finie.")}));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=(0,n.default)((function*(e){try{return(yield N.default.get(`${D}/participation_event/participantcount/${e}`)).data.participant_count}catch(t){return console.error("Erreur lors de la r\xe9cup\xe9ration du nombre de participants",t),0}}));return function(t){return e.apply(this,arguments)}}(),Zt=function(e){return Math.ceil(e/4)},Kt=function(e){var t=e.eventId,r=(0,i.useState)(null),o=(0,x.default)(r,2),l=o[0],a=o[1];return(0,i.useEffect)((function(){var e=function(){var e=(0,n.default)((function*(){var e=yield Gt(t);a(e)}));return function(){return e.apply(this,arguments)}}();e()}),[t]),null===l?(0,g.jsx)(f.default,{style:J.eventInfo,children:"Chargement..."}):(0,g.jsxs)(f.default,{style:J.eventInfo,children:["Terrains utilis\xe9s : ",Zt(l)]})},Qt=function(e){var t=new Date,r=(0,re.default)((0,Y.default)(e),24);return(0,ne.default)(t,r)};return(0,g.jsx)(k.default,{behavior:"ios"===I.default.OS?"padding":"height",style:{flex:1},children:(0,g.jsx)(P.default,{children:(0,g.jsxs)(c.default,{style:J.container,children:[(0,g.jsx)(h.default,{style:J.legendButton,onPress:Vt,children:(0,g.jsx)(f.default,{style:J.legendButtonText,children:"Voir la l\xe9gende des couleurs"})}),M&&(0,g.jsx)((function(){return(0,g.jsx)(V.default,{animationType:"slide",transparent:!0,visible:M,onRequestClose:function(){S.default.alert("La l\xe9gende a \xe9t\xe9 ferm\xe9e."),Z(!M)},children:(0,g.jsx)(c.default,{style:J.centeredView,children:(0,g.jsxs)(c.default,{style:J.modalView,children:[(0,g.jsx)(f.default,{style:J.legendTitle,children:"L\xe9gende des couleurs:"}),(0,g.jsxs)(f.default,{style:J.legendText,children:[(0,g.jsx)(f.default,{style:{color:"#96dfa2"},children:"\u25cf"}),"  Jeu libre au Verseau"]}),(0,g.jsxs)(f.default,{style:J.legendText,children:[(0,g.jsx)(f.default,{style:{color:"#9199ff"},children:"\u25cf"})," Jeu libre \xe0 Rixensart"]}),(0,g.jsxs)(f.default,{style:J.legendText,children:[(0,g.jsx)(f.default,{style:{color:"#eac849"},children:"\u25cf"}),"  Soir\xe9e \xe0 th\xe8me"]}),(0,g.jsxs)(f.default,{style:J.legendText,children:[(0,g.jsx)(f.default,{style:{color:"#e05642"},children:"\u25cf"}),"  Fermeture de la salle"]}),(0,g.jsx)(h.default,{style:J.buttonClose,onPress:Vt,children:(0,g.jsx)(f.default,{style:J.textStyle,children:"Fermer"})})]})})})}),{}),Ie&&(0,g.jsx)(H.Calendar,{onDayPress:Jt,markedDates:l,markingType:"custom"}),Se&&(0,g.jsx)(H.Calendar,{onDayPress:function(e){T(e.dateString),Ne(e.dateString),Xe(!0)},markedDates:l,markingType:"custom"}),Se&&(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(c.default,{style:J.formContainer,children:[(0,g.jsx)(f.default,{style:J.title,children:"Formulaire"}),(0,g.jsx)(c.default,{style:[J.inputContainer,{marginBottom:18}],children:(0,g.jsx)(C.SelectList,{placeholder:"status",setSelected:function(e){return $e(e)},data:[{key:"1",value:"Tous niveau"},{key:"2",value:"Par niveau"}],save:"value",style:J.choix})}),(0,g.jsx)(O.default,{style:J.input,placeholder:"Titre",value:ze,onChangeText:function(e){return Re(e)}}),(0,g.jsx)(O.default,{style:J.input,placeholder:"Date",value:Me,onChangeText:function(e){return Ne(e)}}),"web"===I.default.OS?(0,g.jsx)("input",{type:"time",onChange:Dt,value:jt,style:{}}):(0,g.jsx)(G.default,{isVisible:Je,mode:"time",onConfirm:Et,onCancel:Bt,textColor:"black"}),"web"!==I.default.OS&&(0,g.jsx)(h.default,{style:J.input,onPress:function(){return Ge(!0)},children:(0,g.jsx)(f.default,{style:J.buttonTextHeure,children:kt?(0,X.default)(kt,"HH:mm"):"Choisir l'heure"})}),(0,g.jsx)(h.default,{style:J.button,onPress:Rt,children:(0,g.jsx)(f.default,{style:J.buttonText,children:"Cr\xe9er un \xe9v\xe9nement"})})]})}),_&&(0,g.jsxs)(c.default,{style:J.dateTimePickerContainer,children:[(0,g.jsx)(f.default,{style:J.instructions,children:"Choisissez l'heure avant de confirmer"}),"web"===I.default.OS?(0,g.jsx)(K(),{selected:gt,onChange:function(e){return function(e){yt(e),console.log("Heure s\xe9lectionn\xe9e:",e)}(e)},showTimeSelect:!0,showTimeSelectOnly:!0,dateFormat:"HH:mm",timeCaption:"",className:"hide-time-list"}):(0,g.jsx)(U.default,{value:gt,mode:"time",is24Hour:!0,display:"default",onChange:Ht,style:J.dateTimePicker,minimumDate:ft,maximumDate:pt}),ae&&(0,g.jsx)(h.default,{style:J.confirmButton,onPress:function(){$(!1),se(!1),Nt("Oui",gt),console.log("Heure confirm\xe9e:",gt)},children:(0,g.jsx)(f.default,{style:J.confirmButtonText,children:"Confirmer la participation"})})]}),(0,g.jsx)(f.default,{style:J.eventTitle2,children:"#9199ff"!==ot&&"#96dfa2"!==ot?" \xc9v\xe9nements :":""}),function(){return v&&l[v]&&p[v]?(0,g.jsxs)(c.default,{children:[p[v].map((function(e){return(0,g.jsxs)(c.default,{style:J.eventItem,children:[(0,g.jsx)(f.default,{style:J.eventTitle,children:e.status}),(0,g.jsxs)(f.default,{style:J.eventInfo,children:["Date : ",(0,X.default)((0,Y.default)(e.date),"PP")]}),(0,g.jsxs)(f.default,{style:J.eventInfo,children:["Heure : ",e.heure]}),(0,g.jsx)(Kt,{eventId:e.id}),(0,g.jsx)(h.default,{onPress:function(){return At(e.id)},children:(0,g.jsx)(q.default,{name:"person",size:30,color:"blue"})}),Se&&(0,g.jsx)(h.default,{onPress:function(){return t=e.id,B.navigate("Gestion d'\xe9venement",{eventId:t}),void console.log(t);var t},children:(0,g.jsx)(q.default,{name:"edit",size:30,color:"purple"})}),Qt(`${e.date}T${e.heure}`)?(0,g.jsxs)(c.default,{style:J.participationButtons,children:[(0,g.jsx)(h.default,{onPress:function(){return Mt(e.id,"Oui")},children:(0,g.jsx)(q.default,{name:"check-circle",size:30,color:"green"})}),(0,g.jsx)(h.default,{onPress:function(){return Mt(e.id,"Non")},children:(0,g.jsx)(q.default,{name:"cancel",size:30,color:"red"})})]}):(0,g.jsx)(f.default,{style:J.closedRegistrationText,children:"Inscription ferm\xe9e"})]},e.id)})),(0,g.jsx)(V.default,{visible:me,onRequestClose:function(){return ge(!1)},animationType:"slide",transparent:!0,children:(0,g.jsx)(c.default,{style:J.centeredView,children:(0,g.jsxs)(c.default,{style:[J.modalViewPlayers,{height:(e=xe.length,Math.min(600,Math.max(200,40*e)))}],children:[(0,g.jsx)(f.default,{style:J.modalTitle,children:"Participants de l'\xc9v\xe9nement"}),0===xe.length?(0,g.jsx)(f.default,{style:J.modalText,children:"Pas encore de participants inscrits."}):(0,g.jsx)(P.default,{children:xe.map((function(e){return(0,g.jsxs)(f.default,{style:J.modalText,children:[e.prenom," ",e.nom]},e.user_id)}))}),(0,g.jsx)(h.default,{style:J.button,onPress:function(){return ge(!1)},children:(0,g.jsx)(f.default,{style:J.closeButtonText,children:"Fermer"})})]})})})]}):null;var e}(),Se&&Qe&&(0,g.jsx)(V.default,{animationType:"slide",transparent:!0,visible:Qe,children:(0,g.jsxs)(c.default,{style:J.modalContainer,children:[(0,g.jsx)(f.default,{style:J.colorselection,children:"S\xe9lectionnez une couleur :"}),[{color:"#e05642",text:"Ferm\xe9"},{color:"#96dfa2",text:"Verseau"},{color:"#9199ff",text:"Rixensart"},{color:"#eac849",text:"Ev\xe8nement"},{color:"white",text:"Retirer"}].map((function(e,t){return(0,g.jsxs)(c.default,{style:J.colorOptionContainer,children:[(0,g.jsx)(h.default,{style:[J.colorOption,{backgroundColor:e.color}],onPress:function(){_t(e.color)}}),(0,g.jsx)(f.default,{style:J.colorOptionText,children:e.text})]},t)})),(0,g.jsx)(h.default,{style:J.closeButtonCouleur,onPress:function(){return Xe(!1)},children:(0,g.jsx)(f.default,{style:J.closeButtonTextColor,children:"Fermer"})})]})}),(0,g.jsx)(W,{isOpen:me,content:dt,onClose:function(){return ge(!1)},children:Ot&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{onClick:function(){return $t("Oui")},className:"button",children:"Oui"}),(0,g.jsx)("button",{onClick:function(){return $t("Non")},className:"button",children:"Non"})]})})]})})})};function ae(){var e=(0,m.useNavigation)(),t=(0,i.useState)(""),r=(0,x.default)(t,2),o=r[0],l=r[1],a=(0,i.useState)(""),s=(0,x.default)(a,2),u=s[0],p=s[1],y=(0,i.useState)(!1),b=(0,x.default)(y,2),j=b[0],v=b[1],S=(0,i.useState)(""),T=(0,x.default)(S,2),P=(T[0],T[1],i.useState("")),k=(0,x.default)(P,2),I=(k[0],k[1]),B=w().setIsSignedIn,z=function(){var e=(0,n.default)((function*(){try{var e={email:o,password:u},t=yield fetch(`${D}/user_tokens/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=yield t.json();200===t.status&&r.token?(yield d.default.setItem("userToken",r.token),console.log("Token stored successfully"),B(!0),console.log("Connexion r\xe9ussie")):console.error("Token manquant ou erreur de connexion")}catch(n){console.error("Erreur lors de la connexion :",n)}}));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(c.default,{style:se.container,children:[(0,g.jsx)(f.default,{style:se.heading,testID:"ConnexionText",children:"Connexion"}),(0,g.jsxs)(c.default,{style:se.inputContainer,children:[(0,g.jsx)(O.default,{placeholder:"Email",value:o,onChangeText:function(e){return l(e)},style:se.inputField}),(0,g.jsx)(O.default,{placeholder:"Mot de passe",secureTextEntry:!j,value:u,onChangeText:function(e){return p(e)},style:se.inputField,testID:"passwordInput"}),(0,g.jsx)(h.default,{onPress:function(){v(!j)},style:se.eyeIcon,testID:"eyeIcon",children:(0,g.jsx)(E.default,{name:j?"eye-slash":"eye",size:20,color:"#000"})}),(0,g.jsx)(c.default,{style:se.inputContainer,children:(0,g.jsx)(C.SelectList,{placeholder:"R\xf4le",setSelected:function(e){return I(e)},data:[{key:"1",value:"admin"},{key:"2",value:"joueur"}],save:"value",style:se.choix,testID:"roleSelect"})})]}),(0,g.jsx)(h.default,{style:se.button,onPress:z,testID:"ButtonConnexion",children:(0,g.jsx)(f.default,{style:se.buttonText,children:"Connexion"})}),(0,g.jsxs)(c.default,{style:se.signupContainer,children:[(0,g.jsx)(f.default,{style:se.already,children:"Tu n'as pas de compte ?"}),(0,g.jsx)(h.default,{onPress:function(){return e.dispatch(m.CommonActions.navigate({name:"Inscription"}))},children:(0,g.jsx)(f.default,{style:se.signupLink,children:"Inscription"})})]})]})}var se=p.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#fff",padding:30,borderRadius:30,shadowColor:"rgba(0, 0, 0, 0.062)",shadowOffset:{width:0,height:0},shadowRadius:40},heading:{fontSize:26,color:"#2e2e2e",fontWeight:"bold",marginBottom:40},inputContainer:{width:"100%",position:"relative",marginBottom:30,marginTop:20},inputField:{width:"100%",minHeight:60,borderBottomWidth:2,borderBottomColor:"rgb(173, 173, 173)",backgroundColor:"transparent",color:"black",fontSize:16,fontWeight:"500",paddingLeft:30},button:{width:"100%",borderWidth:2,borderColor:"#283b67",backgroundColor:"#4d8194",height:40,borderRadius:30,marginVertical:10,alignItems:"center",justifyContent:"center",marginTop:-5},buttonText:{color:"white",fontSize:16,fontWeight:"500",letterSpacing:1},signupContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center",margin:0,marginTop:20},signupLink:{fontSize:14,fontWeight:"500",backgroundColor:"#2e2e2e",color:"white",textDecorationLine:"none",paddingVertical:8,paddingHorizontal:15,borderRadius:20},already:{padding:15},eyeIcon:{position:"absolute",right:12,marginTop:78}}),ue=r(68911);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe=p.default.create({container:{backgroundColor:"#ffffff",padding:20,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3,width:"100%",marginBottom:20},input:{borderBottomWidth:1,borderBottomColor:"#ccc",marginBottom:15,padding:10},button:{backgroundColor:"#467c86",padding:10,borderRadius:5,marginTop:10}});const pe=function(e){var t=e.user,r=e.onProfileUpdated,o=(0,i.useState)(t?t.prenom:""),l=(0,x.default)(o,2),a=l[0],s=l[1],u=(0,i.useState)(t?t.nom:""),f=(0,x.default)(u,2),p=f[0],h=f[1],m=(0,i.useState)(t?t.email:""),y=(0,x.default)(m,2),b=y[0],j=y[1],v=(0,i.useState)(t?t.classement_simple:""),w=(0,x.default)(v,2),C=w[0],T=w[1],P=(0,i.useState)(t?t.classement_double:""),k=(0,x.default)(P,2),B=k[0],E=k[1],z=(0,i.useState)(t?t.classement_mixte:""),R=(0,x.default)(z,2),F=R[0],_=R[1],V=function(){var e=(0,n.default)((function*(){console.log("edit");var e=function(e){var t=parseInt(e,10);return t>=1&&t<=12};if(C&&!e(C)||B&&!e(B)||F&&!e(F))"web"===I.default.OS?window.alert("Erreur , Les classements doivent contenir uniquement des chiffres entre 1 et 12."):S.default.alert("Erreur","Les classements doivent contenir uniquement des chiffres entre 1 et 12.");else if(!b||b.includes("@")&&b.includes(".")){var n={};if(a&&a!==t.prenom&&(n.prenom=a),p&&p!==t.nom&&(n.nom=p),b&&b!==t.email&&(n.email=b),C&&C!==t.classement_simple&&(n.classement_simple=C),B&&B!==t.classement_double&&(n.classement_double=B),F&&F!==t.classement_mixte&&(n.classement_mixte=F),0!==Object.keys(n).length)try{var o=yield fetch(`${D}/user_tokens/update-profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${yield d.default.getItem("userToken")}`},body:JSON.stringify(n)});(yield o.json()).message&&(r(ce(ce({},t),n)),"web"===I.default.OS?window.alert("Succ\xe8s , Profil mis \xe0 jour avec succ\xe8s"):S.default.alert("Succ\xe8s","Profil mis \xe0 jour avec succ\xe8s"))}catch(i){console.error("Erreur lors de la mise \xe0 jour du profil:",i)}else"web"===I.default.OS?window.alert("Aucune modification , Vous n'avez modifi\xe9 aucun champ."):S.default.alert("Aucune modification","Vous n'avez modifi\xe9 aucun champ.")}else"web"===I.default.OS?window.alert("Erreur , L'adresse email doit contenir '@' et '.'."):S.default.alert("Erreur","L'adresse email doit contenir '@' et '.'.")}));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(c.default,{style:fe.container,children:[(0,g.jsx)(O.default,{style:fe.input,onChangeText:s,value:a,placeholder:"Pr\xe9nom"}),(0,g.jsx)(O.default,{style:fe.input,onChangeText:h,value:p,placeholder:"Nom"}),(0,g.jsx)(O.default,{style:fe.input,onChangeText:j,value:b,placeholder:"Email",keyboardType:"email-address",autoCapitalize:"none"}),(0,g.jsx)(O.default,{style:fe.input,onChangeText:T,value:C,placeholder:"Classement simple",keyboardType:"numeric"}),(0,g.jsx)(O.default,{style:fe.input,onChangeText:E,value:B,placeholder:"Classement double",keyboardType:"numeric"}),(0,g.jsx)(O.default,{style:fe.input,onChangeText:_,value:F,placeholder:"Classement mixte",keyboardType:"numeric"}),(0,g.jsx)(ue.default,{title:"Mettre \xe0 jour",onPress:V})]})};var he=p.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#f3f3f3",padding:30,paddingTop:30,marginTop:40},title:{fontSize:24,fontWeight:"bold",marginBottom:20,color:"#123e53"},infoContainer:{backgroundColor:"#f9f9f9",padding:20,borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:10,elevation:3,width:"100%",marginBottom:20},classementsDetails:{marginTop:10},infoText:{fontSize:18,marginBottom:5,color:"#333333",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},button:{backgroundColor:"#467c86",padding:10,borderRadius:5,marginTop:10,width:"80%"},buttonText:{color:"#defdf5",textAlign:"center"},infoTextTitre:{fontSize:18,marginBottom:5,color:"#333333",flexDirection:"row",alignItems:"center",justifyContent:"space-between",fontWeight:"bold"}});const me=function(){var e=w().setIsSignedIn,t=(0,i.useState)(null),r=(0,x.default)(t,2),o=r[0],l=r[1],a=(0,i.useState)(!1),s=(0,x.default)(a,2),u=s[0],p=s[1],m=(0,i.useState)(!1),y=(0,x.default)(m,2),b=y[0],j=y[1];(0,i.useEffect)((function(){v()}),[],300);var v=function(){var e=(0,n.default)((function*(){try{var e=yield d.default.getItem("userToken");if(!e)return void console.error("page match : Token non trouv\xe9");var t=yield fetch(`${D}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();r.success?(l(r.user),console.log(r.user)):console.error("Rat\xe9 pour fetch user info page profil :",r.message)}catch(n){console.error("Erreur pour fetch les info des users:",n)}}));return function(){return e.apply(this,arguments)}}(),C=function(){var t=(0,n.default)((function*(){console.log("test");var t=function(){var t=(0,n.default)((function*(){try{yield fetch(`${D}/user_tokens/logout`,{method:"POST",headers:{Authorization:`Bearer ${yield d.default.getItem("userToken")}`}}),"web"===I.default.OS?localStorage.removeItem("userToken"):yield d.default.removeItem("userToken"),e(!1)}catch(t){console.error("Erreur lors de la d\xe9connexion :",t)}}));return function(){return t.apply(this,arguments)}}();"web"===I.default.OS?window.confirm("\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?")&&t():S.default.alert("D\xe9connexion","\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?",[{text:"Non",style:"cancel"},{text:"Oui",onPress:function(){return t()}}])}));return function(){return t.apply(this,arguments)}}();return(0,g.jsx)(k.default,{behavior:"ios"===I.default.OS?"padding":"height",style:{flex:1},children:(0,g.jsx)(P.default,{style:{flex:1},children:(0,g.jsxs)(c.default,{style:he.container,children:[(0,g.jsx)(f.default,{style:he.title,accessibilityRole:"header",children:"Mon profil"}),o?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(h.default,{style:he.infoContainer,onPress:function(){j(!b)},children:[(0,g.jsxs)(f.default,{style:he.infoTextTitre,children:["Informations personnelles ",b?"\u25b2":"\u25bc"," "]}),b&&(0,g.jsxs)(c.default,{style:he.classementsDetails,children:[(0,g.jsxs)(f.default,{style:he.infoText,children:["Pr\xe9nom: ",o.prenom]}),(0,g.jsxs)(f.default,{style:he.infoText,children:["Nom: ",o.nom]}),(0,g.jsxs)(f.default,{style:he.infoText,children:["Email: ",o.email]})]})]}),(0,g.jsxs)(h.default,{style:he.infoContainer,onPress:function(){p(!u)},children:[(0,g.jsxs)(f.default,{style:he.infoTextTitre,children:["Classements ",u?"\u25b2":"\u25bc"]}),u&&(0,g.jsxs)(c.default,{style:he.classementsDetails,children:[(0,g.jsxs)(f.default,{style:he.infoText,children:["Simple: ",o.classement_simple]}),(0,g.jsxs)(f.default,{style:he.infoText,children:["Double: ",o.classement_double]}),(0,g.jsxs)(f.default,{style:he.infoText,children:["Mixte: ",o.classement_mixte]})]})]})]}):(0,g.jsx)(f.default,{children:"Chargement..."}),(0,g.jsx)(pe,{user:o,onProfileUpdated:l}),(0,g.jsx)(h.default,{style:he.button,onPress:C,children:(0,g.jsx)(f.default,{style:he.buttonText,children:"D\xe9connexion"})})]})})})};var ge=r(42982),ye=r(30428),be=r(32700),xe=p.default.create({container:{flex:1,padding:10,marginTop:40},subtitle:{fontSize:24,fontWeight:"bold",marginTop:20,textAlign:"center",color:"#123e53"},paireContainer:{marginBottom:15,padding:10,borderWidth:1,borderColor:"#ccc",borderRadius:5},teamHeader:{flex:1.5,justifyContent:"center",alignItems:"center",padding:10,color:"#FFFFFF",fontWeight:"bold",marginLeft:40},vsHeader:{flex:.3,justifyContent:"center",alignItems:"center",padding:10,color:"#FFFFFF",fontWeight:"bold"},paireText:{fontSize:16,marginBottom:5},pouleContainer:{marginBottom:15,padding:10,borderWidth:1,borderColor:"#ddd",borderRadius:5},nameContainer:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},pouleText:{fontSize:16,marginBottom:5},table:{borderWidth:.7,borderColor:"#121f2d",borderRadius:4},headerRow:{flexDirection:"row",backgroundColor:"#467c86",paddingVertical:10},headerCell:{flex:1,padding:10,fontWeight:"bold",color:"#FFFFFF",textAlign:"center"},playerName:{fontSize:14,textAlign:"center"},row:{flexDirection:"row",alignItems:"center",padding:10,borderBottomWidth:1,borderBottomColor:"#E8E8E8"},touchableArea:{position:"absolute",top:0,left:0,right:0,bottom:0},rowEven:{backgroundColor:"#f9f9f9"},rowOdd:{backgroundColor:"#FFFFFF"},cell:{flex:1.5,padding:6,textAlign:"center",justifyContent:"center",marginLeft:8},cell1equipe1:{flex:1.5,padding:10,textAlign:"center",color:"#FFFFFF",fontWeight:"bold",paddingLeft:10},pouleCell:{flex:.5,padding:10,textAlign:"center"},vsCell:{flex:.3,fontWeight:"bold",color:"#FF9500",textAlign:"center"},vscellaudessu:{flex:.4,padding:10,fontWeight:"bold",color:"#FFFFFF",marginLeft:15},pouleTitle:{fontSize:18,fontWeight:"bold",marginTop:10,marginBottom:10,textAlign:"center"},pickerContainer:{backgroundColor:"#f2f2f2",borderRadius:10,borderWidth:1,borderColor:"#dcdcdc",shadowColor:"#000",shadowOpacity:.2,shadowRadius:3,shadowOffset:{width:0,height:2}},picker:{color:"#333",fontSize:16,marginTop:-80},pouleTableContainer:{marginBottom:20,borderWidth:1.5,borderColor:"#12597e",borderRadius:5,padding:5},doubleText:{fontStyle:"italic",color:"#3498db",textAlign:"center"},dateCellhaut:{flex:.5,padding:10,textAlign:"center",fontWeight:"bold",color:"#FFFFFF",marginRight:10},dateCellbas:{flex:.5,padding:10,textAlign:"center",fontWeight:"bold"},playerNameTouchable:{flexDirection:"row",alignItems:"center",justifyContent:"center",margin:-6.5,paddingLeft:15},highlightedUser:{color:"#890936",fontWeight:"bold",paddingTop:2},playerTextContainer:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},modalContent:{backgroundColor:"white",padding:22,justifyContent:"center",alignItems:"center",borderRadius:4,borderColor:"rgba(0, 0, 0, 0.1)",paddingTop:40},modalMessage:{marginBottom:15,textAlign:"center"},button:{backgroundColor:"#deeded",padding:10,borderRadius:5,minWidth:100,alignItems:"center"},buttonContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:20},buttonText:{color:"#124a50"},closeButton:{position:"absolute",top:10,left:10,backgroundColor:"transparent",padding:8,borderRadius:20},closeButtonText:{fontSize:16,color:"red",fontWeight:"bold"},teamColumn:{flex:1.5,justifyContent:"center",alignItems:"center",padding:10},vsColumn:{flex:.3,justifyContent:"center",alignItems:"center",padding:10,color:"#FF9500",fontWeight:"bold"}});const je=function(){var e=(0,i.useState)([]),t=(0,x.default)(e,2),r=t[0],o=t[1],l=(0,i.useState)([]),a=(0,x.default)(l,2),s=(a[0],a[1]),u=(0,i.useState)(""),p=(0,x.default)(u,2),m=(p[0],p[1]),y=(0,i.useState)([]),b=(0,x.default)(y,2),j=b[0],v=b[1],C=(0,i.useState)([]),O=(0,x.default)(C,2),S=O[0],T=O[1],k=(0,i.useState)("all"),I=(0,x.default)(k,2),B=I[0],E=I[1],z=(0,i.useState)(null),R=(0,x.default)(z,2),F=R[0],_=R[1],V=(0,i.useState)(!1),H=(0,x.default)(V,2),W=H[0],$=H[1],L=(0,i.useState)(""),A=(0,x.default)(L,2),M=A[0],N=A[1],q=(0,i.useState)(null),U=(0,x.default)(q,2),J=U[0],G=U[1],Z=(0,i.useState)(null),K=(0,x.default)(Z,2),Q=K[0],X=K[1],Y=(0,i.useState)(null),ee=(0,x.default)(Y,2),te=ee[0],re=ee[1],ne=(0,i.useState)(!1),oe=(0,x.default)(ne,2),ie=oe[0],le=oe[1],ae=(0,i.useState)(""),se=(0,x.default)(ae,2),ue=se[0],de=se[1];w().setIsSignedIn;(0,i.useEffect)((function(){console.log("Updated matches state:",S);var e=setInterval((function(){console.log("Updated matches state:",S),Ce(),fe(),pe(),ve(),Te()}),2e4);return function(){return clearInterval(e)}}),[]);var ce=function(e){var t=e.isVisible,r=e.message,n=e.onConfirm,o=e.onCancel,i=e.confirmText,l=e.cancelText,a=e.onClose;return(0,g.jsx)(be.default,{isVisible:t,children:(0,g.jsxs)(c.default,{style:xe.modalContent,children:[(0,g.jsx)(h.default,{style:xe.closeButton,onPress:a,children:(0,g.jsx)(f.default,{style:xe.closeButtonText,children:"X"})}),(0,g.jsx)(f.default,{style:xe.modalMessage,children:r}),(0,g.jsxs)(c.default,{style:xe.buttonContainer,children:[(0,g.jsx)(h.default,{style:xe.button,onPress:n,children:(0,g.jsx)(f.default,{style:xe.buttonText,children:i})}),(0,g.jsx)(h.default,{style:[xe.button,{marginLeft:20}],onPress:o,children:(0,g.jsx)(f.default,{style:xe.buttonText,children:l})})]})]})})},fe=function(){var e=(0,n.default)((function*(){try{var e=`${D}/participation_event/ouiparticipation`,t=yield fetch(e),r=yield t.json();o(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des participations:",n)}}));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=(0,n.default)((function*(){try{var e=`${D}/paires/recupererPaires`,t=yield fetch(e),r=yield t.json();s(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des paires:",n)}}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=(0,n.default)((function*(){console.log("participants",r);try{var e=`${D}/paires/formerPaires`,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},n=yield fetch(e,t),o=yield n.json();console.log("Donn\xe9es re\xe7ues du serveur:",o)}catch(i){console.error("Erreur lors de la cr\xe9ation des paires:",i)}}));return function(){return e.apply(this,arguments)}}(),me=function(){var e=(0,n.default)((function*(){console.log("participants",r);try{var e=`${D}/paires/formerPaireParClassementDouble`,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},n=yield fetch(e,t),o=yield n.json();console.log("Donn\xe9es re\xe7ues du serveur:",o)}catch(i){console.error("Erreur lors de la cr\xe9ation des paires:",i)}}));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,n.default)((function*(){try{var e=`${D}/poule/creerPoules`,t=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"}}),r=yield t.json();m(JSON.stringify(r,null,2))}catch(n){console.error("Erreur lors de la cr\xe9ation des poules:",n),m("Erreur lors de la cr\xe9ation des poules")}}));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,n.default)((function*(){try{var e=`${D}/poule/recupererPoules`,t=yield fetch(e),r=yield t.json(),n=(0,ge.default)(new Set(r.map((function(e){return e.poule}))));v(n)}catch(o){console.error("Erreur lors de la r\xe9cup\xe9ration des poules:",o)}}));return function(){return e.apply(this,arguments)}}();var we,Ce=function(){var e=(0,n.default)((function*(){try{var e=yield d.default.getItem("userToken");if(!e)return void console.error("page match : Token non trouv\xe9");var t=yield fetch(`${D}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();r.success?_(r.user):console.error("Rat\xe9 pour fetch user info page match:",r.message)}catch(n){console.error("Erreur pour fetch les info des users:",n)}}));return function(){return e.apply(this,arguments)}}(),Oe=function(e,t,r,n){var o=F&&e===F.prenom&&t===F.nom,i=o?[xe.playerName,xe.highlightedUser]:xe.playerName;return(0,g.jsxs)(c.default,{style:xe.nameContainer,children:[(0,g.jsxs)(f.default,{style:i,children:[e," ",t]}),(0,g.jsxs)(f.default,{style:xe.doubleText,children:[" (",r,")"]}),o&&(0,g.jsx)(h.default,{style:xe.touchableArea,onPress:function(){return ke(n,e,t)}})]})},Se=function(){var e=(0,n.default)((function*(){try{var e=`${D}/match/creerMatchs`,t=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"}}),r=yield t.json();m(JSON.stringify(r,null,2)),Te(),yield Ce()}catch(n){console.error("Erreur lors de la cr\xe9ation des matchs:",n),m("Erreur lors de la cr\xe9ation des matchs")}}));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=(0,n.default)((function*(){try{var e=`${D}/match/recupererMatchs`,t=yield fetch(e),r=yield t.json();console.log("Fetched matches data:",r),T(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des matchs:",n)}}));return function(){return e.apply(this,arguments)}}(),Pe=(function(){var e=(0,n.default)((function*(e){try{var t=yield fetch(`${D}/getEventStatus/${e}`),r=yield t.json();"Tous niveau"===r?(yield he(),console.log("\xc9v\xe9nement cr\xe9\xe9 al\xe9atoirement")):"par niveau"===r&&(yield me(),console.log("\xc9v\xe9nement cr\xe9\xe9 par classement")),yield je(),yield Se()}catch(n){console.error("Error in handleToutCreer: ",n)}}))}(),function(){var e=(0,n.default)((function*(e,t,r,n){console.log("Reporting match result with:",{matchId:e,userId:t,didWin:r,event_id:n});try{var o={match_id:e,user_id:t,victoire:r?1:0,defaite:r?0:1,event_id:n};console.log(o);var i=yield fetch(`${D}/resultat/report-match-result`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),l=yield i.json();i.ok?(console.log(l.message),console.log(o),alert(l.message)):(console.error(l.message),alert(l.message))}catch(a){console.error("erreur lors de l'encodage des resultats du match ",a)}}));return function(t,r,n,o){return e.apply(this,arguments)}}()),ke=function(e,t,r){var n=S.find((function(t){return t.match_id===e}));console.log("Selected match details:",n),n&&F&&t===F.prenom&&r===F.nom?(re(n.event_id),fetch(`${D}/resultat/check-match-result?match_id=${e}&user_id=${F.id}`).then((function(e){return e.json()})).then((function(t){t.resultExists?(N((0,g.jsxs)(f.default,{children:["Tu as d\xe9j\xe0 enregistr\xe9 un r\xe9sultat pour ce match en tant que",(0,g.jsx)(f.default,{style:{color:t.victory?"green":"red"},children:t.victory?" victoire":" d\xe9faite"}),". Veux-tu le modifier ?"]})),G(e),X(!t.victory),$(!0)):(de("As-tu gagn\xe9 ce match ?"),G(e),le(!0))})).catch((function(e){console.error("Erreur lors de la v\xe9rification du r\xe9sultat du match",e)}))):console.error("Erreur :  Match non trouv\xe9 ou L'utilisateur connect\xe9 ne correspond pas.")};return(0,g.jsxs)(P.default,{style:xe.container,children:[(0,g.jsx)(c.default,{style:xe.pickerContainer,children:(0,g.jsxs)(ye.Picker,{selectedValue:B,onValueChange:function(e,t){return E(e)},style:xe.picker,children:[(0,g.jsx)(ye.Picker.Item,{label:"Toutes les poules",value:"all"}),j.map((function(e,t){return(0,g.jsx)(ye.Picker.Item,{label:`Poule ${e}`,value:e},t)}))]})}),(0,g.jsxs)(c.default,{children:[(0,g.jsx)(f.default,{style:xe.subtitle,children:"Matchs"}),S.length>0&&(0,g.jsxs)(g.Fragment,{children:[S.map((function(e,t){return(0,g.jsx)(c.default,{},e.match_id)})),(0,g.jsxs)(f.default,{style:xe.dateCellbas,children:["Date: ",(we=S[0].event_date,new Date(we).toLocaleDateString(void 0,{day:"numeric",month:"numeric"}))," - Heure: ",S[0].event_time]})]})]}),(0,g.jsx)(c.default,{children:function(){var e=function(e){return e.reduce((function(e,t){return e[t.poule_id]||(e[t.poule_id]=[]),e[t.poule_id].push(t),e}),{})}(S);return("all"===B?Object.keys(e):[B]).map((function(t){return(0,g.jsxs)(c.default,{style:xe.pouleTableContainer,children:[(0,g.jsxs)(f.default,{style:xe.pouleTitle,children:["Poule ",t]}),(0,g.jsx)(f.default,{}),(0,g.jsxs)(c.default,{style:xe.headerRow,children:[(0,g.jsx)(f.default,{style:xe.teamHeader,children:"\xc9QUIPE 1"}),(0,g.jsx)(f.default,{style:xe.vsHeader,children:"VS"}),(0,g.jsx)(f.default,{style:xe.teamHeader,children:"\xc9QUIPE 2"})]}),e[t].map((function(e,t){return(0,g.jsxs)(c.default,{style:[xe.row,t%2?xe.rowEven:xe.rowOdd],children:[(0,g.jsxs)(c.default,{style:xe.teamColumn,children:[Oe(e.user1_prenom_paire1,e.user1_nom_paire1,e.user1_double,e.match_id),Oe(e.user2_prenom_paire1,e.user2_nom_paire1,e.user2_double,e.match_id)]}),(0,g.jsx)(f.default,{style:xe.vsColumn,children:"VS"}),(0,g.jsxs)(c.default,{style:xe.teamColumn,children:[Oe(e.user1_prenom_paire2,e.user1_nom_paire2,e.user3_double,e.match_id),Oe(e.user2_prenom_paire2,e.user2_nom_paire2,e.user4_double,e.match_id)]})]},e.match_id)}))]},t)}))}()}),(0,g.jsx)(ce,{isVisible:W,message:M,onConfirm:function(){Pe(J,F.id,Q,te),$(!1)},onCancel:function(){return $(!1)},confirmText:"Oui",cancelText:"Non",onClose:function(){return $(!1)}}),(0,g.jsx)(ce,{isVisible:ie,message:ue,onConfirm:function(){Pe(J,F.id,!0,te),le(!1)},onCancel:function(){Pe(J,F.id,!1,te),le(!1)},confirmText:"Oui",cancelText:"Non",onClose:function(){return le(!1)}})]})};var ve=p.default.create({container:{flex:1,backgroundColor:"#f4f4f4",padding:20,marginTop:40},title:{fontSize:24,fontWeight:"bold",color:"#123e53",marginBottom:20,marginTop:20,textAlign:"center"},searchBox:{fontSize:16,backgroundColor:"#fff",padding:10,borderRadius:20,marginBottom:20,borderWidth:1,borderColor:"#ddd",shadowColor:"#000",shadowOpacity:.1,shadowRadius:5,shadowOffset:{width:0,height:2}},joueurItem:{backgroundColor:"#fff",marginBottom:15,padding:15,borderRadius:10,shadowColor:"#000",shadowOpacity:.1,shadowRadius:6,shadowOffset:{width:0,height:2}},joueurNom:{fontSize:18,fontWeight:"bold",color:"#333",marginBottom:5},joueurVictoires:{fontSize:16,color:"green"},joueurDefaites:{fontSize:16,color:"red"},joueurConnecte:{color:"#890936",fontWeight:"bold"},pickerContainer:{backgroundColor:"#f2f2f2",borderRadius:10,borderWidth:1,borderColor:"#dcdcdc",shadowColor:"#000",shadowOpacity:.2,shadowRadius:3,shadowOffset:{width:0,height:2},paddingBottom:-10,paddingTop:-10},picker:{color:"#333",fontSize:16,marginTop:-10}});const we=function(){var e=(0,i.useState)([]),t=(0,x.default)(e,2),r=t[0],o=t[1],l=(0,i.useState)(""),a=(0,x.default)(l,2),s=a[0],u=a[1],p=(0,i.useState)(null),m=(0,x.default)(p,2),y=m[0],b=m[1],j=(0,i.useState)(null),v=(0,x.default)(j,2),C=v[0],S=v[1],T=w().setIsSignedIn,k=(0,i.useState)(null),I=(0,x.default)(k,2),B=I[0],E=I[1],z=(0,i.useState)([]),R=(0,x.default)(z,2),F=R[0],_=R[1];(0,i.useEffect)((function(){V(),W();var e=setInterval((function(){W(),V()}),3e5);return function(){return clearInterval(e)}}),[]);var V=function(){var e=(0,n.default)((function*(){try{console.log("Fetching joueurs from:",`${D}/resultat/joueurs_resultats`);var e=yield fetch(`${D}/resultat/joueurs_resultats`),t=yield e.json();Array.isArray(t)?o(t):(console.error("La r\xe9ponse n'est pas un tableau:",t),o([])),console.log("data joueurs",t);var r=(0,ge.default)(new Set(t.map((function(e){return e.date}))));_(r),console.log(r)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des joueurs:",n)}}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,n.default)((function*(e){try{var t=yield fetch(`${D}/resultat/joueurs_resultatsPardate/${e}`),r=yield t.json();console.log("avec date",r),Array.isArray(r)?o(r):o([])}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des joueurs:",n)}}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=(0,n.default)((function*(){try{var e=yield d.default.getItem("userToken");if(!e)return void console.error("Page joueur : Token non trouv\xe9");var t=yield fetch(`${D}/user_tokens/get-user-info`,{headers:{Authorization:`Bearer ${e}`}}),r=yield t.json();r.success&&S(r.user)}catch(n){console.error("Erreur lors de la r\xe9cup\xe9ration des informations de l'utilisateur:",n),T(!1)}}));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(c.default,{style:ve.container,children:[(0,g.jsx)(c.default,{style:ve.pickerContainer,children:(0,g.jsxs)(ye.Picker,{selectedValue:B,onValueChange:function(e,t){return r=e,console.log("Date selected: ",r),E(r),void("Toutes les dates confondues"===r||null===r?(console.log("Fetching all joueurs..."),V()):(console.log("Fetching joueurs for date: ",r),H(r)));var r},style:ve.picker,children:[(0,g.jsx)(ye.Picker.Item,{label:"Toutes les dates confondues",value:null}),F.map((function(e,t){return(0,g.jsx)(ye.Picker.Item,{label:new Date(e).toISOString().split("T")[0],value:e},t)}))]})}),(0,g.jsx)(f.default,{style:ve.title,children:"R\xe9sultats"}),(0,g.jsx)(O.default,{style:ve.searchBox,onChangeText:function(e){if(u(e),e.trim()){var t=r.filter((function(t){return`${t.prenom.toLowerCase()} ${t.nom.toLowerCase()}`.includes(e.toLowerCase())}));o(t)}else V()},value:s,placeholder:"Rechercher un joueur"}),(0,g.jsx)(P.default,{children:r.map((function(e,t){return(0,g.jsxs)(h.default,{style:ve.joueurItem,onPress:function(){return t=e.user_id,void b(y===t?null:t);var t},children:[(0,g.jsxs)(f.default,{style:[ve.joueurNom,e.user_id===(null==C?void 0:C.id)&&ve.joueurConnecte],children:[e.prenom," ",e.nom]}),y===e.user_id&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(f.default,{style:ve.joueurVictoires,children:["Victoires : ",e.total_victoires]}),(0,g.jsxs)(f.default,{style:ve.joueurDefaites,children:["D\xe9faites : ",e.total_defaites]})]})]},t)}))})]})};var Ce=r(4396),Oe=r.n(Ce);r(78573);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Oe().locale("fr");var Pe=p.default.create({inputIOS:{fontSize:16,paddingVertical:12,paddingHorizontal:10,borderWidth:1,borderColor:"gray",borderRadius:4,color:"black",paddingRight:30},inputAndroid:{fontSize:16,paddingHorizontal:10,paddingVertical:8,borderWidth:.5,borderColor:"purple",borderRadius:8,color:"black",paddingRight:30}}),ke=p.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#eef2f3",padding:20,paddingTop:30,marginTop:40},header:{fontSize:24,fontWeight:"bold",color:"#305f72",marginBottom:30,letterSpacing:1,textShadowColor:"rgba(0, 0, 0, 0.2)",textShadowOffset:{width:0,height:1},textShadowRadius:10},card:{backgroundColor:"#ffffff",borderRadius:15,paddingVertical:20,paddingHorizontal:15,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:3,elevation:3,width:"100%",marginBottom:20},inputTitle:{fontSize:16,fontWeight:"600",color:"#467c86",marginBottom:10},input:{height:40,borderColor:"#b0c4de",borderWidth:1,borderRadius:10,paddingHorizontal:10,marginBottom:10},button:{backgroundColor:"#467c86",borderRadius:20,paddingVertical:12,paddingHorizontal:25,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:6,marginTop:15},buttonText:{color:"#ffffff",fontSize:18,fontWeight:"bold"}});const Ie=function(e){var t,r=e.route,o=e.navigation,l=(0,i.useState)({}),a=(0,x.default)(l,2),s=(a[0],a[1]),u=(0,i.useState)({title:"",status:"Tous niveau",date:"",heure:""}),d=(0,x.default)(u,2),p=d[0],m=d[1],y=(0,i.useState)(!1),b=(0,x.default)(y,2),j=b[0],v=b[1],w=(0,i.useState)(!1),C=(0,x.default)(w,2),T=C[0],B=C[1],E=(null!=(t=r.params)?t:{}).eventId,R=(0,i.useState)(""),F=(0,x.default)(R,2),_=F[0],V=F[1],H=(0,i.useState)(""),W=(0,x.default)(H,2),$=W[0],L=W[1];(0,i.useEffect)((function(){E||("web"===I.default.OS?window.alert("\xc9v\xe9nement manquant : Aucun identifiant d'\xe9v\xe9nement sp\xe9cifi\xe9. Veuillez s\xe9lectionner un \xe9v\xe9nement."):S.default.alert("\xc9v\xe9nement manquant","Aucun identifiant d'\xe9v\xe9nement sp\xe9cifi\xe9. Veuillez s\xe9lectionner un \xe9v\xe9nement.",[{text:"OK",onPress:function(){return o.navigate("Calendrier")}}]))}),[E,o]);var A=function(){v(!1)},M=function(){B(!1)},q=(function(){var e=(0,n.default)((function*(){try{var e=yield N.default.get(`${D}/event/calendar/${E}`);s(e.data),m(e.data)}catch(t){"web"===I.default.OS?window.alert("Erreur de Chargement : Une erreur s'est produite lors de la r\xe9cup\xe9ration de l'\xe9v\xe9nement. Veuillez r\xe9essayer."):S.default.alert("Erreur de Chargement","Une erreur s'est produite lors de la r\xe9cup\xe9ration de l'\xe9v\xe9nement. Veuillez r\xe9essayer.",[{text:"OK",onPress:function(){return o.goBack()}}])}}))}(),function(){var e=(0,n.default)((function*(){try{yield N.default.put(`${D}/event/modifier/${E}`,p),"web"===I.default.OS?window.alert("Succ\xe8s : \xc9v\xe9nement mis \xe0 jour avec succ\xe8s."):S.default.alert("Succ\xe8s","\xc9v\xe9nement mis \xe0 jour avec succ\xe8s."),o.goBack()}catch(e){console.error("Erreur lors de la mise \xe0 jour de l'\xe9v\xe9nement",e),"web"===I.default.OS?window.alert("Erreur : Une erreur s'est produite lors de la mise \xe0 jour de l'\xe9v\xe9nement."):S.default.alert("Erreur","Une erreur s'est produite lors de la mise \xe0 jour de l'\xe9v\xe9nement.")}}));return function(){return e.apply(this,arguments)}}()),U=function(){var e=(0,n.default)((function*(){try{yield N.default.delete(`${D}/event/supprimer/${E}`),"web"===I.default.OS?window.alert("Succ\xe8s : \xc9v\xe9nement supprim\xe9 avec succ\xe8s."):S.default.alert("Succ\xe8s","\xc9v\xe9nement supprim\xe9 avec succ\xe8s."),o.goBack()}catch(e){console.error("Erreur lors de la suppression de l'\xe9v\xe9nement",e),"web"===I.default.OS?window.alert("Erreur : Une erreur s'est produite lors de la suppression de l'\xe9v\xe9nement."):S.default.alert("Erreur","Une erreur s'est produite lors de la suppression de l'\xe9v\xe9nement.")}}));return function(){return e.apply(this,arguments)}}();return(0,g.jsx)(k.default,{behavior:"ios"===I.default.OS?"padding":"height",style:{flex:1},children:(0,g.jsx)(P.default,{children:(0,g.jsxs)(c.default,{style:ke.container,children:[(0,g.jsxs)(f.default,{style:ke.header,children:["Modifier l'\xe9v\xe9nement : ",E," "]}),(0,g.jsxs)(c.default,{style:ke.card,children:[(0,g.jsx)(f.default,{style:ke.inputTitle,children:"Titre :"}),(0,g.jsx)(O.default,{style:ke.input,value:p.title,onChangeText:function(e){return m(Te(Te({},p),{},{title:e}))}})]}),(0,g.jsxs)(c.default,{style:ke.card,children:[(0,g.jsx)(f.default,{style:ke.inputTitle,children:"Date :"}),"web"===I.default.OS?(0,g.jsx)("input",{type:"date",value:_,onChange:function(e){V(e.target.value),m(Te(Te({},p),{},{date:e.target.value}))},style:ke.input}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(O.default,{style:ke.input,value:p.date,onFocus:function(){v(!0)}}),(0,g.jsx)(G.default,{isVisible:j,mode:"date",onConfirm:function(e){A();var t=e.toISOString().split("T")[0];m(Te(Te({},p),{},{date:t}))},onCancel:A,textColor:"black"})]})]}),(0,g.jsxs)(c.default,{style:ke.card,children:[(0,g.jsx)(f.default,{style:ke.inputTitle,children:"Heure :"}),"web"===I.default.OS?(0,g.jsx)("input",{type:"time",value:$,onChange:function(e){L(e.target.value);var t=Oe()(e.target.value,"HH:mm").format("HH:mm");m(Te(Te({},p),{},{heure:t}))},style:ke.input}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(O.default,{style:ke.input,value:p.heure,onFocus:function(){B(!0)},textColor:"black"}),(0,g.jsx)(G.default,{isVisible:T,mode:"time",onConfirm:function(e){M();var t=Oe()(e).format("HH:mm");m(Te(Te({},p),{},{heure:t}))},onCancel:M,textColor:"black",locale:"fr-FR"})]})]}),(0,g.jsxs)(c.default,{style:ke.card,children:[(0,g.jsx)(f.default,{style:ke.inputTitle,children:"Status :"}),(0,g.jsx)(z.default,{style:Pe,value:p.status,onValueChange:function(e){return m(Te(Te({},p),{},{status:e}))},items:[{label:"Tous niveau",value:"Tous niveau"},{label:"Par niveau",value:"Par niveau"}]})]}),(0,g.jsx)(h.default,{style:ke.button,onPress:q,children:(0,g.jsx)(f.default,{style:ke.buttonText,children:"Enregistrer les modifications"})}),(0,g.jsx)(h.default,{style:ke.button,onPress:function(){"web"===I.default.OS?window.confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9v\xe9nement ? Cela entra\xeenera la suppression des participations des joueurs.")&&U():S.default.alert("Confirmer la suppression","\xcates-vous s\xfbr de vouloir supprimer cet \xe9v\xe9nement ? Cela entra\xeenera la suppression des participations des joueurs.",[{text:"Annuler",style:"cancel"},{text:"Supprimer",onPress:function(){return U()}}])},children:(0,g.jsx)(f.default,{style:ke.buttonText,children:"Supprimer l'\xe9v\xe9nement"})})]})})})};var Be=r(60373);function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ze=function(e){return(0,g.jsx)(Be.default,Ee(Ee({height:"19",width:"19",viewBox:"0 0 448 512"},e),{},{children:(0,g.jsx)(Be.Path,{d:"M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z",fill:"#1E3050",opacity:"1"})}))};function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const _e=function(e){return(0,g.jsx)(Be.default,Fe(Fe({height:"24",width:"24",viewBox:"0 -960 960 960"},e),{},{children:(0,g.jsx)(Be.Path,{d:"M440-82q-76-8-141.5-41.5t-114-87Q136-264 108-333T80-480q0-91 36.5-168T216-780h-96v-80h240v240h-80v-109q-55 44-87.5 108.5T160-480q0 123 80.5 212.5T440-163v81Zm-17-214L254-466l56-56 113 113 227-227 56 57-283 283Zm177 196v-240h80v109q55-45 87.5-109T800-480q0-123-80.5-212.5T520-797v-81q152 15 256 128t104 270q0 91-36.5 168T744-180h96v80H600Z"})}))};function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const We=function(e){return(0,g.jsx)(Be.default,He(He({height:"16",width:"20",viewBox:"0 0 640 512"},e),{},{children:(0,g.jsx)(Be.Path,{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z",fill:"#1E3050",opacity:"1"})}))};function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ae=function(e){return(0,g.jsxs)(Be.default,Le(Le({height:"31",width:"31",viewBox:"0 0 52.045 52.045"},e),{},{children:[(0,g.jsx)(Be.Path,{fill:"#010002",d:"M38.29,18.097c-2.103,1.605-4.333,2.987-6.616,4.298c-0.836-0.78-1.963-1.156-3.259-0.809 c-1.198,0.321-2.302,1.43-2.634,2.688c-1.442,0.184-2.891,0.338-4.339,0.467c-0.145-2.148-0.114-4.364,0.438-6.396 c0.47-1.726-1.319-2.728-2.604-2.266l-1.989-6.378c2.013-0.886,3.006-3.466,2.222-5.978c-0.833-2.669-3.357-4.263-5.629-3.555 c-2.271,0.708-3.441,3.456-2.609,6.125c0.791,2.534,3.108,4.096,5.284,3.64l2.054,6.585c-0.192,0.207-0.347,0.468-0.439,0.804 c-0.824,3.035-0.724,6.381-0.388,9.488c0.105,0.979,0.795,2.007,1.923,1.924c2.29-0.171,4.575-0.414,6.853-0.711 c0.888,2.934,1.182,5.893,0.838,9c-1.865,1.018-3.954,1.307-6.09,0.934c-3.031-0.531-4.328,4.104-1.279,4.637 c3.056,0.535,6.162,0.35,8.934-0.959c-1.121,2.893-3.479,4.779-7.029,5.687c-3.004,0.767-1.729,5.401,1.277,4.638 c7.031-1.793,11.008-6.921,11.311-14.117c0.015-0.08,0.027-0.158,0.039-0.239c0.525-3.96,0.104-7.99-1.123-11.778 c2.347-1.342,4.641-2.753,6.795-4.402C42.174,19.933,40.262,16.59,38.29,18.097z M11.949,6.082 c-0.718-2.294,0.245-4.644,2.143-5.236c1.899-0.592,4.026,0.793,4.741,3.089c0.716,2.295-0.247,4.644-2.144,5.237 C14.789,9.764,12.664,8.377,11.949,6.082z"}),(0,g.jsx)(Be.Circle,{fill:"#010002",cx:"29.322",cy:"16.595",r:"4.167"}),(0,g.jsx)(Be.Polygon,{fill:"#010002",points:"38.779,4.145 34.931,5.347 34.931,6.786 38.779,7.748"})]}))};function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const qe=function(e){return(0,g.jsx)(Be.default,Ne(Ne({height:"25",width:"25",viewBox:"0 0 32 32"},e),{},{children:(0,g.jsx)(Be.G,{children:(0,g.jsxs)(Be.G,{id:"Statistic",children:[(0,g.jsx)(Be.Line,{fill:"none",stroke:"#1D1D1B",strokeMiterlimit:"10",x1:"2.9",x2:"29.1",y1:"26.6",y2:"26.6"}),(0,g.jsx)(Be.Rect,{fill:"#1D1D1B",height:"12.6",stroke:"#1D1D1B",strokeMiterlimit:"10",width:"3.8",x:"6.8",y:"14"}),(0,g.jsx)(Be.Rect,{fill:"#1D1D1B",height:"16.2",stroke:"#1D1D1B",strokeMiterlimit:"10",width:"3.8",x:"14.1",y:"10.4"}),(0,g.jsx)(Be.Rect,{fill:"#1D1D1B",height:"19.9",stroke:"#1D1D1B",strokeMiterlimit:"10",width:"3.8",x:"21.4",y:"6.7"})]})})}))};function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ge=(0,a.default)(),Ze=(0,u.default)();function Ke(){return(0,g.jsxs)(Ge.Navigator,{screenOptions:Je(Je({},s.ModalPresentationIOS),{},{headerStyle:{backgroundColor:"#467c86"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"},headerShown:!1}),children:[(0,g.jsx)(Ge.Screen,{name:"Login",component:ae}),(0,g.jsx)(Ge.Screen,{name:"Inscription",component:F}),(0,g.jsx)(Ge.Screen,{name:"PrivacyPolicy",component:y,options:{title:"CGU et Politique de Confidentialit\xe9"}})]})}function Qe(){var e=w().userRole;return(0,g.jsxs)(Ze.Navigator,{children:[(0,g.jsx)(Ze.Screen,{name:"Calendrier",component:le,options:{cardStyle:{marginTop:110},tabBarLabel:"Calendrier",tabBarIcon:function(e){e.color,e.size;return(0,g.jsx)(ze,{size:24,height:24,color:"black"})},headerShown:!1}}),"joueur"===e&&(0,g.jsx)(Ze.Screen,{name:"Match",component:je,options:{tabBarLabel:"Match",tabBarIcon:function(e){e.color,e.size;return(0,g.jsx)(Ae,{name:"badminton",size:24,color:"black"})},headerShown:!1}}),"joueur"===e&&(0,g.jsx)(Ze.Screen,{name:"Joueurs",component:we,options:{tabBarLabel:"R\xe9sultats",tabBarIcon:function(e){e.color,e.size;return(0,g.jsx)(qe,{name:"format-list-bulleted",size:24,color:"black"})},headerShown:!1}}),(0,g.jsx)(Ze.Screen,{name:"Profil",component:me,options:{tabBarLabel:"Profil",tabBarIcon:function(e){e.color,e.size;return(0,g.jsx)(We,{name:"account-edit",size:24,color:"black"})},headerShown:!1}}),"admin"===e&&(0,g.jsx)(Ze.Screen,{name:"Gestion d'\xe9venement",component:Ie,options:{tabBarLabel:"Gestion d'\xe9venements",tabBarIcon:function(e){e.color,e.size;return(0,g.jsx)(_e,{name:"published-with-changes",size:24,color:"black"})},headerShown:!1}})]})}function Xe(){return(0,g.jsx)(v,{children:(0,g.jsx)(et,{})})}var Ye=function(){var e=(0,n.default)((function*(e){try{var t=yield fetch(`${D}/user_tokens/get-user-info`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=yield t.json();if(t.ok)return console.log("role",r.user.role,": prenom",r.user.prenom),r.user.role;throw new Error(r.message||"Impossible de r\xe9cup\xe9rer le r\xf4le de l'utilisateur.")}catch(n){return console.error("Erreur lors de la r\xe9cup\xe9ration du r\xf4le de l'utilisateur:",n),null}}));return function(t){return e.apply(this,arguments)}}();function et(){var e=w(),t=e.isSignedIn,r=e.setIsSignedIn,o=e.setUserRole,a=e.userRole;return(0,i.useEffect)((function(){var e=function(){var e=(0,n.default)((function*(){var e=yield d.default.getItem("userToken");if(e){r(!0);var t=yield Ye(e);o(t)}else r(!1)}));return function(){return e.apply(this,arguments)}}();e()}),[t,r,o,a]),(0,g.jsx)(l.default,{children:t?(0,g.jsx)(Qe,{}):(0,g.jsx)(Ke,{})})}},47631:(e,t,r)=>{var n={"./fr":78573,"./fr-ca":6805,"./fr-ca.js":6805,"./fr-ch":74170,"./fr-ch.js":74170,"./fr.js":78573};function o(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=47631}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,i)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,o,i]=e[d],a=!0,s=0;s<n.length;s++)(!1&i||l>=i)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(a=!1,i<l&&(l=i));if(a){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var l={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>l[e]=()=>n[e]));return l.default=()=>n,r.d(i,l),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[l,a,s]=n,u=0;if(l.some((t=>0!==e[t]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(s)var d=s(r)}for(t&&t(n);u<l.length;u++)i=l[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[562],(()=>r(14431)));n=r.O(n)})();
//# sourceMappingURL=main.f05884a6.js.map